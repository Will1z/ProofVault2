function l5(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var jt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function SA(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var kA={exports:{}},Mp={},EA={exports:{}},nn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _d=Symbol.for("react.element"),c5=Symbol.for("react.portal"),u5=Symbol.for("react.fragment"),d5=Symbol.for("react.strict_mode"),h5=Symbol.for("react.profiler"),f5=Symbol.for("react.provider"),p5=Symbol.for("react.context"),m5=Symbol.for("react.forward_ref"),g5=Symbol.for("react.suspense"),x5=Symbol.for("react.memo"),y5=Symbol.for("react.lazy"),Y_=Symbol.iterator;function v5(t){return t===null||typeof t!="object"?null:(t=Y_&&t[Y_]||t["@@iterator"],typeof t=="function"?t:null)}var AA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CA=Object.assign,jA={};function vc(t,e,n){this.props=t,this.context=e,this.refs=jA,this.updater=n||AA}vc.prototype.isReactComponent={};vc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function TA(){}TA.prototype=vc.prototype;function xw(t,e,n){this.props=t,this.context=e,this.refs=jA,this.updater=n||AA}var yw=xw.prototype=new TA;yw.constructor=xw;CA(yw,vc.prototype);yw.isPureReactComponent=!0;var X_=Array.isArray,PA=Object.prototype.hasOwnProperty,vw={current:null},FA={key:!0,ref:!0,__self:!0,__source:!0};function NA(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)PA.call(e,r)&&!FA.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:_d,type:t,key:s,ref:o,props:i,_owner:vw.current}}function w5(t,e){return{$$typeof:_d,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ww(t){return typeof t=="object"&&t!==null&&t.$$typeof===_d}function b5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var J_=/\/+/g;function Sg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?b5(""+t.key):e.toString(36)}function ff(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case _d:case c5:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Sg(o,0):r,X_(i)?(n="",t!=null&&(n=t.replace(J_,"$&/")+"/"),ff(i,e,n,"",function(h){return h})):i!=null&&(ww(i)&&(i=w5(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(J_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",X_(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+Sg(s,l);o+=ff(s,e,n,u,i)}else if(u=v5(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+Sg(s,l++),o+=ff(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ah(t,e,n){if(t==null)return t;var r=[],i=0;return ff(t,r,"","",function(s){return e.call(n,s,i++)}),r}function _5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qr={current:null},pf={transition:null},S5={ReactCurrentDispatcher:qr,ReactCurrentBatchConfig:pf,ReactCurrentOwner:vw};function RA(){throw Error("act(...) is not supported in production builds of React.")}nn.Children={map:Ah,forEach:function(t,e,n){Ah(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ah(t,function(){e++}),e},toArray:function(t){return Ah(t,function(e){return e})||[]},only:function(t){if(!ww(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};nn.Component=vc;nn.Fragment=u5;nn.Profiler=h5;nn.PureComponent=xw;nn.StrictMode=d5;nn.Suspense=g5;nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S5;nn.act=RA;nn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=CA({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=vw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)PA.call(e,u)&&!FA.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:_d,type:t.type,key:i,ref:s,props:r,_owner:o}};nn.createContext=function(t){return t={$$typeof:p5,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:f5,_context:t},t.Consumer=t};nn.createElement=NA;nn.createFactory=function(t){var e=NA.bind(null,t);return e.type=t,e};nn.createRef=function(){return{current:null}};nn.forwardRef=function(t){return{$$typeof:m5,render:t}};nn.isValidElement=ww;nn.lazy=function(t){return{$$typeof:y5,_payload:{_status:-1,_result:t},_init:_5}};nn.memo=function(t,e){return{$$typeof:x5,type:t,compare:e===void 0?null:e}};nn.startTransition=function(t){var e=pf.transition;pf.transition={};try{t()}finally{pf.transition=e}};nn.unstable_act=RA;nn.useCallback=function(t,e){return qr.current.useCallback(t,e)};nn.useContext=function(t){return qr.current.useContext(t)};nn.useDebugValue=function(){};nn.useDeferredValue=function(t){return qr.current.useDeferredValue(t)};nn.useEffect=function(t,e){return qr.current.useEffect(t,e)};nn.useId=function(){return qr.current.useId()};nn.useImperativeHandle=function(t,e,n){return qr.current.useImperativeHandle(t,e,n)};nn.useInsertionEffect=function(t,e){return qr.current.useInsertionEffect(t,e)};nn.useLayoutEffect=function(t,e){return qr.current.useLayoutEffect(t,e)};nn.useMemo=function(t,e){return qr.current.useMemo(t,e)};nn.useReducer=function(t,e,n){return qr.current.useReducer(t,e,n)};nn.useRef=function(t){return qr.current.useRef(t)};nn.useState=function(t){return qr.current.useState(t)};nn.useSyncExternalStore=function(t,e,n){return qr.current.useSyncExternalStore(t,e,n)};nn.useTransition=function(){return qr.current.useTransition()};nn.version="18.3.1";EA.exports=nn;var Y=EA.exports;const Do=zo(Y),k5=l5({__proto__:null,default:Do},[Y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E5=Y,A5=Symbol.for("react.element"),C5=Symbol.for("react.fragment"),j5=Object.prototype.hasOwnProperty,T5=E5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P5={key:!0,ref:!0,__self:!0,__source:!0};function BA(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)j5.call(e,r)&&!P5.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:A5,type:t,key:s,ref:o,props:i,_owner:T5.current}}Mp.Fragment=C5;Mp.jsx=BA;Mp.jsxs=BA;kA.exports=Mp;var c=kA.exports,DA={exports:{}},gi={},IA={exports:{}},LA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(me,ge){var fe=me.length;me.push(ge);e:for(;0<fe;){var le=fe-1>>>1,pe=me[le];if(0<i(pe,ge))me[le]=ge,me[fe]=pe,fe=le;else break e}}function n(me){return me.length===0?null:me[0]}function r(me){if(me.length===0)return null;var ge=me[0],fe=me.pop();if(fe!==ge){me[0]=fe;e:for(var le=0,pe=me.length,be=pe>>>1;le<be;){var ie=2*(le+1)-1,Te=me[ie],Le=ie+1,Ze=me[Le];if(0>i(Te,fe))Le<pe&&0>i(Ze,Te)?(me[le]=Ze,me[Le]=fe,le=Le):(me[le]=Te,me[ie]=fe,le=ie);else if(Le<pe&&0>i(Ze,fe))me[le]=Ze,me[Le]=fe,le=Le;else break e}}return ge}function i(me,ge){var fe=me.sortIndex-ge.sortIndex;return fe!==0?fe:me.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],h=[],f=1,p=null,g=3,y=!1,_=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(me){for(var ge=n(h);ge!==null;){if(ge.callback===null)r(h);else if(ge.startTime<=me)r(h),ge.sortIndex=ge.expirationTime,e(u,ge);else break;ge=n(h)}}function C(me){if(w=!1,v(me),!_)if(n(u)!==null)_=!0,Ee(F);else{var ge=n(h);ge!==null&&Ne(C,ge.startTime-me)}}function F(me,ge){_=!1,w&&(w=!1,k(z),z=-1),y=!0;var fe=g;try{for(v(ge),p=n(u);p!==null&&(!(p.expirationTime>ge)||me&&!X());){var le=p.callback;if(typeof le=="function"){p.callback=null,g=p.priorityLevel;var pe=le(p.expirationTime<=ge);ge=t.unstable_now(),typeof pe=="function"?p.callback=pe:p===n(u)&&r(u),v(ge)}else r(u);p=n(u)}if(p!==null)var be=!0;else{var ie=n(h);ie!==null&&Ne(C,ie.startTime-ge),be=!1}return be}finally{p=null,g=fe,y=!1}}var j=!1,R=null,z=-1,Q=5,$=-1;function X(){return!(t.unstable_now()-$<Q)}function te(){if(R!==null){var me=t.unstable_now();$=me;var ge=!0;try{ge=R(!0,me)}finally{ge?ae():(j=!1,R=null)}}else j=!1}var ae;if(typeof x=="function")ae=function(){x(te)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,he=Ae.port2;Ae.port1.onmessage=te,ae=function(){he.postMessage(null)}}else ae=function(){b(te,0)};function Ee(me){R=me,j||(j=!0,ae())}function Ne(me,ge){z=b(function(){me(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(me){me.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,Ee(F))},t.unstable_forceFrameRate=function(me){0>me||125<me?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<me?Math.floor(1e3/me):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(me){switch(g){case 1:case 2:case 3:var ge=3;break;default:ge=g}var fe=g;g=ge;try{return me()}finally{g=fe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(me,ge){switch(me){case 1:case 2:case 3:case 4:case 5:break;default:me=3}var fe=g;g=me;try{return ge()}finally{g=fe}},t.unstable_scheduleCallback=function(me,ge,fe){var le=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?le+fe:le):fe=le,me){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=fe+pe,me={id:f++,callback:ge,priorityLevel:me,startTime:fe,expirationTime:pe,sortIndex:-1},fe>le?(me.sortIndex=fe,e(h,me),n(u)===null&&me===n(h)&&(w?(k(z),z=-1):w=!0,Ne(C,fe-le))):(me.sortIndex=pe,e(u,me),_||y||(_=!0,Ee(F))),me},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(me){var ge=g;return function(){var fe=g;g=ge;try{return me.apply(this,arguments)}finally{g=fe}}}})(LA);IA.exports=LA;var F5=IA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N5=Y,pi=F5;function et(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var MA=new Set,Vu={};function Va(t,e){nc(t,e),nc(t+"Capture",e)}function nc(t,e){for(Vu[t]=e,t=0;t<e.length;t++)MA.add(e[t])}var Vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wy=Object.prototype.hasOwnProperty,R5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Q_={},e2={};function B5(t){return wy.call(e2,t)?!0:wy.call(Q_,t)?!1:R5.test(t)?e2[t]=!0:(Q_[t]=!0,!1)}function D5(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function I5(t,e,n,r){if(e===null||typeof e>"u"||D5(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vr[t]=new Vr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vr[e]=new Vr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vr[t]=new Vr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vr[t]=new Vr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vr[t]=new Vr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vr[t]=new Vr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vr[t]=new Vr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vr[t]=new Vr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vr[t]=new Vr(t,5,!1,t.toLowerCase(),null,!1,!1)});var bw=/[\-:]([a-z])/g;function _w(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bw,_w);vr[e]=new Vr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bw,_w);vr[e]=new Vr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bw,_w);vr[e]=new Vr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vr[t]=new Vr(t,1,!1,t.toLowerCase(),null,!1,!1)});vr.xlinkHref=new Vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vr[t]=new Vr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sw(t,e,n,r){var i=vr.hasOwnProperty(e)?vr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(I5(e,n,i,r)&&(n=null),r||i===null?B5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Js=N5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ch=Symbol.for("react.element"),Al=Symbol.for("react.portal"),Cl=Symbol.for("react.fragment"),kw=Symbol.for("react.strict_mode"),by=Symbol.for("react.profiler"),OA=Symbol.for("react.provider"),$A=Symbol.for("react.context"),Ew=Symbol.for("react.forward_ref"),_y=Symbol.for("react.suspense"),Sy=Symbol.for("react.suspense_list"),Aw=Symbol.for("react.memo"),co=Symbol.for("react.lazy"),UA=Symbol.for("react.offscreen"),t2=Symbol.iterator;function Yc(t){return t===null||typeof t!="object"?null:(t=t2&&t[t2]||t["@@iterator"],typeof t=="function"?t:null)}var On=Object.assign,kg;function fu(t){if(kg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);kg=e&&e[1]||""}return`
`+kg+t}var Eg=!1;function Ag(t,e){if(!t||Eg)return"";Eg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Eg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fu(t):""}function L5(t){switch(t.tag){case 5:return fu(t.type);case 16:return fu("Lazy");case 13:return fu("Suspense");case 19:return fu("SuspenseList");case 0:case 2:case 15:return t=Ag(t.type,!1),t;case 11:return t=Ag(t.type.render,!1),t;case 1:return t=Ag(t.type,!0),t;default:return""}}function ky(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Cl:return"Fragment";case Al:return"Portal";case by:return"Profiler";case kw:return"StrictMode";case _y:return"Suspense";case Sy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $A:return(t.displayName||"Context")+".Consumer";case OA:return(t._context.displayName||"Context")+".Provider";case Ew:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Aw:return e=t.displayName||null,e!==null?e:ky(t.type)||"Memo";case co:e=t._payload,t=t._init;try{return ky(t(e))}catch{}}return null}function M5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ky(e);case 8:return e===kw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Io(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function O5(t){var e=zA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function jh(t){t._valueTracker||(t._valueTracker=O5(t))}function qA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Df(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ey(t,e){var n=e.checked;return On({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function n2(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Io(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function VA(t,e){e=e.checked,e!=null&&Sw(t,"checked",e,!1)}function Ay(t,e){VA(t,e);var n=Io(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Cy(t,e.type,n):e.hasOwnProperty("defaultValue")&&Cy(t,e.type,Io(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function r2(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Cy(t,e,n){(e!=="number"||Df(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var pu=Array.isArray;function ql(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Io(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function jy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(et(91));return On({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function i2(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(et(92));if(pu(n)){if(1<n.length)throw Error(et(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Io(n)}}function HA(t,e){var n=Io(e.value),r=Io(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function s2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function WA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ty(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?WA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Th,KA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Th=Th||document.createElement("div"),Th.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Th.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Hu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Eu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$5=["Webkit","ms","Moz","O"];Object.keys(Eu).forEach(function(t){$5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Eu[e]=Eu[t]})});function GA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Eu.hasOwnProperty(t)&&Eu[t]?(""+e).trim():e+"px"}function ZA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=GA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var U5=On({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Py(t,e){if(e){if(U5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(et(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(et(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(et(61))}if(e.style!=null&&typeof e.style!="object")throw Error(et(62))}}function Fy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ny=null;function Cw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ry=null,Vl=null,Hl=null;function o2(t){if(t=Ed(t)){if(typeof Ry!="function")throw Error(et(280));var e=t.stateNode;e&&(e=qp(e),Ry(t.stateNode,t.type,e))}}function YA(t){Vl?Hl?Hl.push(t):Hl=[t]:Vl=t}function XA(){if(Vl){var t=Vl,e=Hl;if(Hl=Vl=null,o2(t),e)for(t=0;t<e.length;t++)o2(e[t])}}function JA(t,e){return t(e)}function QA(){}var Cg=!1;function eC(t,e,n){if(Cg)return t(e,n);Cg=!0;try{return JA(t,e,n)}finally{Cg=!1,(Vl!==null||Hl!==null)&&(QA(),XA())}}function Wu(t,e){var n=t.stateNode;if(n===null)return null;var r=qp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(et(231,e,typeof n));return n}var By=!1;if(Vs)try{var Xc={};Object.defineProperty(Xc,"passive",{get:function(){By=!0}}),window.addEventListener("test",Xc,Xc),window.removeEventListener("test",Xc,Xc)}catch{By=!1}function z5(t,e,n,r,i,s,o,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var Au=!1,If=null,Lf=!1,Dy=null,q5={onError:function(t){Au=!0,If=t}};function V5(t,e,n,r,i,s,o,l,u){Au=!1,If=null,z5.apply(q5,arguments)}function H5(t,e,n,r,i,s,o,l,u){if(V5.apply(this,arguments),Au){if(Au){var h=If;Au=!1,If=null}else throw Error(et(198));Lf||(Lf=!0,Dy=h)}}function Ha(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function a2(t){if(Ha(t)!==t)throw Error(et(188))}function W5(t){var e=t.alternate;if(!e){if(e=Ha(t),e===null)throw Error(et(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return a2(i),t;if(s===r)return a2(i),e;s=s.sibling}throw Error(et(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(et(189))}}if(n.alternate!==r)throw Error(et(190))}if(n.tag!==3)throw Error(et(188));return n.stateNode.current===n?t:e}function nC(t){return t=W5(t),t!==null?rC(t):null}function rC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rC(t);if(e!==null)return e;t=t.sibling}return null}var iC=pi.unstable_scheduleCallback,l2=pi.unstable_cancelCallback,K5=pi.unstable_shouldYield,G5=pi.unstable_requestPaint,Wn=pi.unstable_now,Z5=pi.unstable_getCurrentPriorityLevel,jw=pi.unstable_ImmediatePriority,sC=pi.unstable_UserBlockingPriority,Mf=pi.unstable_NormalPriority,Y5=pi.unstable_LowPriority,oC=pi.unstable_IdlePriority,Op=null,ds=null;function X5(t){if(ds&&typeof ds.onCommitFiberRoot=="function")try{ds.onCommitFiberRoot(Op,t,void 0,(t.current.flags&128)===128)}catch{}}var Ki=Math.clz32?Math.clz32:eF,J5=Math.log,Q5=Math.LN2;function eF(t){return t>>>=0,t===0?32:31-(J5(t)/Q5|0)|0}var Ph=64,Fh=4194304;function mu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Of(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=mu(l):(s&=o,s!==0&&(r=mu(s)))}else o=n&~i,o!==0?r=mu(o):s!==0&&(r=mu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ki(e),i=1<<n,r|=t[n],e&=~i;return r}function tF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ki(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=tF(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function Iy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function aC(){var t=Ph;return Ph<<=1,!(Ph&4194240)&&(Ph=64),t}function jg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Sd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ki(e),t[e]=n}function rF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ki(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Tw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ki(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var yn=0;function lC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cC,Pw,uC,dC,hC,Ly=!1,Nh=[],bo=null,_o=null,So=null,Ku=new Map,Gu=new Map,po=[],iF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function c2(t,e){switch(t){case"focusin":case"focusout":bo=null;break;case"dragenter":case"dragleave":_o=null;break;case"mouseover":case"mouseout":So=null;break;case"pointerover":case"pointerout":Ku.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gu.delete(e.pointerId)}}function Jc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ed(e),e!==null&&Pw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function sF(t,e,n,r,i){switch(e){case"focusin":return bo=Jc(bo,t,e,n,r,i),!0;case"dragenter":return _o=Jc(_o,t,e,n,r,i),!0;case"mouseover":return So=Jc(So,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ku.set(s,Jc(Ku.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Gu.set(s,Jc(Gu.get(s)||null,t,e,n,r,i)),!0}return!1}function fC(t){var e=ya(t.target);if(e!==null){var n=Ha(e);if(n!==null){if(e=n.tag,e===13){if(e=tC(n),e!==null){t.blockedOn=e,hC(t.priority,function(){uC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=My(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ny=r,n.target.dispatchEvent(r),Ny=null}else return e=Ed(n),e!==null&&Pw(e),t.blockedOn=n,!1;e.shift()}return!0}function u2(t,e,n){mf(t)&&n.delete(e)}function oF(){Ly=!1,bo!==null&&mf(bo)&&(bo=null),_o!==null&&mf(_o)&&(_o=null),So!==null&&mf(So)&&(So=null),Ku.forEach(u2),Gu.forEach(u2)}function Qc(t,e){t.blockedOn===e&&(t.blockedOn=null,Ly||(Ly=!0,pi.unstable_scheduleCallback(pi.unstable_NormalPriority,oF)))}function Zu(t){function e(i){return Qc(i,t)}if(0<Nh.length){Qc(Nh[0],t);for(var n=1;n<Nh.length;n++){var r=Nh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(bo!==null&&Qc(bo,t),_o!==null&&Qc(_o,t),So!==null&&Qc(So,t),Ku.forEach(e),Gu.forEach(e),n=0;n<po.length;n++)r=po[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<po.length&&(n=po[0],n.blockedOn===null);)fC(n),n.blockedOn===null&&po.shift()}var Wl=Js.ReactCurrentBatchConfig,$f=!0;function aF(t,e,n,r){var i=yn,s=Wl.transition;Wl.transition=null;try{yn=1,Fw(t,e,n,r)}finally{yn=i,Wl.transition=s}}function lF(t,e,n,r){var i=yn,s=Wl.transition;Wl.transition=null;try{yn=4,Fw(t,e,n,r)}finally{yn=i,Wl.transition=s}}function Fw(t,e,n,r){if($f){var i=My(t,e,n,r);if(i===null)Mg(t,e,r,Uf,n),c2(t,r);else if(sF(i,t,e,n,r))r.stopPropagation();else if(c2(t,r),e&4&&-1<iF.indexOf(t)){for(;i!==null;){var s=Ed(i);if(s!==null&&cC(s),s=My(t,e,n,r),s===null&&Mg(t,e,r,Uf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Mg(t,e,r,null,n)}}var Uf=null;function My(t,e,n,r){if(Uf=null,t=Cw(r),t=ya(t),t!==null)if(e=Ha(t),e===null)t=null;else if(n=e.tag,n===13){if(t=tC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Uf=t,null}function pC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Z5()){case jw:return 1;case sC:return 4;case Mf:case Y5:return 16;case oC:return 536870912;default:return 16}default:return 16}}var yo=null,Nw=null,gf=null;function mC(){if(gf)return gf;var t,e=Nw,n=e.length,r,i="value"in yo?yo.value:yo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return gf=i.slice(t,1<r?1-r:void 0)}function xf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rh(){return!0}function d2(){return!1}function xi(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Rh:d2,this.isPropagationStopped=d2,this}return On(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rh)},persist:function(){},isPersistent:Rh}),e}var wc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rw=xi(wc),kd=On({},wc,{view:0,detail:0}),cF=xi(kd),Tg,Pg,eu,$p=On({},kd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==eu&&(eu&&t.type==="mousemove"?(Tg=t.screenX-eu.screenX,Pg=t.screenY-eu.screenY):Pg=Tg=0,eu=t),Tg)},movementY:function(t){return"movementY"in t?t.movementY:Pg}}),h2=xi($p),uF=On({},$p,{dataTransfer:0}),dF=xi(uF),hF=On({},kd,{relatedTarget:0}),Fg=xi(hF),fF=On({},wc,{animationName:0,elapsedTime:0,pseudoElement:0}),pF=xi(fF),mF=On({},wc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gF=xi(mF),xF=On({},wc,{data:0}),f2=xi(xF),yF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wF[t])?!!e[t]:!1}function Bw(){return bF}var _F=On({},kd,{key:function(t){if(t.key){var e=yF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bw,charCode:function(t){return t.type==="keypress"?xf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SF=xi(_F),kF=On({},$p,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p2=xi(kF),EF=On({},kd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bw}),AF=xi(EF),CF=On({},wc,{propertyName:0,elapsedTime:0,pseudoElement:0}),jF=xi(CF),TF=On({},$p,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),PF=xi(TF),FF=[9,13,27,32],Dw=Vs&&"CompositionEvent"in window,Cu=null;Vs&&"documentMode"in document&&(Cu=document.documentMode);var NF=Vs&&"TextEvent"in window&&!Cu,gC=Vs&&(!Dw||Cu&&8<Cu&&11>=Cu),m2=" ",g2=!1;function xC(t,e){switch(t){case"keyup":return FF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jl=!1;function RF(t,e){switch(t){case"compositionend":return yC(e);case"keypress":return e.which!==32?null:(g2=!0,m2);case"textInput":return t=e.data,t===m2&&g2?null:t;default:return null}}function BF(t,e){if(jl)return t==="compositionend"||!Dw&&xC(t,e)?(t=mC(),gf=Nw=yo=null,jl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gC&&e.locale!=="ko"?null:e.data;default:return null}}var DF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function x2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!DF[t.type]:e==="textarea"}function vC(t,e,n,r){YA(r),e=zf(e,"onChange"),0<e.length&&(n=new Rw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ju=null,Yu=null;function IF(t){PC(t,0)}function Up(t){var e=Fl(t);if(qA(e))return t}function LF(t,e){if(t==="change")return e}var wC=!1;if(Vs){var Ng;if(Vs){var Rg="oninput"in document;if(!Rg){var y2=document.createElement("div");y2.setAttribute("oninput","return;"),Rg=typeof y2.oninput=="function"}Ng=Rg}else Ng=!1;wC=Ng&&(!document.documentMode||9<document.documentMode)}function v2(){ju&&(ju.detachEvent("onpropertychange",bC),Yu=ju=null)}function bC(t){if(t.propertyName==="value"&&Up(Yu)){var e=[];vC(e,Yu,t,Cw(t)),eC(IF,e)}}function MF(t,e,n){t==="focusin"?(v2(),ju=e,Yu=n,ju.attachEvent("onpropertychange",bC)):t==="focusout"&&v2()}function OF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Up(Yu)}function $F(t,e){if(t==="click")return Up(e)}function UF(t,e){if(t==="input"||t==="change")return Up(e)}function zF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Zi=typeof Object.is=="function"?Object.is:zF;function Xu(t,e){if(Zi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!wy.call(e,i)||!Zi(t[i],e[i]))return!1}return!0}function w2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function b2(t,e){var n=w2(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=w2(n)}}function _C(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_C(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function SC(){for(var t=window,e=Df();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Df(t.document)}return e}function Iw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qF(t){var e=SC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_C(n.ownerDocument.documentElement,n)){if(r!==null&&Iw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=b2(n,s);var o=b2(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var VF=Vs&&"documentMode"in document&&11>=document.documentMode,Tl=null,Oy=null,Tu=null,$y=!1;function _2(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$y||Tl==null||Tl!==Df(r)||(r=Tl,"selectionStart"in r&&Iw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tu&&Xu(Tu,r)||(Tu=r,r=zf(Oy,"onSelect"),0<r.length&&(e=new Rw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Tl)))}function Bh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Pl={animationend:Bh("Animation","AnimationEnd"),animationiteration:Bh("Animation","AnimationIteration"),animationstart:Bh("Animation","AnimationStart"),transitionend:Bh("Transition","TransitionEnd")},Bg={},kC={};Vs&&(kC=document.createElement("div").style,"AnimationEvent"in window||(delete Pl.animationend.animation,delete Pl.animationiteration.animation,delete Pl.animationstart.animation),"TransitionEvent"in window||delete Pl.transitionend.transition);function zp(t){if(Bg[t])return Bg[t];if(!Pl[t])return t;var e=Pl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in kC)return Bg[t]=e[n];return t}var EC=zp("animationend"),AC=zp("animationiteration"),CC=zp("animationstart"),jC=zp("transitionend"),TC=new Map,S2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qo(t,e){TC.set(t,e),Va(e,[t])}for(var Dg=0;Dg<S2.length;Dg++){var Ig=S2[Dg],HF=Ig.toLowerCase(),WF=Ig[0].toUpperCase()+Ig.slice(1);qo(HF,"on"+WF)}qo(EC,"onAnimationEnd");qo(AC,"onAnimationIteration");qo(CC,"onAnimationStart");qo("dblclick","onDoubleClick");qo("focusin","onFocus");qo("focusout","onBlur");qo(jC,"onTransitionEnd");nc("onMouseEnter",["mouseout","mouseover"]);nc("onMouseLeave",["mouseout","mouseover"]);nc("onPointerEnter",["pointerout","pointerover"]);nc("onPointerLeave",["pointerout","pointerover"]);Va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Va("onBeforeInput",["compositionend","keypress","textInput","paste"]);Va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KF=new Set("cancel close invalid load scroll toggle".split(" ").concat(gu));function k2(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,H5(r,e,void 0,t),t.currentTarget=null}function PC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;k2(i,l,h),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;k2(i,l,h),s=u}}}if(Lf)throw t=Dy,Lf=!1,Dy=null,t}function jn(t,e){var n=e[Hy];n===void 0&&(n=e[Hy]=new Set);var r=t+"__bubble";n.has(r)||(FC(e,t,2,!1),n.add(r))}function Lg(t,e,n){var r=0;e&&(r|=4),FC(n,t,r,e)}var Dh="_reactListening"+Math.random().toString(36).slice(2);function Ju(t){if(!t[Dh]){t[Dh]=!0,MA.forEach(function(n){n!=="selectionchange"&&(KF.has(n)||Lg(n,!1,t),Lg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Dh]||(e[Dh]=!0,Lg("selectionchange",!1,e))}}function FC(t,e,n,r){switch(pC(e)){case 1:var i=aF;break;case 4:i=lF;break;default:i=Fw}n=i.bind(null,e,n,t),i=void 0,!By||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Mg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=ya(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}eC(function(){var h=s,f=Cw(n),p=[];e:{var g=TC.get(t);if(g!==void 0){var y=Rw,_=t;switch(t){case"keypress":if(xf(n)===0)break e;case"keydown":case"keyup":y=SF;break;case"focusin":_="focus",y=Fg;break;case"focusout":_="blur",y=Fg;break;case"beforeblur":case"afterblur":y=Fg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=h2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=dF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=AF;break;case EC:case AC:case CC:y=pF;break;case jC:y=jF;break;case"scroll":y=cF;break;case"wheel":y=PF;break;case"copy":case"cut":case"paste":y=gF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=p2}var w=(e&4)!==0,b=!w&&t==="scroll",k=w?g!==null?g+"Capture":null:g;w=[];for(var x=h,v;x!==null;){v=x;var C=v.stateNode;if(v.tag===5&&C!==null&&(v=C,k!==null&&(C=Wu(x,k),C!=null&&w.push(Qu(x,C,v)))),b)break;x=x.return}0<w.length&&(g=new y(g,_,null,n,f),p.push({event:g,listeners:w}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",g&&n!==Ny&&(_=n.relatedTarget||n.fromElement)&&(ya(_)||_[Hs]))break e;if((y||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,y?(_=n.relatedTarget||n.toElement,y=h,_=_?ya(_):null,_!==null&&(b=Ha(_),_!==b||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=h),y!==_)){if(w=h2,C="onMouseLeave",k="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(w=p2,C="onPointerLeave",k="onPointerEnter",x="pointer"),b=y==null?g:Fl(y),v=_==null?g:Fl(_),g=new w(C,x+"leave",y,n,f),g.target=b,g.relatedTarget=v,C=null,ya(f)===h&&(w=new w(k,x+"enter",_,n,f),w.target=v,w.relatedTarget=b,C=w),b=C,y&&_)t:{for(w=y,k=_,x=0,v=w;v;v=dl(v))x++;for(v=0,C=k;C;C=dl(C))v++;for(;0<x-v;)w=dl(w),x--;for(;0<v-x;)k=dl(k),v--;for(;x--;){if(w===k||k!==null&&w===k.alternate)break t;w=dl(w),k=dl(k)}w=null}else w=null;y!==null&&E2(p,g,y,w,!1),_!==null&&b!==null&&E2(p,b,_,w,!0)}}e:{if(g=h?Fl(h):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var F=LF;else if(x2(g))if(wC)F=UF;else{F=OF;var j=MF}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(F=$F);if(F&&(F=F(t,h))){vC(p,F,n,f);break e}j&&j(t,g,h),t==="focusout"&&(j=g._wrapperState)&&j.controlled&&g.type==="number"&&Cy(g,"number",g.value)}switch(j=h?Fl(h):window,t){case"focusin":(x2(j)||j.contentEditable==="true")&&(Tl=j,Oy=h,Tu=null);break;case"focusout":Tu=Oy=Tl=null;break;case"mousedown":$y=!0;break;case"contextmenu":case"mouseup":case"dragend":$y=!1,_2(p,n,f);break;case"selectionchange":if(VF)break;case"keydown":case"keyup":_2(p,n,f)}var R;if(Dw)e:{switch(t){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else jl?xC(t,n)&&(z="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(gC&&n.locale!=="ko"&&(jl||z!=="onCompositionStart"?z==="onCompositionEnd"&&jl&&(R=mC()):(yo=f,Nw="value"in yo?yo.value:yo.textContent,jl=!0)),j=zf(h,z),0<j.length&&(z=new f2(z,t,null,n,f),p.push({event:z,listeners:j}),R?z.data=R:(R=yC(n),R!==null&&(z.data=R)))),(R=NF?RF(t,n):BF(t,n))&&(h=zf(h,"onBeforeInput"),0<h.length&&(f=new f2("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:h}),f.data=R))}PC(p,e)})}function Qu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Wu(t,n),s!=null&&r.unshift(Qu(t,s,i)),s=Wu(t,e),s!=null&&r.push(Qu(t,s,i))),t=t.return}return r}function dl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function E2(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&h!==null&&(l=h,i?(u=Wu(n,s),u!=null&&o.unshift(Qu(n,u,l))):i||(u=Wu(n,s),u!=null&&o.push(Qu(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var GF=/\r\n?/g,ZF=/\u0000|\uFFFD/g;function A2(t){return(typeof t=="string"?t:""+t).replace(GF,`
`).replace(ZF,"")}function Ih(t,e,n){if(e=A2(e),A2(t)!==e&&n)throw Error(et(425))}function qf(){}var Uy=null,zy=null;function qy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vy=typeof setTimeout=="function"?setTimeout:void 0,YF=typeof clearTimeout=="function"?clearTimeout:void 0,C2=typeof Promise=="function"?Promise:void 0,XF=typeof queueMicrotask=="function"?queueMicrotask:typeof C2<"u"?function(t){return C2.resolve(null).then(t).catch(JF)}:Vy;function JF(t){setTimeout(function(){throw t})}function Og(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Zu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Zu(e)}function ko(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function j2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var bc=Math.random().toString(36).slice(2),ls="__reactFiber$"+bc,ed="__reactProps$"+bc,Hs="__reactContainer$"+bc,Hy="__reactEvents$"+bc,QF="__reactListeners$"+bc,eN="__reactHandles$"+bc;function ya(t){var e=t[ls];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hs]||n[ls]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=j2(t);t!==null;){if(n=t[ls])return n;t=j2(t)}return e}t=n,n=t.parentNode}return null}function Ed(t){return t=t[ls]||t[Hs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(et(33))}function qp(t){return t[ed]||null}var Wy=[],Nl=-1;function Vo(t){return{current:t}}function Tn(t){0>Nl||(t.current=Wy[Nl],Wy[Nl]=null,Nl--)}function En(t,e){Nl++,Wy[Nl]=t.current,t.current=e}var Lo={},Nr=Vo(Lo),ni=Vo(!1),Fa=Lo;function rc(t,e){var n=t.type.contextTypes;if(!n)return Lo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ri(t){return t=t.childContextTypes,t!=null}function Vf(){Tn(ni),Tn(Nr)}function T2(t,e,n){if(Nr.current!==Lo)throw Error(et(168));En(Nr,e),En(ni,n)}function NC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(et(108,M5(t)||"Unknown",i));return On({},n,r)}function Hf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Lo,Fa=Nr.current,En(Nr,t),En(ni,ni.current),!0}function P2(t,e,n){var r=t.stateNode;if(!r)throw Error(et(169));n?(t=NC(t,e,Fa),r.__reactInternalMemoizedMergedChildContext=t,Tn(ni),Tn(Nr),En(Nr,t)):Tn(ni),En(ni,n)}var Bs=null,Vp=!1,$g=!1;function RC(t){Bs===null?Bs=[t]:Bs.push(t)}function tN(t){Vp=!0,RC(t)}function Ho(){if(!$g&&Bs!==null){$g=!0;var t=0,e=yn;try{var n=Bs;for(yn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Bs=null,Vp=!1}catch(i){throw Bs!==null&&(Bs=Bs.slice(t+1)),iC(jw,Ho),i}finally{yn=e,$g=!1}}return null}var Rl=[],Bl=0,Wf=null,Kf=0,Ai=[],Ci=0,Na=null,Ds=1,Is="";function aa(t,e){Rl[Bl++]=Kf,Rl[Bl++]=Wf,Wf=t,Kf=e}function BC(t,e,n){Ai[Ci++]=Ds,Ai[Ci++]=Is,Ai[Ci++]=Na,Na=t;var r=Ds;t=Is;var i=32-Ki(r)-1;r&=~(1<<i),n+=1;var s=32-Ki(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ds=1<<32-Ki(e)+i|n<<i|r,Is=s+t}else Ds=1<<s|n<<i|r,Is=t}function Lw(t){t.return!==null&&(aa(t,1),BC(t,1,0))}function Mw(t){for(;t===Wf;)Wf=Rl[--Bl],Rl[Bl]=null,Kf=Rl[--Bl],Rl[Bl]=null;for(;t===Na;)Na=Ai[--Ci],Ai[Ci]=null,Is=Ai[--Ci],Ai[Ci]=null,Ds=Ai[--Ci],Ai[Ci]=null}var fi=null,hi=null,Pn=!1,Hi=null;function DC(t,e){var n=ji(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function F2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fi=t,hi=ko(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fi=t,hi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Na!==null?{id:Ds,overflow:Is}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ji(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,fi=t,hi=null,!0):!1;default:return!1}}function Ky(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gy(t){if(Pn){var e=hi;if(e){var n=e;if(!F2(t,e)){if(Ky(t))throw Error(et(418));e=ko(n.nextSibling);var r=fi;e&&F2(t,e)?DC(r,n):(t.flags=t.flags&-4097|2,Pn=!1,fi=t)}}else{if(Ky(t))throw Error(et(418));t.flags=t.flags&-4097|2,Pn=!1,fi=t}}}function N2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fi=t}function Lh(t){if(t!==fi)return!1;if(!Pn)return N2(t),Pn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qy(t.type,t.memoizedProps)),e&&(e=hi)){if(Ky(t))throw IC(),Error(et(418));for(;e;)DC(t,e),e=ko(e.nextSibling)}if(N2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(et(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hi=ko(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hi=null}}else hi=fi?ko(t.stateNode.nextSibling):null;return!0}function IC(){for(var t=hi;t;)t=ko(t.nextSibling)}function ic(){hi=fi=null,Pn=!1}function Ow(t){Hi===null?Hi=[t]:Hi.push(t)}var nN=Js.ReactCurrentBatchConfig;function tu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(et(309));var r=n.stateNode}if(!r)throw Error(et(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(et(284));if(!n._owner)throw Error(et(290,t))}return t}function Mh(t,e){throw t=Object.prototype.toString.call(e),Error(et(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function R2(t){var e=t._init;return e(t._payload)}function LC(t){function e(k,x){if(t){var v=k.deletions;v===null?(k.deletions=[x],k.flags|=16):v.push(x)}}function n(k,x){if(!t)return null;for(;x!==null;)e(k,x),x=x.sibling;return null}function r(k,x){for(k=new Map;x!==null;)x.key!==null?k.set(x.key,x):k.set(x.index,x),x=x.sibling;return k}function i(k,x){return k=jo(k,x),k.index=0,k.sibling=null,k}function s(k,x,v){return k.index=v,t?(v=k.alternate,v!==null?(v=v.index,v<x?(k.flags|=2,x):v):(k.flags|=2,x)):(k.flags|=1048576,x)}function o(k){return t&&k.alternate===null&&(k.flags|=2),k}function l(k,x,v,C){return x===null||x.tag!==6?(x=Kg(v,k.mode,C),x.return=k,x):(x=i(x,v),x.return=k,x)}function u(k,x,v,C){var F=v.type;return F===Cl?f(k,x,v.props.children,C,v.key):x!==null&&(x.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===co&&R2(F)===x.type)?(C=i(x,v.props),C.ref=tu(k,x,v),C.return=k,C):(C=kf(v.type,v.key,v.props,null,k.mode,C),C.ref=tu(k,x,v),C.return=k,C)}function h(k,x,v,C){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=Gg(v,k.mode,C),x.return=k,x):(x=i(x,v.children||[]),x.return=k,x)}function f(k,x,v,C,F){return x===null||x.tag!==7?(x=Ea(v,k.mode,C,F),x.return=k,x):(x=i(x,v),x.return=k,x)}function p(k,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Kg(""+x,k.mode,v),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ch:return v=kf(x.type,x.key,x.props,null,k.mode,v),v.ref=tu(k,null,x),v.return=k,v;case Al:return x=Gg(x,k.mode,v),x.return=k,x;case co:var C=x._init;return p(k,C(x._payload),v)}if(pu(x)||Yc(x))return x=Ea(x,k.mode,v,null),x.return=k,x;Mh(k,x)}return null}function g(k,x,v,C){var F=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return F!==null?null:l(k,x,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ch:return v.key===F?u(k,x,v,C):null;case Al:return v.key===F?h(k,x,v,C):null;case co:return F=v._init,g(k,x,F(v._payload),C)}if(pu(v)||Yc(v))return F!==null?null:f(k,x,v,C,null);Mh(k,v)}return null}function y(k,x,v,C,F){if(typeof C=="string"&&C!==""||typeof C=="number")return k=k.get(v)||null,l(x,k,""+C,F);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ch:return k=k.get(C.key===null?v:C.key)||null,u(x,k,C,F);case Al:return k=k.get(C.key===null?v:C.key)||null,h(x,k,C,F);case co:var j=C._init;return y(k,x,v,j(C._payload),F)}if(pu(C)||Yc(C))return k=k.get(v)||null,f(x,k,C,F,null);Mh(x,C)}return null}function _(k,x,v,C){for(var F=null,j=null,R=x,z=x=0,Q=null;R!==null&&z<v.length;z++){R.index>z?(Q=R,R=null):Q=R.sibling;var $=g(k,R,v[z],C);if($===null){R===null&&(R=Q);break}t&&R&&$.alternate===null&&e(k,R),x=s($,x,z),j===null?F=$:j.sibling=$,j=$,R=Q}if(z===v.length)return n(k,R),Pn&&aa(k,z),F;if(R===null){for(;z<v.length;z++)R=p(k,v[z],C),R!==null&&(x=s(R,x,z),j===null?F=R:j.sibling=R,j=R);return Pn&&aa(k,z),F}for(R=r(k,R);z<v.length;z++)Q=y(R,k,z,v[z],C),Q!==null&&(t&&Q.alternate!==null&&R.delete(Q.key===null?z:Q.key),x=s(Q,x,z),j===null?F=Q:j.sibling=Q,j=Q);return t&&R.forEach(function(X){return e(k,X)}),Pn&&aa(k,z),F}function w(k,x,v,C){var F=Yc(v);if(typeof F!="function")throw Error(et(150));if(v=F.call(v),v==null)throw Error(et(151));for(var j=F=null,R=x,z=x=0,Q=null,$=v.next();R!==null&&!$.done;z++,$=v.next()){R.index>z?(Q=R,R=null):Q=R.sibling;var X=g(k,R,$.value,C);if(X===null){R===null&&(R=Q);break}t&&R&&X.alternate===null&&e(k,R),x=s(X,x,z),j===null?F=X:j.sibling=X,j=X,R=Q}if($.done)return n(k,R),Pn&&aa(k,z),F;if(R===null){for(;!$.done;z++,$=v.next())$=p(k,$.value,C),$!==null&&(x=s($,x,z),j===null?F=$:j.sibling=$,j=$);return Pn&&aa(k,z),F}for(R=r(k,R);!$.done;z++,$=v.next())$=y(R,k,z,$.value,C),$!==null&&(t&&$.alternate!==null&&R.delete($.key===null?z:$.key),x=s($,x,z),j===null?F=$:j.sibling=$,j=$);return t&&R.forEach(function(te){return e(k,te)}),Pn&&aa(k,z),F}function b(k,x,v,C){if(typeof v=="object"&&v!==null&&v.type===Cl&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ch:e:{for(var F=v.key,j=x;j!==null;){if(j.key===F){if(F=v.type,F===Cl){if(j.tag===7){n(k,j.sibling),x=i(j,v.props.children),x.return=k,k=x;break e}}else if(j.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===co&&R2(F)===j.type){n(k,j.sibling),x=i(j,v.props),x.ref=tu(k,j,v),x.return=k,k=x;break e}n(k,j);break}else e(k,j);j=j.sibling}v.type===Cl?(x=Ea(v.props.children,k.mode,C,v.key),x.return=k,k=x):(C=kf(v.type,v.key,v.props,null,k.mode,C),C.ref=tu(k,x,v),C.return=k,k=C)}return o(k);case Al:e:{for(j=v.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){n(k,x.sibling),x=i(x,v.children||[]),x.return=k,k=x;break e}else{n(k,x);break}else e(k,x);x=x.sibling}x=Gg(v,k.mode,C),x.return=k,k=x}return o(k);case co:return j=v._init,b(k,x,j(v._payload),C)}if(pu(v))return _(k,x,v,C);if(Yc(v))return w(k,x,v,C);Mh(k,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,x!==null&&x.tag===6?(n(k,x.sibling),x=i(x,v),x.return=k,k=x):(n(k,x),x=Kg(v,k.mode,C),x.return=k,k=x),o(k)):n(k,x)}return b}var sc=LC(!0),MC=LC(!1),Gf=Vo(null),Zf=null,Dl=null,$w=null;function Uw(){$w=Dl=Zf=null}function zw(t){var e=Gf.current;Tn(Gf),t._currentValue=e}function Zy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Kl(t,e){Zf=t,$w=Dl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ti=!0),t.firstContext=null)}function Ni(t){var e=t._currentValue;if($w!==t)if(t={context:t,memoizedValue:e,next:null},Dl===null){if(Zf===null)throw Error(et(308));Dl=t,Zf.dependencies={lanes:0,firstContext:t}}else Dl=Dl.next=t;return e}var va=null;function qw(t){va===null?va=[t]:va.push(t)}function OC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,qw(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ws(t,r)}function Ws(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var uo=!1;function Vw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $C(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ms(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Eo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ln&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ws(t,n)}return i=r.interleaved,i===null?(e.next=e,qw(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ws(t,n)}function yf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Tw(t,n)}}function B2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Yf(t,e,n,r){var i=t.updateQueue;uo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,h=u.next;u.next=null,o===null?s=h:o.next=h,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;o=0,f=h=u=null,l=s;do{var g=l.lane,y=l.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,w=l;switch(g=e,y=n,w.tag){case 1:if(_=w.payload,typeof _=="function"){p=_.call(y,p,g);break e}p=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=w.payload,g=typeof _=="function"?_.call(y,p,g):_,g==null)break e;p=On({},p,g);break e;case 2:uo=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else y={eventTime:y,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(h=f=y,u=p):f=f.next=y,o|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(f===null&&(u=p),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ba|=o,t.lanes=o,t.memoizedState=p}}function D2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(et(191,i));i.call(r)}}}var Ad={},hs=Vo(Ad),td=Vo(Ad),nd=Vo(Ad);function wa(t){if(t===Ad)throw Error(et(174));return t}function Hw(t,e){switch(En(nd,e),En(td,t),En(hs,Ad),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ty(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ty(e,t)}Tn(hs),En(hs,e)}function oc(){Tn(hs),Tn(td),Tn(nd)}function UC(t){wa(nd.current);var e=wa(hs.current),n=Ty(e,t.type);e!==n&&(En(td,t),En(hs,n))}function Ww(t){td.current===t&&(Tn(hs),Tn(td))}var In=Vo(0);function Xf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ug=[];function Kw(){for(var t=0;t<Ug.length;t++)Ug[t]._workInProgressVersionPrimary=null;Ug.length=0}var vf=Js.ReactCurrentDispatcher,zg=Js.ReactCurrentBatchConfig,Ra=0,Mn=null,ir=null,hr=null,Jf=!1,Pu=!1,rd=0,rN=0;function _r(){throw Error(et(321))}function Gw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Zi(t[n],e[n]))return!1;return!0}function Zw(t,e,n,r,i,s){if(Ra=s,Mn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vf.current=t===null||t.memoizedState===null?aN:lN,t=n(r,i),Pu){s=0;do{if(Pu=!1,rd=0,25<=s)throw Error(et(301));s+=1,hr=ir=null,e.updateQueue=null,vf.current=cN,t=n(r,i)}while(Pu)}if(vf.current=Qf,e=ir!==null&&ir.next!==null,Ra=0,hr=ir=Mn=null,Jf=!1,e)throw Error(et(300));return t}function Yw(){var t=rd!==0;return rd=0,t}function is(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?Mn.memoizedState=hr=t:hr=hr.next=t,hr}function Ri(){if(ir===null){var t=Mn.alternate;t=t!==null?t.memoizedState:null}else t=ir.next;var e=hr===null?Mn.memoizedState:hr.next;if(e!==null)hr=e,ir=t;else{if(t===null)throw Error(et(310));ir=t,t={memoizedState:ir.memoizedState,baseState:ir.baseState,baseQueue:ir.baseQueue,queue:ir.queue,next:null},hr===null?Mn.memoizedState=hr=t:hr=hr.next=t}return hr}function id(t,e){return typeof e=="function"?e(t):e}function qg(t){var e=Ri(),n=e.queue;if(n===null)throw Error(et(311));n.lastRenderedReducer=t;var r=ir,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,h=s;do{var f=h.lane;if((Ra&f)===f)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var p={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=p,o=r):u=u.next=p,Mn.lanes|=f,Ba|=f}h=h.next}while(h!==null&&h!==s);u===null?o=r:u.next=l,Zi(r,e.memoizedState)||(ti=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Mn.lanes|=s,Ba|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vg(t){var e=Ri(),n=e.queue;if(n===null)throw Error(et(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Zi(s,e.memoizedState)||(ti=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function zC(){}function qC(t,e){var n=Mn,r=Ri(),i=e(),s=!Zi(r.memoizedState,i);if(s&&(r.memoizedState=i,ti=!0),r=r.queue,Xw(WC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||hr!==null&&hr.memoizedState.tag&1){if(n.flags|=2048,sd(9,HC.bind(null,n,r,i,e),void 0,null),fr===null)throw Error(et(349));Ra&30||VC(n,e,i)}return i}function VC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Mn.updateQueue,e===null?(e={lastEffect:null,stores:null},Mn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function HC(t,e,n,r){e.value=n,e.getSnapshot=r,KC(e)&&GC(t)}function WC(t,e,n){return n(function(){KC(e)&&GC(t)})}function KC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Zi(t,n)}catch{return!0}}function GC(t){var e=Ws(t,1);e!==null&&Gi(e,t,1,-1)}function I2(t){var e=is();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:id,lastRenderedState:t},e.queue=t,t=t.dispatch=oN.bind(null,Mn,t),[e.memoizedState,t]}function sd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Mn.updateQueue,e===null?(e={lastEffect:null,stores:null},Mn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ZC(){return Ri().memoizedState}function wf(t,e,n,r){var i=is();Mn.flags|=t,i.memoizedState=sd(1|e,n,void 0,r===void 0?null:r)}function Hp(t,e,n,r){var i=Ri();r=r===void 0?null:r;var s=void 0;if(ir!==null){var o=ir.memoizedState;if(s=o.destroy,r!==null&&Gw(r,o.deps)){i.memoizedState=sd(e,n,s,r);return}}Mn.flags|=t,i.memoizedState=sd(1|e,n,s,r)}function L2(t,e){return wf(8390656,8,t,e)}function Xw(t,e){return Hp(2048,8,t,e)}function YC(t,e){return Hp(4,2,t,e)}function XC(t,e){return Hp(4,4,t,e)}function JC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function QC(t,e,n){return n=n!=null?n.concat([t]):null,Hp(4,4,JC.bind(null,e,t),n)}function Jw(){}function e6(t,e){var n=Ri();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function t6(t,e){var n=Ri();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function n6(t,e,n){return Ra&21?(Zi(n,e)||(n=aC(),Mn.lanes|=n,Ba|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ti=!0),t.memoizedState=n)}function iN(t,e){var n=yn;yn=n!==0&&4>n?n:4,t(!0);var r=zg.transition;zg.transition={};try{t(!1),e()}finally{yn=n,zg.transition=r}}function r6(){return Ri().memoizedState}function sN(t,e,n){var r=Co(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},i6(t))s6(e,n);else if(n=OC(t,e,n,r),n!==null){var i=$r();Gi(n,t,r,i),o6(n,e,r)}}function oN(t,e,n){var r=Co(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(i6(t))s6(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Zi(l,o)){var u=e.interleaved;u===null?(i.next=i,qw(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=OC(t,e,i,r),n!==null&&(i=$r(),Gi(n,t,r,i),o6(n,e,r))}}function i6(t){var e=t.alternate;return t===Mn||e!==null&&e===Mn}function s6(t,e){Pu=Jf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function o6(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Tw(t,n)}}var Qf={readContext:Ni,useCallback:_r,useContext:_r,useEffect:_r,useImperativeHandle:_r,useInsertionEffect:_r,useLayoutEffect:_r,useMemo:_r,useReducer:_r,useRef:_r,useState:_r,useDebugValue:_r,useDeferredValue:_r,useTransition:_r,useMutableSource:_r,useSyncExternalStore:_r,useId:_r,unstable_isNewReconciler:!1},aN={readContext:Ni,useCallback:function(t,e){return is().memoizedState=[t,e===void 0?null:e],t},useContext:Ni,useEffect:L2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wf(4194308,4,JC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wf(4194308,4,t,e)},useInsertionEffect:function(t,e){return wf(4,2,t,e)},useMemo:function(t,e){var n=is();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=is();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=sN.bind(null,Mn,t),[r.memoizedState,t]},useRef:function(t){var e=is();return t={current:t},e.memoizedState=t},useState:I2,useDebugValue:Jw,useDeferredValue:function(t){return is().memoizedState=t},useTransition:function(){var t=I2(!1),e=t[0];return t=iN.bind(null,t[1]),is().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Mn,i=is();if(Pn){if(n===void 0)throw Error(et(407));n=n()}else{if(n=e(),fr===null)throw Error(et(349));Ra&30||VC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,L2(WC.bind(null,r,s,t),[t]),r.flags|=2048,sd(9,HC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=is(),e=fr.identifierPrefix;if(Pn){var n=Is,r=Ds;n=(r&~(1<<32-Ki(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=rd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lN={readContext:Ni,useCallback:e6,useContext:Ni,useEffect:Xw,useImperativeHandle:QC,useInsertionEffect:YC,useLayoutEffect:XC,useMemo:t6,useReducer:qg,useRef:ZC,useState:function(){return qg(id)},useDebugValue:Jw,useDeferredValue:function(t){var e=Ri();return n6(e,ir.memoizedState,t)},useTransition:function(){var t=qg(id)[0],e=Ri().memoizedState;return[t,e]},useMutableSource:zC,useSyncExternalStore:qC,useId:r6,unstable_isNewReconciler:!1},cN={readContext:Ni,useCallback:e6,useContext:Ni,useEffect:Xw,useImperativeHandle:QC,useInsertionEffect:YC,useLayoutEffect:XC,useMemo:t6,useReducer:Vg,useRef:ZC,useState:function(){return Vg(id)},useDebugValue:Jw,useDeferredValue:function(t){var e=Ri();return ir===null?e.memoizedState=t:n6(e,ir.memoizedState,t)},useTransition:function(){var t=Vg(id)[0],e=Ri().memoizedState;return[t,e]},useMutableSource:zC,useSyncExternalStore:qC,useId:r6,unstable_isNewReconciler:!1};function $i(t,e){if(t&&t.defaultProps){e=On({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Yy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:On({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wp={isMounted:function(t){return(t=t._reactInternals)?Ha(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$r(),i=Co(t),s=Ms(r,i);s.payload=e,n!=null&&(s.callback=n),e=Eo(t,s,i),e!==null&&(Gi(e,t,i,r),yf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$r(),i=Co(t),s=Ms(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Eo(t,s,i),e!==null&&(Gi(e,t,i,r),yf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$r(),r=Co(t),i=Ms(n,r);i.tag=2,e!=null&&(i.callback=e),e=Eo(t,i,r),e!==null&&(Gi(e,t,r,n),yf(e,t,r))}};function M2(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Xu(n,r)||!Xu(i,s):!0}function a6(t,e,n){var r=!1,i=Lo,s=e.contextType;return typeof s=="object"&&s!==null?s=Ni(s):(i=ri(e)?Fa:Nr.current,r=e.contextTypes,s=(r=r!=null)?rc(t,i):Lo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function O2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Wp.enqueueReplaceState(e,e.state,null)}function Xy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Vw(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ni(s):(s=ri(e)?Fa:Nr.current,i.context=rc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Yy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Wp.enqueueReplaceState(i,i.state,null),Yf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ac(t,e){try{var n="",r=e;do n+=L5(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Hg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var uN=typeof WeakMap=="function"?WeakMap:Map;function l6(t,e,n){n=Ms(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){tp||(tp=!0,lv=r),Jy(t,e)},n}function c6(t,e,n){n=Ms(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Jy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Jy(t,e),typeof r!="function"&&(Ao===null?Ao=new Set([this]):Ao.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function $2(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new uN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=kN.bind(null,t,e,n),e.then(t,t))}function U2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function z2(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ms(-1,1),e.tag=2,Eo(n,e,1))),n.lanes|=1),t)}var dN=Js.ReactCurrentOwner,ti=!1;function Ir(t,e,n,r){e.child=t===null?MC(e,null,n,r):sc(e,t.child,n,r)}function q2(t,e,n,r,i){n=n.render;var s=e.ref;return Kl(e,i),r=Zw(t,e,n,r,s,i),n=Yw(),t!==null&&!ti?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ks(t,e,i)):(Pn&&n&&Lw(e),e.flags|=1,Ir(t,e,r,i),e.child)}function V2(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!o1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,u6(t,e,s,r,i)):(t=kf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Xu,n(o,r)&&t.ref===e.ref)return Ks(t,e,i)}return e.flags|=1,t=jo(s,r),t.ref=e.ref,t.return=e,e.child=t}function u6(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Xu(s,r)&&t.ref===e.ref)if(ti=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ti=!0);else return e.lanes=t.lanes,Ks(t,e,i)}return Qy(t,e,n,r,i)}function d6(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},En(Ll,di),di|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,En(Ll,di),di|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,En(Ll,di),di|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,En(Ll,di),di|=r;return Ir(t,e,i,n),e.child}function h6(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qy(t,e,n,r,i){var s=ri(n)?Fa:Nr.current;return s=rc(e,s),Kl(e,i),n=Zw(t,e,n,r,s,i),r=Yw(),t!==null&&!ti?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ks(t,e,i)):(Pn&&r&&Lw(e),e.flags|=1,Ir(t,e,n,i),e.child)}function H2(t,e,n,r,i){if(ri(n)){var s=!0;Hf(e)}else s=!1;if(Kl(e,i),e.stateNode===null)bf(t,e),a6(e,n,r),Xy(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=Ni(h):(h=ri(n)?Fa:Nr.current,h=rc(e,h));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==h)&&O2(e,o,r,h),uo=!1;var g=e.memoizedState;o.state=g,Yf(e,r,o,i),u=e.memoizedState,l!==r||g!==u||ni.current||uo?(typeof f=="function"&&(Yy(e,n,f,r),u=e.memoizedState),(l=uo||M2(e,n,l,r,g,u,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=h,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,$C(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:$i(e.type,l),o.props=h,p=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ni(u):(u=ri(n)?Fa:Nr.current,u=rc(e,u));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||g!==u)&&O2(e,o,r,u),uo=!1,g=e.memoizedState,o.state=g,Yf(e,r,o,i);var _=e.memoizedState;l!==p||g!==_||ni.current||uo?(typeof y=="function"&&(Yy(e,n,y,r),_=e.memoizedState),(h=uo||M2(e,n,h,r,g,_,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=u,r=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return ev(t,e,n,r,s,i)}function ev(t,e,n,r,i,s){h6(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&P2(e,n,!1),Ks(t,e,s);r=e.stateNode,dN.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=sc(e,t.child,null,s),e.child=sc(e,null,l,s)):Ir(t,e,l,s),e.memoizedState=r.state,i&&P2(e,n,!0),e.child}function f6(t){var e=t.stateNode;e.pendingContext?T2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&T2(t,e.context,!1),Hw(t,e.containerInfo)}function W2(t,e,n,r,i){return ic(),Ow(i),e.flags|=256,Ir(t,e,n,r),e.child}var tv={dehydrated:null,treeContext:null,retryLane:0};function nv(t){return{baseLanes:t,cachePool:null,transitions:null}}function p6(t,e,n){var r=e.pendingProps,i=In.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),En(In,i&1),t===null)return Gy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Zp(o,r,0,null),t=Ea(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=nv(n),e.memoizedState=tv,t):Qw(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return hN(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=jo(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=jo(l,s):(s=Ea(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?nv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=tv,r}return s=t.child,t=s.sibling,r=jo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Qw(t,e){return e=Zp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Oh(t,e,n,r){return r!==null&&Ow(r),sc(e,t.child,null,n),t=Qw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Hg(Error(et(422))),Oh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Zp({mode:"visible",children:r.children},i,0,null),s=Ea(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&sc(e,t.child,null,o),e.child.memoizedState=nv(o),e.memoizedState=tv,s);if(!(e.mode&1))return Oh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(et(419)),r=Hg(s,r,void 0),Oh(t,e,o,r)}if(l=(o&t.childLanes)!==0,ti||l){if(r=fr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ws(t,i),Gi(r,t,i,-1))}return s1(),r=Hg(Error(et(421))),Oh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=EN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,hi=ko(i.nextSibling),fi=e,Pn=!0,Hi=null,t!==null&&(Ai[Ci++]=Ds,Ai[Ci++]=Is,Ai[Ci++]=Na,Ds=t.id,Is=t.overflow,Na=e),e=Qw(e,r.children),e.flags|=4096,e)}function K2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zy(t.return,e,n)}function Wg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function m6(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ir(t,e,r.children,n),r=In.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&K2(t,n,e);else if(t.tag===19)K2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(En(In,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Xf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Wg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Wg(e,!0,n,null,s);break;case"together":Wg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ks(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ba|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(et(153));if(e.child!==null){for(t=e.child,n=jo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=jo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function fN(t,e,n){switch(e.tag){case 3:f6(e),ic();break;case 5:UC(e);break;case 1:ri(e.type)&&Hf(e);break;case 4:Hw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;En(Gf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(En(In,In.current&1),e.flags|=128,null):n&e.child.childLanes?p6(t,e,n):(En(In,In.current&1),t=Ks(t,e,n),t!==null?t.sibling:null);En(In,In.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return m6(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),En(In,In.current),r)break;return null;case 22:case 23:return e.lanes=0,d6(t,e,n)}return Ks(t,e,n)}var g6,rv,x6,y6;g6=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rv=function(){};x6=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,wa(hs.current);var s=null;switch(n){case"input":i=Ey(t,i),r=Ey(t,r),s=[];break;case"select":i=On({},i,{value:void 0}),r=On({},r,{value:void 0}),s=[];break;case"textarea":i=jy(t,i),r=jy(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=qf)}Py(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Vu.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var u=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Vu.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&jn("scroll",t),s||l===u||(s=[])):(s=s||[]).push(h,u))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};y6=function(t,e,n,r){n!==r&&(e.flags|=4)};function nu(t,e){if(!Pn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Sr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function pN(t,e,n){var r=e.pendingProps;switch(Mw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sr(e),null;case 1:return ri(e.type)&&Vf(),Sr(e),null;case 3:return r=e.stateNode,oc(),Tn(ni),Tn(Nr),Kw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Lh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Hi!==null&&(dv(Hi),Hi=null))),rv(t,e),Sr(e),null;case 5:Ww(e);var i=wa(nd.current);if(n=e.type,t!==null&&e.stateNode!=null)x6(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(et(166));return Sr(e),null}if(t=wa(hs.current),Lh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ls]=e,r[ed]=s,t=(e.mode&1)!==0,n){case"dialog":jn("cancel",r),jn("close",r);break;case"iframe":case"object":case"embed":jn("load",r);break;case"video":case"audio":for(i=0;i<gu.length;i++)jn(gu[i],r);break;case"source":jn("error",r);break;case"img":case"image":case"link":jn("error",r),jn("load",r);break;case"details":jn("toggle",r);break;case"input":n2(r,s),jn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},jn("invalid",r);break;case"textarea":i2(r,s),jn("invalid",r)}Py(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ih(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ih(r.textContent,l,t),i=["children",""+l]):Vu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&jn("scroll",r)}switch(n){case"input":jh(r),r2(r,s,!0);break;case"textarea":jh(r),s2(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=qf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=WA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ls]=e,t[ed]=r,g6(t,e,!1,!1),e.stateNode=t;e:{switch(o=Fy(n,r),n){case"dialog":jn("cancel",t),jn("close",t),i=r;break;case"iframe":case"object":case"embed":jn("load",t),i=r;break;case"video":case"audio":for(i=0;i<gu.length;i++)jn(gu[i],t);i=r;break;case"source":jn("error",t),i=r;break;case"img":case"image":case"link":jn("error",t),jn("load",t),i=r;break;case"details":jn("toggle",t),i=r;break;case"input":n2(t,r),i=Ey(t,r),jn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=On({},r,{value:void 0}),jn("invalid",t);break;case"textarea":i2(t,r),i=jy(t,r),jn("invalid",t);break;default:i=r}Py(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?ZA(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&KA(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Hu(t,u):typeof u=="number"&&Hu(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vu.hasOwnProperty(s)?u!=null&&s==="onScroll"&&jn("scroll",t):u!=null&&Sw(t,s,u,o))}switch(n){case"input":jh(t),r2(t,r,!1);break;case"textarea":jh(t),s2(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Io(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ql(t,!!r.multiple,s,!1):r.defaultValue!=null&&ql(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=qf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Sr(e),null;case 6:if(t&&e.stateNode!=null)y6(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(et(166));if(n=wa(nd.current),wa(hs.current),Lh(e)){if(r=e.stateNode,n=e.memoizedProps,r[ls]=e,(s=r.nodeValue!==n)&&(t=fi,t!==null))switch(t.tag){case 3:Ih(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ih(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ls]=e,e.stateNode=r}return Sr(e),null;case 13:if(Tn(In),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pn&&hi!==null&&e.mode&1&&!(e.flags&128))IC(),ic(),e.flags|=98560,s=!1;else if(s=Lh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(et(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(et(317));s[ls]=e}else ic(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Sr(e),s=!1}else Hi!==null&&(dv(Hi),Hi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||In.current&1?or===0&&(or=3):s1())),e.updateQueue!==null&&(e.flags|=4),Sr(e),null);case 4:return oc(),rv(t,e),t===null&&Ju(e.stateNode.containerInfo),Sr(e),null;case 10:return zw(e.type._context),Sr(e),null;case 17:return ri(e.type)&&Vf(),Sr(e),null;case 19:if(Tn(In),s=e.memoizedState,s===null)return Sr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)nu(s,!1);else{if(or!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xf(t),o!==null){for(e.flags|=128,nu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return En(In,In.current&1|2),e.child}t=t.sibling}s.tail!==null&&Wn()>lc&&(e.flags|=128,r=!0,nu(s,!1),e.lanes=4194304)}else{if(!r)if(t=Xf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),nu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Pn)return Sr(e),null}else 2*Wn()-s.renderingStartTime>lc&&n!==1073741824&&(e.flags|=128,r=!0,nu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Wn(),e.sibling=null,n=In.current,En(In,r?n&1|2:n&1),e):(Sr(e),null);case 22:case 23:return i1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?di&1073741824&&(Sr(e),e.subtreeFlags&6&&(e.flags|=8192)):Sr(e),null;case 24:return null;case 25:return null}throw Error(et(156,e.tag))}function mN(t,e){switch(Mw(e),e.tag){case 1:return ri(e.type)&&Vf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return oc(),Tn(ni),Tn(Nr),Kw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ww(e),null;case 13:if(Tn(In),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(et(340));ic()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Tn(In),null;case 4:return oc(),null;case 10:return zw(e.type._context),null;case 22:case 23:return i1(),null;case 24:return null;default:return null}}var $h=!1,Cr=!1,gN=typeof WeakSet=="function"?WeakSet:Set,vt=null;function Il(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Hn(t,e,r)}else n.current=null}function iv(t,e,n){try{n()}catch(r){Hn(t,e,r)}}var G2=!1;function xN(t,e){if(Uy=$f,t=SC(),Iw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,h=0,f=0,p=t,g=null;t:for(;;){for(var y;p!==n||i!==0&&p.nodeType!==3||(l=o+i),p!==s||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)g=p,p=y;for(;;){if(p===t)break t;if(g===n&&++h===i&&(l=o),g===s&&++f===r&&(u=o),(y=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=y}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(zy={focusedElem:t,selectionRange:n},$f=!1,vt=e;vt!==null;)if(e=vt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,vt=t;else for(;vt!==null;){e=vt;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var w=_.memoizedProps,b=_.memoizedState,k=e.stateNode,x=k.getSnapshotBeforeUpdate(e.elementType===e.type?w:$i(e.type,w),b);k.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(et(163))}}catch(C){Hn(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,vt=t;break}vt=e.return}return _=G2,G2=!1,_}function Fu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&iv(e,n,s)}i=i.next}while(i!==r)}}function Kp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function v6(t){var e=t.alternate;e!==null&&(t.alternate=null,v6(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ls],delete e[ed],delete e[Hy],delete e[QF],delete e[eN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function w6(t){return t.tag===5||t.tag===3||t.tag===4}function Z2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||w6(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ov(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qf));else if(r!==4&&(t=t.child,t!==null))for(ov(t,e,n),t=t.sibling;t!==null;)ov(t,e,n),t=t.sibling}function av(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(av(t,e,n),t=t.sibling;t!==null;)av(t,e,n),t=t.sibling}var gr=null,zi=!1;function no(t,e,n){for(n=n.child;n!==null;)b6(t,e,n),n=n.sibling}function b6(t,e,n){if(ds&&typeof ds.onCommitFiberUnmount=="function")try{ds.onCommitFiberUnmount(Op,n)}catch{}switch(n.tag){case 5:Cr||Il(n,e);case 6:var r=gr,i=zi;gr=null,no(t,e,n),gr=r,zi=i,gr!==null&&(zi?(t=gr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):gr.removeChild(n.stateNode));break;case 18:gr!==null&&(zi?(t=gr,n=n.stateNode,t.nodeType===8?Og(t.parentNode,n):t.nodeType===1&&Og(t,n),Zu(t)):Og(gr,n.stateNode));break;case 4:r=gr,i=zi,gr=n.stateNode.containerInfo,zi=!0,no(t,e,n),gr=r,zi=i;break;case 0:case 11:case 14:case 15:if(!Cr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&iv(n,e,o),i=i.next}while(i!==r)}no(t,e,n);break;case 1:if(!Cr&&(Il(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Hn(n,e,l)}no(t,e,n);break;case 21:no(t,e,n);break;case 22:n.mode&1?(Cr=(r=Cr)||n.memoizedState!==null,no(t,e,n),Cr=r):no(t,e,n);break;default:no(t,e,n)}}function Y2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gN),e.forEach(function(r){var i=AN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ii(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:gr=l.stateNode,zi=!1;break e;case 3:gr=l.stateNode.containerInfo,zi=!0;break e;case 4:gr=l.stateNode.containerInfo,zi=!0;break e}l=l.return}if(gr===null)throw Error(et(160));b6(s,o,i),gr=null,zi=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){Hn(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_6(e,t),e=e.sibling}function _6(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ii(e,t),ts(t),r&4){try{Fu(3,t,t.return),Kp(3,t)}catch(w){Hn(t,t.return,w)}try{Fu(5,t,t.return)}catch(w){Hn(t,t.return,w)}}break;case 1:Ii(e,t),ts(t),r&512&&n!==null&&Il(n,n.return);break;case 5:if(Ii(e,t),ts(t),r&512&&n!==null&&Il(n,n.return),t.flags&32){var i=t.stateNode;try{Hu(i,"")}catch(w){Hn(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&VA(i,s),Fy(l,o);var h=Fy(l,s);for(o=0;o<u.length;o+=2){var f=u[o],p=u[o+1];f==="style"?ZA(i,p):f==="dangerouslySetInnerHTML"?KA(i,p):f==="children"?Hu(i,p):Sw(i,f,p,h)}switch(l){case"input":Ay(i,s);break;case"textarea":HA(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?ql(i,!!s.multiple,y,!1):g!==!!s.multiple&&(s.defaultValue!=null?ql(i,!!s.multiple,s.defaultValue,!0):ql(i,!!s.multiple,s.multiple?[]:"",!1))}i[ed]=s}catch(w){Hn(t,t.return,w)}}break;case 6:if(Ii(e,t),ts(t),r&4){if(t.stateNode===null)throw Error(et(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){Hn(t,t.return,w)}}break;case 3:if(Ii(e,t),ts(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zu(e.containerInfo)}catch(w){Hn(t,t.return,w)}break;case 4:Ii(e,t),ts(t);break;case 13:Ii(e,t),ts(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(n1=Wn())),r&4&&Y2(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Cr=(h=Cr)||f,Ii(e,t),Cr=h):Ii(e,t),ts(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(vt=t,f=t.child;f!==null;){for(p=vt=f;vt!==null;){switch(g=vt,y=g.child,g.tag){case 0:case 11:case 14:case 15:Fu(4,g,g.return);break;case 1:Il(g,g.return);var _=g.stateNode;if(typeof _.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(w){Hn(r,n,w)}}break;case 5:Il(g,g.return);break;case 22:if(g.memoizedState!==null){J2(p);continue}}y!==null?(y.return=g,vt=y):J2(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=GA("display",o))}catch(w){Hn(t,t.return,w)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(w){Hn(t,t.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ii(e,t),ts(t),r&4&&Y2(t);break;case 21:break;default:Ii(e,t),ts(t)}}function ts(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(w6(n)){var r=n;break e}n=n.return}throw Error(et(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Hu(i,""),r.flags&=-33);var s=Z2(t);av(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Z2(t);ov(t,l,o);break;default:throw Error(et(161))}}catch(u){Hn(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yN(t,e,n){vt=t,S6(t)}function S6(t,e,n){for(var r=(t.mode&1)!==0;vt!==null;){var i=vt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||$h;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Cr;l=$h;var h=Cr;if($h=o,(Cr=u)&&!h)for(vt=i;vt!==null;)o=vt,u=o.child,o.tag===22&&o.memoizedState!==null?Q2(i):u!==null?(u.return=o,vt=u):Q2(i);for(;s!==null;)vt=s,S6(s),s=s.sibling;vt=i,$h=l,Cr=h}X2(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,vt=s):X2(t)}}function X2(t){for(;vt!==null;){var e=vt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Cr||Kp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Cr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:$i(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&D2(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}D2(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Zu(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(et(163))}Cr||e.flags&512&&sv(e)}catch(g){Hn(e,e.return,g)}}if(e===t){vt=null;break}if(n=e.sibling,n!==null){n.return=e.return,vt=n;break}vt=e.return}}function J2(t){for(;vt!==null;){var e=vt;if(e===t){vt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,vt=n;break}vt=e.return}}function Q2(t){for(;vt!==null;){var e=vt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Kp(4,e)}catch(u){Hn(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Hn(e,i,u)}}var s=e.return;try{sv(e)}catch(u){Hn(e,s,u)}break;case 5:var o=e.return;try{sv(e)}catch(u){Hn(e,o,u)}}}catch(u){Hn(e,e.return,u)}if(e===t){vt=null;break}var l=e.sibling;if(l!==null){l.return=e.return,vt=l;break}vt=e.return}}var vN=Math.ceil,ep=Js.ReactCurrentDispatcher,e1=Js.ReactCurrentOwner,Fi=Js.ReactCurrentBatchConfig,ln=0,fr=null,Qn=null,yr=0,di=0,Ll=Vo(0),or=0,od=null,Ba=0,Gp=0,t1=0,Nu=null,Qr=null,n1=0,lc=1/0,Fs=null,tp=!1,lv=null,Ao=null,Uh=!1,vo=null,np=0,Ru=0,cv=null,_f=-1,Sf=0;function $r(){return ln&6?Wn():_f!==-1?_f:_f=Wn()}function Co(t){return t.mode&1?ln&2&&yr!==0?yr&-yr:nN.transition!==null?(Sf===0&&(Sf=aC()),Sf):(t=yn,t!==0||(t=window.event,t=t===void 0?16:pC(t.type)),t):1}function Gi(t,e,n,r){if(50<Ru)throw Ru=0,cv=null,Error(et(185));Sd(t,n,r),(!(ln&2)||t!==fr)&&(t===fr&&(!(ln&2)&&(Gp|=n),or===4&&mo(t,yr)),ii(t,r),n===1&&ln===0&&!(e.mode&1)&&(lc=Wn()+500,Vp&&Ho()))}function ii(t,e){var n=t.callbackNode;nF(t,e);var r=Of(t,t===fr?yr:0);if(r===0)n!==null&&l2(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&l2(n),e===1)t.tag===0?tN(eS.bind(null,t)):RC(eS.bind(null,t)),XF(function(){!(ln&6)&&Ho()}),n=null;else{switch(lC(r)){case 1:n=jw;break;case 4:n=sC;break;case 16:n=Mf;break;case 536870912:n=oC;break;default:n=Mf}n=F6(n,k6.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function k6(t,e){if(_f=-1,Sf=0,ln&6)throw Error(et(327));var n=t.callbackNode;if(Gl()&&t.callbackNode!==n)return null;var r=Of(t,t===fr?yr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=rp(t,r);else{e=r;var i=ln;ln|=2;var s=A6();(fr!==t||yr!==e)&&(Fs=null,lc=Wn()+500,ka(t,e));do try{_N();break}catch(l){E6(t,l)}while(!0);Uw(),ep.current=s,ln=i,Qn!==null?e=0:(fr=null,yr=0,e=or)}if(e!==0){if(e===2&&(i=Iy(t),i!==0&&(r=i,e=uv(t,i))),e===1)throw n=od,ka(t,0),mo(t,r),ii(t,Wn()),n;if(e===6)mo(t,r);else{if(i=t.current.alternate,!(r&30)&&!wN(i)&&(e=rp(t,r),e===2&&(s=Iy(t),s!==0&&(r=s,e=uv(t,s))),e===1))throw n=od,ka(t,0),mo(t,r),ii(t,Wn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(et(345));case 2:la(t,Qr,Fs);break;case 3:if(mo(t,r),(r&130023424)===r&&(e=n1+500-Wn(),10<e)){if(Of(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){$r(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Vy(la.bind(null,t,Qr,Fs),e);break}la(t,Qr,Fs);break;case 4:if(mo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ki(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Wn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vN(r/1960))-r,10<r){t.timeoutHandle=Vy(la.bind(null,t,Qr,Fs),r);break}la(t,Qr,Fs);break;case 5:la(t,Qr,Fs);break;default:throw Error(et(329))}}}return ii(t,Wn()),t.callbackNode===n?k6.bind(null,t):null}function uv(t,e){var n=Nu;return t.current.memoizedState.isDehydrated&&(ka(t,e).flags|=256),t=rp(t,e),t!==2&&(e=Qr,Qr=n,e!==null&&dv(e)),t}function dv(t){Qr===null?Qr=t:Qr.push.apply(Qr,t)}function wN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Zi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mo(t,e){for(e&=~t1,e&=~Gp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ki(e),r=1<<n;t[n]=-1,e&=~r}}function eS(t){if(ln&6)throw Error(et(327));Gl();var e=Of(t,0);if(!(e&1))return ii(t,Wn()),null;var n=rp(t,e);if(t.tag!==0&&n===2){var r=Iy(t);r!==0&&(e=r,n=uv(t,r))}if(n===1)throw n=od,ka(t,0),mo(t,e),ii(t,Wn()),n;if(n===6)throw Error(et(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,la(t,Qr,Fs),ii(t,Wn()),null}function r1(t,e){var n=ln;ln|=1;try{return t(e)}finally{ln=n,ln===0&&(lc=Wn()+500,Vp&&Ho())}}function Da(t){vo!==null&&vo.tag===0&&!(ln&6)&&Gl();var e=ln;ln|=1;var n=Fi.transition,r=yn;try{if(Fi.transition=null,yn=1,t)return t()}finally{yn=r,Fi.transition=n,ln=e,!(ln&6)&&Ho()}}function i1(){di=Ll.current,Tn(Ll)}function ka(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,YF(n)),Qn!==null)for(n=Qn.return;n!==null;){var r=n;switch(Mw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vf();break;case 3:oc(),Tn(ni),Tn(Nr),Kw();break;case 5:Ww(r);break;case 4:oc();break;case 13:Tn(In);break;case 19:Tn(In);break;case 10:zw(r.type._context);break;case 22:case 23:i1()}n=n.return}if(fr=t,Qn=t=jo(t.current,null),yr=di=e,or=0,od=null,t1=Gp=Ba=0,Qr=Nu=null,va!==null){for(e=0;e<va.length;e++)if(n=va[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}va=null}return t}function E6(t,e){do{var n=Qn;try{if(Uw(),vf.current=Qf,Jf){for(var r=Mn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Jf=!1}if(Ra=0,hr=ir=Mn=null,Pu=!1,rd=0,e1.current=null,n===null||n.return===null){or=1,od=e,Qn=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=yr,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=U2(o);if(y!==null){y.flags&=-257,z2(y,o,l,s,e),y.mode&1&&$2(s,h,e),e=y,u=h;var _=e.updateQueue;if(_===null){var w=new Set;w.add(u),e.updateQueue=w}else _.add(u);break e}else{if(!(e&1)){$2(s,h,e),s1();break e}u=Error(et(426))}}else if(Pn&&l.mode&1){var b=U2(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),z2(b,o,l,s,e),Ow(ac(u,l));break e}}s=u=ac(u,l),or!==4&&(or=2),Nu===null?Nu=[s]:Nu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var k=l6(s,u,e);B2(s,k);break e;case 1:l=u;var x=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ao===null||!Ao.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=c6(s,l,e);B2(s,C);break e}}s=s.return}while(s!==null)}j6(n)}catch(F){e=F,Qn===n&&n!==null&&(Qn=n=n.return);continue}break}while(!0)}function A6(){var t=ep.current;return ep.current=Qf,t===null?Qf:t}function s1(){(or===0||or===3||or===2)&&(or=4),fr===null||!(Ba&268435455)&&!(Gp&268435455)||mo(fr,yr)}function rp(t,e){var n=ln;ln|=2;var r=A6();(fr!==t||yr!==e)&&(Fs=null,ka(t,e));do try{bN();break}catch(i){E6(t,i)}while(!0);if(Uw(),ln=n,ep.current=r,Qn!==null)throw Error(et(261));return fr=null,yr=0,or}function bN(){for(;Qn!==null;)C6(Qn)}function _N(){for(;Qn!==null&&!K5();)C6(Qn)}function C6(t){var e=P6(t.alternate,t,di);t.memoizedProps=t.pendingProps,e===null?j6(t):Qn=e,e1.current=null}function j6(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=mN(n,e),n!==null){n.flags&=32767,Qn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{or=6,Qn=null;return}}else if(n=pN(n,e,di),n!==null){Qn=n;return}if(e=e.sibling,e!==null){Qn=e;return}Qn=e=t}while(e!==null);or===0&&(or=5)}function la(t,e,n){var r=yn,i=Fi.transition;try{Fi.transition=null,yn=1,SN(t,e,n,r)}finally{Fi.transition=i,yn=r}return null}function SN(t,e,n,r){do Gl();while(vo!==null);if(ln&6)throw Error(et(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(et(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(rF(t,s),t===fr&&(Qn=fr=null,yr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Uh||(Uh=!0,F6(Mf,function(){return Gl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Fi.transition,Fi.transition=null;var o=yn;yn=1;var l=ln;ln|=4,e1.current=null,xN(t,n),_6(n,t),qF(zy),$f=!!Uy,zy=Uy=null,t.current=n,yN(n),G5(),ln=l,yn=o,Fi.transition=s}else t.current=n;if(Uh&&(Uh=!1,vo=t,np=i),s=t.pendingLanes,s===0&&(Ao=null),X5(n.stateNode),ii(t,Wn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(tp)throw tp=!1,t=lv,lv=null,t;return np&1&&t.tag!==0&&Gl(),s=t.pendingLanes,s&1?t===cv?Ru++:(Ru=0,cv=t):Ru=0,Ho(),null}function Gl(){if(vo!==null){var t=lC(np),e=Fi.transition,n=yn;try{if(Fi.transition=null,yn=16>t?16:t,vo===null)var r=!1;else{if(t=vo,vo=null,np=0,ln&6)throw Error(et(331));var i=ln;for(ln|=4,vt=t.current;vt!==null;){var s=vt,o=s.child;if(vt.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(vt=h;vt!==null;){var f=vt;switch(f.tag){case 0:case 11:case 15:Fu(8,f,s)}var p=f.child;if(p!==null)p.return=f,vt=p;else for(;vt!==null;){f=vt;var g=f.sibling,y=f.return;if(v6(f),f===h){vt=null;break}if(g!==null){g.return=y,vt=g;break}vt=y}}}var _=s.alternate;if(_!==null){var w=_.child;if(w!==null){_.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}vt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,vt=o;else e:for(;vt!==null;){if(s=vt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Fu(9,s,s.return)}var k=s.sibling;if(k!==null){k.return=s.return,vt=k;break e}vt=s.return}}var x=t.current;for(vt=x;vt!==null;){o=vt;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,vt=v;else e:for(o=x;vt!==null;){if(l=vt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Kp(9,l)}}catch(F){Hn(l,l.return,F)}if(l===o){vt=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,vt=C;break e}vt=l.return}}if(ln=i,Ho(),ds&&typeof ds.onPostCommitFiberRoot=="function")try{ds.onPostCommitFiberRoot(Op,t)}catch{}r=!0}return r}finally{yn=n,Fi.transition=e}}return!1}function tS(t,e,n){e=ac(n,e),e=l6(t,e,1),t=Eo(t,e,1),e=$r(),t!==null&&(Sd(t,1,e),ii(t,e))}function Hn(t,e,n){if(t.tag===3)tS(t,t,n);else for(;e!==null;){if(e.tag===3){tS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ao===null||!Ao.has(r))){t=ac(n,t),t=c6(e,t,1),e=Eo(e,t,1),t=$r(),e!==null&&(Sd(e,1,t),ii(e,t));break}}e=e.return}}function kN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=$r(),t.pingedLanes|=t.suspendedLanes&n,fr===t&&(yr&n)===n&&(or===4||or===3&&(yr&130023424)===yr&&500>Wn()-n1?ka(t,0):t1|=n),ii(t,e)}function T6(t,e){e===0&&(t.mode&1?(e=Fh,Fh<<=1,!(Fh&130023424)&&(Fh=4194304)):e=1);var n=$r();t=Ws(t,e),t!==null&&(Sd(t,e,n),ii(t,n))}function EN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),T6(t,n)}function AN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(et(314))}r!==null&&r.delete(e),T6(t,n)}var P6;P6=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ni.current)ti=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ti=!1,fN(t,e,n);ti=!!(t.flags&131072)}else ti=!1,Pn&&e.flags&1048576&&BC(e,Kf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bf(t,e),t=e.pendingProps;var i=rc(e,Nr.current);Kl(e,n),i=Zw(null,e,r,t,i,n);var s=Yw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ri(r)?(s=!0,Hf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Vw(e),i.updater=Wp,e.stateNode=i,i._reactInternals=e,Xy(e,r,t,n),e=ev(null,e,r,!0,s,n)):(e.tag=0,Pn&&s&&Lw(e),Ir(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=jN(r),t=$i(r,t),i){case 0:e=Qy(null,e,r,t,n);break e;case 1:e=H2(null,e,r,t,n);break e;case 11:e=q2(null,e,r,t,n);break e;case 14:e=V2(null,e,r,$i(r.type,t),n);break e}throw Error(et(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),Qy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),H2(t,e,r,i,n);case 3:e:{if(f6(e),t===null)throw Error(et(387));r=e.pendingProps,s=e.memoizedState,i=s.element,$C(t,e),Yf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ac(Error(et(423)),e),e=W2(t,e,r,n,i);break e}else if(r!==i){i=ac(Error(et(424)),e),e=W2(t,e,r,n,i);break e}else for(hi=ko(e.stateNode.containerInfo.firstChild),fi=e,Pn=!0,Hi=null,n=MC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ic(),r===i){e=Ks(t,e,n);break e}Ir(t,e,r,n)}e=e.child}return e;case 5:return UC(e),t===null&&Gy(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,qy(r,i)?o=null:s!==null&&qy(r,s)&&(e.flags|=32),h6(t,e),Ir(t,e,o,n),e.child;case 6:return t===null&&Gy(e),null;case 13:return p6(t,e,n);case 4:return Hw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=sc(e,null,r,n):Ir(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),q2(t,e,r,i,n);case 7:return Ir(t,e,e.pendingProps,n),e.child;case 8:return Ir(t,e,e.pendingProps.children,n),e.child;case 12:return Ir(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,En(Gf,r._currentValue),r._currentValue=o,s!==null)if(Zi(s.value,o)){if(s.children===i.children&&!ni.current){e=Ks(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Ms(-1,n&-n),u.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?u.next=u:(u.next=f.next,f.next=u),h.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Zy(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(et(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Zy(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ir(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Kl(e,n),i=Ni(i),r=r(i),e.flags|=1,Ir(t,e,r,n),e.child;case 14:return r=e.type,i=$i(r,e.pendingProps),i=$i(r.type,i),V2(t,e,r,i,n);case 15:return u6(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),bf(t,e),e.tag=1,ri(r)?(t=!0,Hf(e)):t=!1,Kl(e,n),a6(e,r,i),Xy(e,r,i,n),ev(null,e,r,!0,t,n);case 19:return m6(t,e,n);case 22:return d6(t,e,n)}throw Error(et(156,e.tag))};function F6(t,e){return iC(t,e)}function CN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ji(t,e,n,r){return new CN(t,e,n,r)}function o1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jN(t){if(typeof t=="function")return o1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ew)return 11;if(t===Aw)return 14}return 2}function jo(t,e){var n=t.alternate;return n===null?(n=ji(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")o1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Cl:return Ea(n.children,i,s,e);case kw:o=8,i|=8;break;case by:return t=ji(12,n,e,i|2),t.elementType=by,t.lanes=s,t;case _y:return t=ji(13,n,e,i),t.elementType=_y,t.lanes=s,t;case Sy:return t=ji(19,n,e,i),t.elementType=Sy,t.lanes=s,t;case UA:return Zp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case OA:o=10;break e;case $A:o=9;break e;case Ew:o=11;break e;case Aw:o=14;break e;case co:o=16,r=null;break e}throw Error(et(130,t==null?t:typeof t,""))}return e=ji(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ea(t,e,n,r){return t=ji(7,t,r,e),t.lanes=n,t}function Zp(t,e,n,r){return t=ji(22,t,r,e),t.elementType=UA,t.lanes=n,t.stateNode={isHidden:!1},t}function Kg(t,e,n){return t=ji(6,t,null,e),t.lanes=n,t}function Gg(t,e,n){return e=ji(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function TN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jg(0),this.expirationTimes=jg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function a1(t,e,n,r,i,s,o,l,u){return t=new TN(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ji(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vw(s),t}function PN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Al,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function N6(t){if(!t)return Lo;t=t._reactInternals;e:{if(Ha(t)!==t||t.tag!==1)throw Error(et(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ri(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(et(171))}if(t.tag===1){var n=t.type;if(ri(n))return NC(t,n,e)}return e}function R6(t,e,n,r,i,s,o,l,u){return t=a1(n,r,!0,t,i,s,o,l,u),t.context=N6(null),n=t.current,r=$r(),i=Co(n),s=Ms(r,i),s.callback=e??null,Eo(n,s,i),t.current.lanes=i,Sd(t,i,r),ii(t,r),t}function Yp(t,e,n,r){var i=e.current,s=$r(),o=Co(i);return n=N6(n),e.context===null?e.context=n:e.pendingContext=n,e=Ms(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Eo(i,e,o),t!==null&&(Gi(t,i,o,s),yf(t,i,o)),o}function ip(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function l1(t,e){nS(t,e),(t=t.alternate)&&nS(t,e)}function FN(){return null}var B6=typeof reportError=="function"?reportError:function(t){console.error(t)};function c1(t){this._internalRoot=t}Xp.prototype.render=c1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(et(409));Yp(t,e,null,null)};Xp.prototype.unmount=c1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Da(function(){Yp(null,t,null,null)}),e[Hs]=null}};function Xp(t){this._internalRoot=t}Xp.prototype.unstable_scheduleHydration=function(t){if(t){var e=dC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<po.length&&e!==0&&e<po[n].priority;n++);po.splice(n,0,t),n===0&&fC(t)}};function u1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rS(){}function NN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=ip(o);s.call(h)}}var o=R6(e,r,t,0,null,!1,!1,"",rS);return t._reactRootContainer=o,t[Hs]=o.current,Ju(t.nodeType===8?t.parentNode:t),Da(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=ip(u);l.call(h)}}var u=a1(t,0,!1,null,null,!1,!1,"",rS);return t._reactRootContainer=u,t[Hs]=u.current,Ju(t.nodeType===8?t.parentNode:t),Da(function(){Yp(e,u,n,r)}),u}function Qp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=ip(o);l.call(u)}}Yp(e,o,t,i)}else o=NN(n,e,t,i,r);return ip(o)}cC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=mu(e.pendingLanes);n!==0&&(Tw(e,n|1),ii(e,Wn()),!(ln&6)&&(lc=Wn()+500,Ho()))}break;case 13:Da(function(){var r=Ws(t,1);if(r!==null){var i=$r();Gi(r,t,1,i)}}),l1(t,1)}};Pw=function(t){if(t.tag===13){var e=Ws(t,134217728);if(e!==null){var n=$r();Gi(e,t,134217728,n)}l1(t,134217728)}};uC=function(t){if(t.tag===13){var e=Co(t),n=Ws(t,e);if(n!==null){var r=$r();Gi(n,t,e,r)}l1(t,e)}};dC=function(){return yn};hC=function(t,e){var n=yn;try{return yn=t,e()}finally{yn=n}};Ry=function(t,e,n){switch(e){case"input":if(Ay(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=qp(r);if(!i)throw Error(et(90));qA(r),Ay(r,i)}}}break;case"textarea":HA(t,n);break;case"select":e=n.value,e!=null&&ql(t,!!n.multiple,e,!1)}};JA=r1;QA=Da;var RN={usingClientEntryPoint:!1,Events:[Ed,Fl,qp,YA,XA,r1]},ru={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BN={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Js.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=nC(t),t===null?null:t.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||FN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zh.isDisabled&&zh.supportsFiber)try{Op=zh.inject(BN),ds=zh}catch{}}gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RN;gi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u1(e))throw Error(et(200));return PN(t,e,null,n)};gi.createRoot=function(t,e){if(!u1(t))throw Error(et(299));var n=!1,r="",i=B6;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=a1(t,1,!1,null,null,n,!1,r,i),t[Hs]=e.current,Ju(t.nodeType===8?t.parentNode:t),new c1(e)};gi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(et(188)):(t=Object.keys(t).join(","),Error(et(268,t)));return t=nC(e),t=t===null?null:t.stateNode,t};gi.flushSync=function(t){return Da(t)};gi.hydrate=function(t,e,n){if(!Jp(e))throw Error(et(200));return Qp(null,t,e,!0,n)};gi.hydrateRoot=function(t,e,n){if(!u1(t))throw Error(et(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=B6;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=R6(e,null,t,1,n??null,i,!1,s,o),t[Hs]=e.current,Ju(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Xp(e)};gi.render=function(t,e,n){if(!Jp(e))throw Error(et(200));return Qp(null,t,e,!1,n)};gi.unmountComponentAtNode=function(t){if(!Jp(t))throw Error(et(40));return t._reactRootContainer?(Da(function(){Qp(null,null,t,!1,function(){t._reactRootContainer=null,t[Hs]=null})}),!0):!1};gi.unstable_batchedUpdates=r1;gi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Jp(n))throw Error(et(200));if(t==null||t._reactInternals===void 0)throw Error(et(38));return Qp(t,e,n,!1,r)};gi.version="18.3.1-next-f1338f8080-20240426";function D6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(D6)}catch(t){console.error(t)}}D6(),DA.exports=gi;var I6=DA.exports,L6,iS=I6;L6=iS.createRoot,iS.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ad(){return ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ad.apply(this,arguments)}var wo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(wo||(wo={}));const sS="popstate";function DN(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return hv("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:sp(i)}return LN(e,n,null,t)}function Gn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function M6(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IN(){return Math.random().toString(36).substr(2,8)}function oS(t,e){return{usr:t.state,key:t.key,idx:e}}function hv(t,e,n,r){return n===void 0&&(n=null),ad({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_c(e):e,{state:n,key:e&&e.key||r||IN()})}function sp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _c(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function LN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=wo.Pop,u=null,h=f();h==null&&(h=0,o.replaceState(ad({},o.state,{idx:h}),""));function f(){return(o.state||{idx:null}).idx}function p(){l=wo.Pop;let b=f(),k=b==null?null:b-h;h=b,u&&u({action:l,location:w.location,delta:k})}function g(b,k){l=wo.Push;let x=hv(w.location,b,k);h=f()+1;let v=oS(x,h),C=w.createHref(x);try{o.pushState(v,"",C)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(C)}s&&u&&u({action:l,location:w.location,delta:1})}function y(b,k){l=wo.Replace;let x=hv(w.location,b,k);h=f();let v=oS(x,h),C=w.createHref(x);o.replaceState(v,"",C),s&&u&&u({action:l,location:w.location,delta:0})}function _(b){let k=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof b=="string"?b:sp(b);return x=x.replace(/ $/,"%20"),Gn(k,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,k)}let w={get action(){return l},get location(){return t(i,o)},listen(b){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(sS,p),u=b,()=>{i.removeEventListener(sS,p),u=null}},createHref(b){return e(i,b)},createURL:_,encodeLocation(b){let k=_(b);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:g,replace:y,go(b){return o.go(b)}};return w}var aS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(aS||(aS={}));function MN(t,e,n){return n===void 0&&(n="/"),ON(t,e,n,!1)}function ON(t,e,n,r){let i=typeof e=="string"?_c(e):e,s=d1(i.pathname||"/",n);if(s==null)return null;let o=O6(t);$N(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let h=XN(s);l=ZN(o[u],h,r)}return l}function O6(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Gn(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=To([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(Gn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),O6(s.children,e,f,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:KN(h,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of $6(s.path))i(s,o,u)}),e}function $6(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=$6(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function $N(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:GN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const UN=/^:[\w-]+$/,zN=3,qN=2,VN=1,HN=10,WN=-2,lS=t=>t==="*";function KN(t,e){let n=t.split("/"),r=n.length;return n.some(lS)&&(r+=WN),e&&(r+=qN),n.filter(i=>!lS(i)).reduce((i,s)=>i+(UN.test(s)?zN:s===""?VN:HN),r)}function GN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ZN(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],h=l===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=cS({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),g=u.route;if(!p&&h&&n&&!r[r.length-1].route.index&&(p=cS({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:To([s,p.pathname]),pathnameBase:tR(To([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=To([s,p.pathnameBase]))}return o}function cS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=YN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,f,p)=>{let{paramName:g,isOptional:y}=f;if(g==="*"){let w=l[p]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const _=l[p];return y&&!_?h[g]=void 0:h[g]=(_||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:t}}function YN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),M6(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function XN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return M6(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function d1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function JN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?_c(t):t;return{pathname:n?n.startsWith("/")?n:QN(n,e):e,search:nR(r),hash:rR(i)}}function QN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Zg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function h1(t,e){let n=eR(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function f1(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=_c(t):(i=ad({},t),Gn(!i.pathname||!i.pathname.includes("?"),Zg("?","pathname","search",i)),Gn(!i.pathname||!i.pathname.includes("#"),Zg("#","pathname","hash",i)),Gn(!i.search||!i.search.includes("#"),Zg("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}l=p>=0?e[p]:"/"}let u=JN(i,l),h=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}const To=t=>t.join("/").replace(/\/\/+/g,"/"),tR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const U6=["post","put","patch","delete"];new Set(U6);const sR=["get",...U6];new Set(sR);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ld(){return ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ld.apply(this,arguments)}const p1=Y.createContext(null),oR=Y.createContext(null),Wo=Y.createContext(null),e0=Y.createContext(null),Qs=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),z6=Y.createContext(null);function aR(t,e){let{relative:n}=e===void 0?{}:e;Sc()||Gn(!1);let{basename:r,navigator:i}=Y.useContext(Wo),{hash:s,pathname:o,search:l}=V6(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:To([r,o])),i.createHref({pathname:u,search:l,hash:s})}function Sc(){return Y.useContext(e0)!=null}function kc(){return Sc()||Gn(!1),Y.useContext(e0).location}function q6(t){Y.useContext(Wo).static||Y.useLayoutEffect(t)}function m1(){let{isDataRoute:t}=Y.useContext(Qs);return t?bR():lR()}function lR(){Sc()||Gn(!1);let t=Y.useContext(p1),{basename:e,future:n,navigator:r}=Y.useContext(Wo),{matches:i}=Y.useContext(Qs),{pathname:s}=kc(),o=JSON.stringify(h1(i,n.v7_relativeSplatPath)),l=Y.useRef(!1);return q6(()=>{l.current=!0}),Y.useCallback(function(h,f){if(f===void 0&&(f={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let p=f1(h,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:To([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,o,s,t])}function cR(){let{matches:t}=Y.useContext(Qs),e=t[t.length-1];return e?e.params:{}}function V6(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=Y.useContext(Wo),{matches:i}=Y.useContext(Qs),{pathname:s}=kc(),o=JSON.stringify(h1(i,r.v7_relativeSplatPath));return Y.useMemo(()=>f1(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function uR(t,e){return dR(t,e)}function dR(t,e,n,r){Sc()||Gn(!1);let{navigator:i}=Y.useContext(Wo),{matches:s}=Y.useContext(Qs),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let h=kc(),f;if(e){var p;let b=typeof e=="string"?_c(e):e;u==="/"||(p=b.pathname)!=null&&p.startsWith(u)||Gn(!1),f=b}else f=h;let g=f.pathname||"/",y=g;if(u!=="/"){let b=u.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let _=MN(t,{pathname:y}),w=gR(_&&_.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:To([u,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:To([u,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return e&&w?Y.createElement(e0.Provider,{value:{location:ld({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:wo.Pop}},w):w}function hR(){let t=wR(),e=iR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),n?Y.createElement("pre",{style:i},n):null,null)}const fR=Y.createElement(hR,null);class pR extends Y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Y.createElement(Qs.Provider,{value:this.props.routeContext},Y.createElement(z6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mR(t){let{routeContext:e,match:n,children:r}=t,i=Y.useContext(p1);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Y.createElement(Qs.Provider,{value:e},r)}function gR(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);f>=0||Gn(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:g,errors:y}=n,_=p.route.loader&&g[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||_){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((f,p,g)=>{let y,_=!1,w=null,b=null;n&&(y=l&&p.route.id?l[p.route.id]:void 0,w=p.route.errorElement||fR,u&&(h<0&&g===0?(_=!0,b=null):h===g&&(_=!0,b=p.route.hydrateFallbackElement||null)));let k=e.concat(o.slice(0,g+1)),x=()=>{let v;return y?v=w:_?v=b:p.route.Component?v=Y.createElement(p.route.Component,null):p.route.element?v=p.route.element:v=f,Y.createElement(mR,{match:p,routeContext:{outlet:f,matches:k,isDataRoute:n!=null},children:v})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?Y.createElement(pR,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:x(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):x()},null)}var H6=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(H6||{}),op=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(op||{});function xR(t){let e=Y.useContext(p1);return e||Gn(!1),e}function yR(t){let e=Y.useContext(oR);return e||Gn(!1),e}function vR(t){let e=Y.useContext(Qs);return e||Gn(!1),e}function W6(t){let e=vR(),n=e.matches[e.matches.length-1];return n.route.id||Gn(!1),n.route.id}function wR(){var t;let e=Y.useContext(z6),n=yR(op.UseRouteError),r=W6(op.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function bR(){let{router:t}=xR(H6.UseNavigateStable),e=W6(op.UseNavigateStable),n=Y.useRef(!1);return q6(()=>{n.current=!0}),Y.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ld({fromRouteId:e},s)))},[t,e])}function _R(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function SR(t){let{to:e,replace:n,state:r,relative:i}=t;Sc()||Gn(!1);let{future:s,static:o}=Y.useContext(Wo),{matches:l}=Y.useContext(Qs),{pathname:u}=kc(),h=m1(),f=f1(e,h1(l,s.v7_relativeSplatPath),u,i==="path"),p=JSON.stringify(f);return Y.useEffect(()=>h(JSON.parse(p),{replace:n,state:r,relative:i}),[h,p,i,n,r]),null}function Li(t){Gn(!1)}function kR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=wo.Pop,navigator:s,static:o=!1,future:l}=t;Sc()&&Gn(!1);let u=e.replace(/^\/*/,"/"),h=Y.useMemo(()=>({basename:u,navigator:s,static:o,future:ld({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=_c(r));let{pathname:f="/",search:p="",hash:g="",state:y=null,key:_="default"}=r,w=Y.useMemo(()=>{let b=d1(f,u);return b==null?null:{location:{pathname:b,search:p,hash:g,state:y,key:_},navigationType:i}},[u,f,p,g,y,_,i]);return w==null?null:Y.createElement(Wo.Provider,{value:h},Y.createElement(e0.Provider,{children:n,value:w}))}function ER(t){let{children:e,location:n}=t;return uR(fv(e),n)}new Promise(()=>{});function fv(t,e){e===void 0&&(e=[]);let n=[];return Y.Children.forEach(t,(r,i)=>{if(!Y.isValidElement(r))return;let s=[...e,i];if(r.type===Y.Fragment){n.push.apply(n,fv(r.props.children,s));return}r.type!==Li&&Gn(!1),!r.props.index||!r.props.children||Gn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=fv(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pv(){return pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pv.apply(this,arguments)}function AR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function CR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jR(t,e){return t.button===0&&(!e||e==="_self")&&!CR(t)}const TR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],PR="6";try{window.__reactRouterVersion=PR}catch{}const FR="startTransition",uS=k5[FR];function NR(t){let{basename:e,children:n,future:r,window:i}=t,s=Y.useRef();s.current==null&&(s.current=DN({window:i,v5Compat:!0}));let o=s.current,[l,u]=Y.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},f=Y.useCallback(p=>{h&&uS?uS(()=>u(p)):u(p)},[u,h]);return Y.useLayoutEffect(()=>o.listen(f),[o,f]),Y.useEffect(()=>_R(r),[r]),Y.createElement(kR,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const RR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jr=Y.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:h,preventScrollReset:f,viewTransition:p}=e,g=AR(e,TR),{basename:y}=Y.useContext(Wo),_,w=!1;if(typeof h=="string"&&BR.test(h)&&(_=h,RR))try{let v=new URL(window.location.href),C=h.startsWith("//")?new URL(v.protocol+h):new URL(h),F=d1(C.pathname,y);C.origin===v.origin&&F!=null?h=F+C.search+C.hash:w=!0}catch{}let b=aR(h,{relative:i}),k=DR(h,{replace:o,state:l,target:u,preventScrollReset:f,relative:i,viewTransition:p});function x(v){r&&r(v),v.defaultPrevented||k(v)}return Y.createElement("a",pv({},g,{href:_||b,onClick:w||s?r:x,ref:n,target:u}))});var dS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(dS||(dS={}));var hS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(hS||(hS={}));function DR(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,u=m1(),h=kc(),f=V6(t,{relative:o});return Y.useCallback(p=>{if(jR(p,n)){p.preventDefault();let g=r!==void 0?r:sp(h)===sp(f);u(t,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[h,u,f,r,i,n,t,s,o,l])}let IR={data:""},LR=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||IR,MR=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,OR=/\/\*[^]*?\*\/|  +/g,fS=/\n+/g,go=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?go(o,s):s+"{"+go(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=go(o,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=go.p?go.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Cs={},K6=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+K6(t[n]);return e}return t},$R=(t,e,n,r,i)=>{let s=K6(t),o=Cs[s]||(Cs[s]=(u=>{let h=0,f=11;for(;h<u.length;)f=101*f+u.charCodeAt(h++)>>>0;return"go"+f})(s));if(!Cs[o]){let u=s!==t?t:(h=>{let f,p,g=[{}];for(;f=MR.exec(h.replace(OR,""));)f[4]?g.shift():f[3]?(p=f[3].replace(fS," ").trim(),g.unshift(g[0][p]=g[0][p]||{})):g[0][f[1]]=f[2].replace(fS," ").trim();return g[0]})(t);Cs[o]=go(i?{["@keyframes "+o]:u}:u,n?"":"."+o)}let l=n&&Cs.g?Cs.g:null;return n&&(Cs.g=Cs[o]),((u,h,f,p)=>{p?h.data=h.data.replace(p,u):h.data.indexOf(u)===-1&&(h.data=f?u+h.data:h.data+u)})(Cs[o],e,r,l),o},UR=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let l=o(n),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=u?"."+u:l&&typeof l=="object"?l.props?"":go(l,""):l===!1?"":l}return r+i+(o??"")},"");function t0(t){let e=this||{},n=t.call?t(e.p):t;return $R(n.unshift?n.raw?UR(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,LR(e.target),e.g,e.o,e.k)}let G6,mv,gv;t0.bind({g:1});let Gs=t0.bind({k:1});function zR(t,e,n,r){go.p=e,G6=t,mv=n,gv=r}function Ko(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let l=Object.assign({},s),u=l.className||i.className;n.p=Object.assign({theme:mv&&mv()},l),n.o=/ *go\d+/.test(u),l.className=t0.apply(n,r)+(u?" "+u:"");let h=t;return t[0]&&(h=l.as||t,delete l.as),gv&&h[0]&&gv(l),G6(h,l)}return i}}var qR=t=>typeof t=="function",ap=(t,e)=>qR(t)?t(e):t,VR=(()=>{let t=0;return()=>(++t).toString()})(),Z6=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),HR=20,Y6=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,HR)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return Y6(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},Ef=[],ba={toasts:[],pausedAt:void 0},Wa=t=>{ba=Y6(ba,t),Ef.forEach(e=>{e(ba)})},WR={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},KR=(t={})=>{let[e,n]=Y.useState(ba),r=Y.useRef(ba);Y.useEffect(()=>(r.current!==ba&&n(ba),Ef.push(n),()=>{let s=Ef.indexOf(n);s>-1&&Ef.splice(s,1)}),[]);let i=e.toasts.map(s=>{var o,l,u;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((o=t[s.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((l=t[s.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||WR[s.type],style:{...t.style,...(u=t[s.type])==null?void 0:u.style,...s.style}}});return{...e,toasts:i}},GR=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||VR()}),Cd=t=>(e,n)=>{let r=GR(e,t,n);return Wa({type:2,toast:r}),r.id},Mr=(t,e)=>Cd("blank")(t,e);Mr.error=Cd("error");Mr.success=Cd("success");Mr.loading=Cd("loading");Mr.custom=Cd("custom");Mr.dismiss=t=>{Wa({type:3,toastId:t})};Mr.remove=t=>Wa({type:4,toastId:t});Mr.promise=(t,e,n)=>{let r=Mr.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?ap(e.success,i):void 0;return s?Mr.success(s,{id:r,...n,...n==null?void 0:n.success}):Mr.dismiss(r),i}).catch(i=>{let s=e.error?ap(e.error,i):void 0;s?Mr.error(s,{id:r,...n,...n==null?void 0:n.error}):Mr.dismiss(r)}),t};var ZR=(t,e)=>{Wa({type:1,toast:{id:t,height:e}})},YR=()=>{Wa({type:5,time:Date.now()})},Bu=new Map,XR=1e3,JR=(t,e=XR)=>{if(Bu.has(t))return;let n=setTimeout(()=>{Bu.delete(t),Wa({type:4,toastId:t})},e);Bu.set(t,n)},QR=t=>{let{toasts:e,pausedAt:n}=KR(t);Y.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(l=>{if(l.duration===1/0)return;let u=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(u<0){l.visible&&Mr.dismiss(l.id);return}return setTimeout(()=>Mr.dismiss(l.id),u)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[e,n]);let r=Y.useCallback(()=>{n&&Wa({type:6,time:Date.now()})},[n]),i=Y.useCallback((s,o)=>{let{reverseOrder:l=!1,gutter:u=8,defaultPosition:h}=o||{},f=e.filter(y=>(y.position||h)===(s.position||h)&&y.height),p=f.findIndex(y=>y.id===s.id),g=f.filter((y,_)=>_<p&&y.visible).length;return f.filter(y=>y.visible).slice(...l?[g+1]:[0,g]).reduce((y,_)=>y+(_.height||0)+u,0)},[e]);return Y.useEffect(()=>{e.forEach(s=>{if(s.dismissed)JR(s.id,s.removeDelay);else{let o=Bu.get(s.id);o&&(clearTimeout(o),Bu.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:ZR,startPause:YR,endPause:r,calculateOffset:i}}},eB=Gs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,tB=Gs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,nB=Gs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,rB=Ko("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${eB} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${tB} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${nB} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,iB=Gs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,sB=Ko("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${iB} 1s linear infinite;
`,oB=Gs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,aB=Gs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,lB=Ko("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oB} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${aB} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,cB=Ko("div")`
  position: absolute;
`,uB=Ko("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,dB=Gs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,hB=Ko("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${dB} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,fB=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?Y.createElement(hB,null,e):e:n==="blank"?null:Y.createElement(uB,null,Y.createElement(sB,{...r}),n!=="loading"&&Y.createElement(cB,null,n==="error"?Y.createElement(rB,{...r}):Y.createElement(lB,{...r})))},pB=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,mB=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,gB="0%{opacity:0;} 100%{opacity:1;}",xB="0%{opacity:1;} 100%{opacity:0;}",yB=Ko("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,vB=Ko("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,wB=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=Z6()?[gB,xB]:[pB(n),mB(n)];return{animation:e?`${Gs(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Gs(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},bB=Y.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?wB(t.position||e||"top-center",t.visible):{opacity:0},s=Y.createElement(fB,{toast:t}),o=Y.createElement(vB,{...t.ariaProps},ap(t.message,t));return Y.createElement(yB,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):Y.createElement(Y.Fragment,null,s,o))});zR(Y.createElement);var _B=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=Y.useCallback(o=>{if(o){let l=()=>{let u=o.getBoundingClientRect().height;r(t,u)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return Y.createElement("div",{ref:s,className:e,style:n},i)},SB=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Z6()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},kB=t0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,qh=16,EB=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:l,handlers:u}=QR(n);return Y.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:qh,left:qh,right:qh,bottom:qh,pointerEvents:"none",...s},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(h=>{let f=h.position||e,p=u.calculateOffset(h,{reverseOrder:t,gutter:r,defaultPosition:e}),g=SB(f,p);return Y.createElement(_B,{id:h.id,key:h.id,onHeightUpdate:u.updateHeight,className:h.visible?kB:"",style:g},h.type==="custom"?ap(h.message,h):i?i(h):Y.createElement(bB,{toast:h,position:f}))}))},tt=Mr,Se={},n0={};n0.byteLength=jB;n0.toByteArray=PB;n0.fromByteArray=RB;var cs=[],ki=[],AB=typeof Uint8Array<"u"?Uint8Array:Array,Yg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var hl=0,CB=Yg.length;hl<CB;++hl)cs[hl]=Yg[hl],ki[Yg.charCodeAt(hl)]=hl;ki[45]=62;ki[95]=63;function X6(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function jB(t){var e=X6(t),n=e[0],r=e[1];return(n+r)*3/4-r}function TB(t,e,n){return(e+n)*3/4-n}function PB(t){var e,n=X6(t),r=n[0],i=n[1],s=new AB(TB(t,r,i)),o=0,l=i>0?r-4:r,u;for(u=0;u<l;u+=4)e=ki[t.charCodeAt(u)]<<18|ki[t.charCodeAt(u+1)]<<12|ki[t.charCodeAt(u+2)]<<6|ki[t.charCodeAt(u+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=ki[t.charCodeAt(u)]<<2|ki[t.charCodeAt(u+1)]>>4,s[o++]=e&255),i===1&&(e=ki[t.charCodeAt(u)]<<10|ki[t.charCodeAt(u+1)]<<4|ki[t.charCodeAt(u+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function FB(t){return cs[t>>18&63]+cs[t>>12&63]+cs[t>>6&63]+cs[t&63]}function NB(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(FB(r));return i.join("")}function RB(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,l=n-r;o<l;o+=s)i.push(NB(t,o,o+s>l?l:o+s));return r===1?(e=t[n-1],i.push(cs[e>>2]+cs[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(cs[e>>10]+cs[e>>4&63]+cs[e<<2&63]+"=")),i.join("")}var g1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */g1.read=function(t,e,n,r,i){var s,o,l=i*8-r-1,u=(1<<l)-1,h=u>>1,f=-7,p=n?i-1:0,g=n?-1:1,y=t[e+p];for(p+=g,s=y&(1<<-f)-1,y>>=-f,f+=l;f>0;s=s*256+t[e+p],p+=g,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=r;f>0;o=o*256+t[e+p],p+=g,f-=8);if(s===0)s=1-h;else{if(s===u)return o?NaN:(y?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-h}return(y?-1:1)*o*Math.pow(2,s-r)};g1.write=function(t,e,n,r,i,s){var o,l,u,h=s*8-i-1,f=(1<<h)-1,p=f>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=r?0:s-1,_=r?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+p>=1?e+=g/u:e+=g*Math.pow(2,1-p),e*u>=2&&(o++,u/=2),o+p>=f?(l=0,o=f):o+p>=1?(l=(e*u-1)*Math.pow(2,i),o=o+p):(l=e*Math.pow(2,p-1)*Math.pow(2,i),o=0));i>=8;t[n+y]=l&255,y+=_,l/=256,i-=8);for(o=o<<i|l,h+=i;h>0;t[n+y]=o&255,y+=_,o/=256,h-=8);t[n+y-_]|=w*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=n0,n=g1,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=x,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,l.TYPED_ARRAY_SUPPORT=s(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const D=new Uint8Array(1),E={foo:function(){return 42}};return Object.setPrototypeOf(E,Uint8Array.prototype),Object.setPrototypeOf(D,E),D.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function o(D){if(D>i)throw new RangeError('The value "'+D+'" is invalid for option "size"');const E=new Uint8Array(D);return Object.setPrototypeOf(E,l.prototype),E}function l(D,E,P){if(typeof D=="number"){if(typeof E=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(D)}return u(D,E,P)}l.poolSize=8192;function u(D,E,P){if(typeof D=="string")return g(D,E);if(ArrayBuffer.isView(D))return _(D);if(D==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D);if(W(D,ArrayBuffer)||D&&W(D.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(W(D,SharedArrayBuffer)||D&&W(D.buffer,SharedArrayBuffer)))return w(D,E,P);if(typeof D=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const U=D.valueOf&&D.valueOf();if(U!=null&&U!==D)return l.from(U,E,P);const oe=b(D);if(oe)return oe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof D[Symbol.toPrimitive]=="function")return l.from(D[Symbol.toPrimitive]("string"),E,P);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D)}l.from=function(D,E,P){return u(D,E,P)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function h(D){if(typeof D!="number")throw new TypeError('"size" argument must be of type number');if(D<0)throw new RangeError('The value "'+D+'" is invalid for option "size"')}function f(D,E,P){return h(D),D<=0?o(D):E!==void 0?typeof P=="string"?o(D).fill(E,P):o(D).fill(E):o(D)}l.alloc=function(D,E,P){return f(D,E,P)};function p(D){return h(D),o(D<0?0:k(D)|0)}l.allocUnsafe=function(D){return p(D)},l.allocUnsafeSlow=function(D){return p(D)};function g(D,E){if((typeof E!="string"||E==="")&&(E="utf8"),!l.isEncoding(E))throw new TypeError("Unknown encoding: "+E);const P=v(D,E)|0;let U=o(P);const oe=U.write(D,E);return oe!==P&&(U=U.slice(0,oe)),U}function y(D){const E=D.length<0?0:k(D.length)|0,P=o(E);for(let U=0;U<E;U+=1)P[U]=D[U]&255;return P}function _(D){if(W(D,Uint8Array)){const E=new Uint8Array(D);return w(E.buffer,E.byteOffset,E.byteLength)}return y(D)}function w(D,E,P){if(E<0||D.byteLength<E)throw new RangeError('"offset" is outside of buffer bounds');if(D.byteLength<E+(P||0))throw new RangeError('"length" is outside of buffer bounds');let U;return E===void 0&&P===void 0?U=new Uint8Array(D):P===void 0?U=new Uint8Array(D,E):U=new Uint8Array(D,E,P),Object.setPrototypeOf(U,l.prototype),U}function b(D){if(l.isBuffer(D)){const E=k(D.length)|0,P=o(E);return P.length===0||D.copy(P,0,0,E),P}if(D.length!==void 0)return typeof D.length!="number"||J(D.length)?o(0):y(D);if(D.type==="Buffer"&&Array.isArray(D.data))return y(D.data)}function k(D){if(D>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return D|0}function x(D){return+D!=D&&(D=0),l.alloc(+D)}l.isBuffer=function(E){return E!=null&&E._isBuffer===!0&&E!==l.prototype},l.compare=function(E,P){if(W(E,Uint8Array)&&(E=l.from(E,E.offset,E.byteLength)),W(P,Uint8Array)&&(P=l.from(P,P.offset,P.byteLength)),!l.isBuffer(E)||!l.isBuffer(P))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===P)return 0;let U=E.length,oe=P.length;for(let ve=0,Fe=Math.min(U,oe);ve<Fe;++ve)if(E[ve]!==P[ve]){U=E[ve],oe=P[ve];break}return U<oe?-1:oe<U?1:0},l.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(E,P){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(E.length===0)return l.alloc(0);let U;if(P===void 0)for(P=0,U=0;U<E.length;++U)P+=E[U].length;const oe=l.allocUnsafe(P);let ve=0;for(U=0;U<E.length;++U){let Fe=E[U];if(W(Fe,Uint8Array))ve+Fe.length>oe.length?(l.isBuffer(Fe)||(Fe=l.from(Fe)),Fe.copy(oe,ve)):Uint8Array.prototype.set.call(oe,Fe,ve);else if(l.isBuffer(Fe))Fe.copy(oe,ve);else throw new TypeError('"list" argument must be an Array of Buffers');ve+=Fe.length}return oe};function v(D,E){if(l.isBuffer(D))return D.length;if(ArrayBuffer.isView(D)||W(D,ArrayBuffer))return D.byteLength;if(typeof D!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof D);const P=D.length,U=arguments.length>2&&arguments[2]===!0;if(!U&&P===0)return 0;let oe=!1;for(;;)switch(E){case"ascii":case"latin1":case"binary":return P;case"utf8":case"utf-8":return we(D).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P*2;case"hex":return P>>>1;case"base64":return H(D).length;default:if(oe)return U?-1:we(D).length;E=(""+E).toLowerCase(),oe=!0}}l.byteLength=v;function C(D,E,P){let U=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((P===void 0||P>this.length)&&(P=this.length),P<=0)||(P>>>=0,E>>>=0,P<=E))return"";for(D||(D="utf8");;)switch(D){case"hex":return ge(this,E,P);case"utf8":case"utf-8":return Ae(this,E,P);case"ascii":return Ne(this,E,P);case"latin1":case"binary":return me(this,E,P);case"base64":return ae(this,E,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,E,P);default:if(U)throw new TypeError("Unknown encoding: "+D);D=(D+"").toLowerCase(),U=!0}}l.prototype._isBuffer=!0;function F(D,E,P){const U=D[E];D[E]=D[P],D[P]=U}l.prototype.swap16=function(){const E=this.length;if(E%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let P=0;P<E;P+=2)F(this,P,P+1);return this},l.prototype.swap32=function(){const E=this.length;if(E%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let P=0;P<E;P+=4)F(this,P,P+3),F(this,P+1,P+2);return this},l.prototype.swap64=function(){const E=this.length;if(E%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let P=0;P<E;P+=8)F(this,P,P+7),F(this,P+1,P+6),F(this,P+2,P+5),F(this,P+3,P+4);return this},l.prototype.toString=function(){const E=this.length;return E===0?"":arguments.length===0?Ae(this,0,E):C.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(E){if(!l.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E?!0:l.compare(this,E)===0},l.prototype.inspect=function(){let E="";const P=t.INSPECT_MAX_BYTES;return E=this.toString("hex",0,P).replace(/(.{2})/g,"$1 ").trim(),this.length>P&&(E+=" ... "),"<Buffer "+E+">"},r&&(l.prototype[r]=l.prototype.inspect),l.prototype.compare=function(E,P,U,oe,ve){if(W(E,Uint8Array)&&(E=l.from(E,E.offset,E.byteLength)),!l.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof E);if(P===void 0&&(P=0),U===void 0&&(U=E?E.length:0),oe===void 0&&(oe=0),ve===void 0&&(ve=this.length),P<0||U>E.length||oe<0||ve>this.length)throw new RangeError("out of range index");if(oe>=ve&&P>=U)return 0;if(oe>=ve)return-1;if(P>=U)return 1;if(P>>>=0,U>>>=0,oe>>>=0,ve>>>=0,this===E)return 0;let Fe=ve-oe,Qe=U-P;const ct=Math.min(Fe,Qe),dt=this.slice(oe,ve),it=E.slice(P,U);for(let St=0;St<ct;++St)if(dt[St]!==it[St]){Fe=dt[St],Qe=it[St];break}return Fe<Qe?-1:Qe<Fe?1:0};function j(D,E,P,U,oe){if(D.length===0)return-1;if(typeof P=="string"?(U=P,P=0):P>2147483647?P=2147483647:P<-2147483648&&(P=-2147483648),P=+P,J(P)&&(P=oe?0:D.length-1),P<0&&(P=D.length+P),P>=D.length){if(oe)return-1;P=D.length-1}else if(P<0)if(oe)P=0;else return-1;if(typeof E=="string"&&(E=l.from(E,U)),l.isBuffer(E))return E.length===0?-1:R(D,E,P,U,oe);if(typeof E=="number")return E=E&255,typeof Uint8Array.prototype.indexOf=="function"?oe?Uint8Array.prototype.indexOf.call(D,E,P):Uint8Array.prototype.lastIndexOf.call(D,E,P):R(D,[E],P,U,oe);throw new TypeError("val must be string, number or Buffer")}function R(D,E,P,U,oe){let ve=1,Fe=D.length,Qe=E.length;if(U!==void 0&&(U=String(U).toLowerCase(),U==="ucs2"||U==="ucs-2"||U==="utf16le"||U==="utf-16le")){if(D.length<2||E.length<2)return-1;ve=2,Fe/=2,Qe/=2,P/=2}function ct(it,St){return ve===1?it[St]:it.readUInt16BE(St*ve)}let dt;if(oe){let it=-1;for(dt=P;dt<Fe;dt++)if(ct(D,dt)===ct(E,it===-1?0:dt-it)){if(it===-1&&(it=dt),dt-it+1===Qe)return it*ve}else it!==-1&&(dt-=dt-it),it=-1}else for(P+Qe>Fe&&(P=Fe-Qe),dt=P;dt>=0;dt--){let it=!0;for(let St=0;St<Qe;St++)if(ct(D,dt+St)!==ct(E,St)){it=!1;break}if(it)return dt}return-1}l.prototype.includes=function(E,P,U){return this.indexOf(E,P,U)!==-1},l.prototype.indexOf=function(E,P,U){return j(this,E,P,U,!0)},l.prototype.lastIndexOf=function(E,P,U){return j(this,E,P,U,!1)};function z(D,E,P,U){P=Number(P)||0;const oe=D.length-P;U?(U=Number(U),U>oe&&(U=oe)):U=oe;const ve=E.length;U>ve/2&&(U=ve/2);let Fe;for(Fe=0;Fe<U;++Fe){const Qe=parseInt(E.substr(Fe*2,2),16);if(J(Qe))return Fe;D[P+Fe]=Qe}return Fe}function Q(D,E,P,U){return N(we(E,D.length-P),D,P,U)}function $(D,E,P,U){return N(ke(E),D,P,U)}function X(D,E,P,U){return N(H(E),D,P,U)}function te(D,E,P,U){return N(Re(E,D.length-P),D,P,U)}l.prototype.write=function(E,P,U,oe){if(P===void 0)oe="utf8",U=this.length,P=0;else if(U===void 0&&typeof P=="string")oe=P,U=this.length,P=0;else if(isFinite(P))P=P>>>0,isFinite(U)?(U=U>>>0,oe===void 0&&(oe="utf8")):(oe=U,U=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ve=this.length-P;if((U===void 0||U>ve)&&(U=ve),E.length>0&&(U<0||P<0)||P>this.length)throw new RangeError("Attempt to write outside buffer bounds");oe||(oe="utf8");let Fe=!1;for(;;)switch(oe){case"hex":return z(this,E,P,U);case"utf8":case"utf-8":return Q(this,E,P,U);case"ascii":case"latin1":case"binary":return $(this,E,P,U);case"base64":return X(this,E,P,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te(this,E,P,U);default:if(Fe)throw new TypeError("Unknown encoding: "+oe);oe=(""+oe).toLowerCase(),Fe=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ae(D,E,P){return E===0&&P===D.length?e.fromByteArray(D):e.fromByteArray(D.slice(E,P))}function Ae(D,E,P){P=Math.min(D.length,P);const U=[];let oe=E;for(;oe<P;){const ve=D[oe];let Fe=null,Qe=ve>239?4:ve>223?3:ve>191?2:1;if(oe+Qe<=P){let ct,dt,it,St;switch(Qe){case 1:ve<128&&(Fe=ve);break;case 2:ct=D[oe+1],(ct&192)===128&&(St=(ve&31)<<6|ct&63,St>127&&(Fe=St));break;case 3:ct=D[oe+1],dt=D[oe+2],(ct&192)===128&&(dt&192)===128&&(St=(ve&15)<<12|(ct&63)<<6|dt&63,St>2047&&(St<55296||St>57343)&&(Fe=St));break;case 4:ct=D[oe+1],dt=D[oe+2],it=D[oe+3],(ct&192)===128&&(dt&192)===128&&(it&192)===128&&(St=(ve&15)<<18|(ct&63)<<12|(dt&63)<<6|it&63,St>65535&&St<1114112&&(Fe=St))}}Fe===null?(Fe=65533,Qe=1):Fe>65535&&(Fe-=65536,U.push(Fe>>>10&1023|55296),Fe=56320|Fe&1023),U.push(Fe),oe+=Qe}return Ee(U)}const he=4096;function Ee(D){const E=D.length;if(E<=he)return String.fromCharCode.apply(String,D);let P="",U=0;for(;U<E;)P+=String.fromCharCode.apply(String,D.slice(U,U+=he));return P}function Ne(D,E,P){let U="";P=Math.min(D.length,P);for(let oe=E;oe<P;++oe)U+=String.fromCharCode(D[oe]&127);return U}function me(D,E,P){let U="";P=Math.min(D.length,P);for(let oe=E;oe<P;++oe)U+=String.fromCharCode(D[oe]);return U}function ge(D,E,P){const U=D.length;(!E||E<0)&&(E=0),(!P||P<0||P>U)&&(P=U);let oe="";for(let ve=E;ve<P;++ve)oe+=K[D[ve]];return oe}function fe(D,E,P){const U=D.slice(E,P);let oe="";for(let ve=0;ve<U.length-1;ve+=2)oe+=String.fromCharCode(U[ve]+U[ve+1]*256);return oe}l.prototype.slice=function(E,P){const U=this.length;E=~~E,P=P===void 0?U:~~P,E<0?(E+=U,E<0&&(E=0)):E>U&&(E=U),P<0?(P+=U,P<0&&(P=0)):P>U&&(P=U),P<E&&(P=E);const oe=this.subarray(E,P);return Object.setPrototypeOf(oe,l.prototype),oe};function le(D,E,P){if(D%1!==0||D<0)throw new RangeError("offset is not uint");if(D+E>P)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(E,P,U){E=E>>>0,P=P>>>0,U||le(E,P,this.length);let oe=this[E],ve=1,Fe=0;for(;++Fe<P&&(ve*=256);)oe+=this[E+Fe]*ve;return oe},l.prototype.readUintBE=l.prototype.readUIntBE=function(E,P,U){E=E>>>0,P=P>>>0,U||le(E,P,this.length);let oe=this[E+--P],ve=1;for(;P>0&&(ve*=256);)oe+=this[E+--P]*ve;return oe},l.prototype.readUint8=l.prototype.readUInt8=function(E,P){return E=E>>>0,P||le(E,1,this.length),this[E]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(E,P){return E=E>>>0,P||le(E,2,this.length),this[E]|this[E+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(E,P){return E=E>>>0,P||le(E,2,this.length),this[E]<<8|this[E+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(E,P){return E=E>>>0,P||le(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+this[E+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(E,P){return E=E>>>0,P||le(E,4,this.length),this[E]*16777216+(this[E+1]<<16|this[E+2]<<8|this[E+3])},l.prototype.readBigUInt64LE=se(function(E){E=E>>>0,Ce(E,"offset");const P=this[E],U=this[E+7];(P===void 0||U===void 0)&&_e(E,this.length-8);const oe=P+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24,ve=this[++E]+this[++E]*2**8+this[++E]*2**16+U*2**24;return BigInt(oe)+(BigInt(ve)<<BigInt(32))}),l.prototype.readBigUInt64BE=se(function(E){E=E>>>0,Ce(E,"offset");const P=this[E],U=this[E+7];(P===void 0||U===void 0)&&_e(E,this.length-8);const oe=P*2**24+this[++E]*2**16+this[++E]*2**8+this[++E],ve=this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+U;return(BigInt(oe)<<BigInt(32))+BigInt(ve)}),l.prototype.readIntLE=function(E,P,U){E=E>>>0,P=P>>>0,U||le(E,P,this.length);let oe=this[E],ve=1,Fe=0;for(;++Fe<P&&(ve*=256);)oe+=this[E+Fe]*ve;return ve*=128,oe>=ve&&(oe-=Math.pow(2,8*P)),oe},l.prototype.readIntBE=function(E,P,U){E=E>>>0,P=P>>>0,U||le(E,P,this.length);let oe=P,ve=1,Fe=this[E+--oe];for(;oe>0&&(ve*=256);)Fe+=this[E+--oe]*ve;return ve*=128,Fe>=ve&&(Fe-=Math.pow(2,8*P)),Fe},l.prototype.readInt8=function(E,P){return E=E>>>0,P||le(E,1,this.length),this[E]&128?(255-this[E]+1)*-1:this[E]},l.prototype.readInt16LE=function(E,P){E=E>>>0,P||le(E,2,this.length);const U=this[E]|this[E+1]<<8;return U&32768?U|4294901760:U},l.prototype.readInt16BE=function(E,P){E=E>>>0,P||le(E,2,this.length);const U=this[E+1]|this[E]<<8;return U&32768?U|4294901760:U},l.prototype.readInt32LE=function(E,P){return E=E>>>0,P||le(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},l.prototype.readInt32BE=function(E,P){return E=E>>>0,P||le(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},l.prototype.readBigInt64LE=se(function(E){E=E>>>0,Ce(E,"offset");const P=this[E],U=this[E+7];(P===void 0||U===void 0)&&_e(E,this.length-8);const oe=this[E+4]+this[E+5]*2**8+this[E+6]*2**16+(U<<24);return(BigInt(oe)<<BigInt(32))+BigInt(P+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24)}),l.prototype.readBigInt64BE=se(function(E){E=E>>>0,Ce(E,"offset");const P=this[E],U=this[E+7];(P===void 0||U===void 0)&&_e(E,this.length-8);const oe=(P<<24)+this[++E]*2**16+this[++E]*2**8+this[++E];return(BigInt(oe)<<BigInt(32))+BigInt(this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+U)}),l.prototype.readFloatLE=function(E,P){return E=E>>>0,P||le(E,4,this.length),n.read(this,E,!0,23,4)},l.prototype.readFloatBE=function(E,P){return E=E>>>0,P||le(E,4,this.length),n.read(this,E,!1,23,4)},l.prototype.readDoubleLE=function(E,P){return E=E>>>0,P||le(E,8,this.length),n.read(this,E,!0,52,8)},l.prototype.readDoubleBE=function(E,P){return E=E>>>0,P||le(E,8,this.length),n.read(this,E,!1,52,8)};function pe(D,E,P,U,oe,ve){if(!l.isBuffer(D))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>oe||E<ve)throw new RangeError('"value" argument is out of bounds');if(P+U>D.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(E,P,U,oe){if(E=+E,P=P>>>0,U=U>>>0,!oe){const Qe=Math.pow(2,8*U)-1;pe(this,E,P,U,Qe,0)}let ve=1,Fe=0;for(this[P]=E&255;++Fe<U&&(ve*=256);)this[P+Fe]=E/ve&255;return P+U},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(E,P,U,oe){if(E=+E,P=P>>>0,U=U>>>0,!oe){const Qe=Math.pow(2,8*U)-1;pe(this,E,P,U,Qe,0)}let ve=U-1,Fe=1;for(this[P+ve]=E&255;--ve>=0&&(Fe*=256);)this[P+ve]=E/Fe&255;return P+U},l.prototype.writeUint8=l.prototype.writeUInt8=function(E,P,U){return E=+E,P=P>>>0,U||pe(this,E,P,1,255,0),this[P]=E&255,P+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(E,P,U){return E=+E,P=P>>>0,U||pe(this,E,P,2,65535,0),this[P]=E&255,this[P+1]=E>>>8,P+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(E,P,U){return E=+E,P=P>>>0,U||pe(this,E,P,2,65535,0),this[P]=E>>>8,this[P+1]=E&255,P+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(E,P,U){return E=+E,P=P>>>0,U||pe(this,E,P,4,4294967295,0),this[P+3]=E>>>24,this[P+2]=E>>>16,this[P+1]=E>>>8,this[P]=E&255,P+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(E,P,U){return E=+E,P=P>>>0,U||pe(this,E,P,4,4294967295,0),this[P]=E>>>24,this[P+1]=E>>>16,this[P+2]=E>>>8,this[P+3]=E&255,P+4};function be(D,E,P,U,oe){ce(E,U,oe,D,P,7);let ve=Number(E&BigInt(4294967295));D[P++]=ve,ve=ve>>8,D[P++]=ve,ve=ve>>8,D[P++]=ve,ve=ve>>8,D[P++]=ve;let Fe=Number(E>>BigInt(32)&BigInt(4294967295));return D[P++]=Fe,Fe=Fe>>8,D[P++]=Fe,Fe=Fe>>8,D[P++]=Fe,Fe=Fe>>8,D[P++]=Fe,P}function ie(D,E,P,U,oe){ce(E,U,oe,D,P,7);let ve=Number(E&BigInt(4294967295));D[P+7]=ve,ve=ve>>8,D[P+6]=ve,ve=ve>>8,D[P+5]=ve,ve=ve>>8,D[P+4]=ve;let Fe=Number(E>>BigInt(32)&BigInt(4294967295));return D[P+3]=Fe,Fe=Fe>>8,D[P+2]=Fe,Fe=Fe>>8,D[P+1]=Fe,Fe=Fe>>8,D[P]=Fe,P+8}l.prototype.writeBigUInt64LE=se(function(E,P=0){return be(this,E,P,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=se(function(E,P=0){return ie(this,E,P,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(E,P,U,oe){if(E=+E,P=P>>>0,!oe){const ct=Math.pow(2,8*U-1);pe(this,E,P,U,ct-1,-ct)}let ve=0,Fe=1,Qe=0;for(this[P]=E&255;++ve<U&&(Fe*=256);)E<0&&Qe===0&&this[P+ve-1]!==0&&(Qe=1),this[P+ve]=(E/Fe>>0)-Qe&255;return P+U},l.prototype.writeIntBE=function(E,P,U,oe){if(E=+E,P=P>>>0,!oe){const ct=Math.pow(2,8*U-1);pe(this,E,P,U,ct-1,-ct)}let ve=U-1,Fe=1,Qe=0;for(this[P+ve]=E&255;--ve>=0&&(Fe*=256);)E<0&&Qe===0&&this[P+ve+1]!==0&&(Qe=1),this[P+ve]=(E/Fe>>0)-Qe&255;return P+U},l.prototype.writeInt8=function(E,P,U){return E=+E,P=P>>>0,U||pe(this,E,P,1,127,-128),E<0&&(E=255+E+1),this[P]=E&255,P+1},l.prototype.writeInt16LE=function(E,P,U){return E=+E,P=P>>>0,U||pe(this,E,P,2,32767,-32768),this[P]=E&255,this[P+1]=E>>>8,P+2},l.prototype.writeInt16BE=function(E,P,U){return E=+E,P=P>>>0,U||pe(this,E,P,2,32767,-32768),this[P]=E>>>8,this[P+1]=E&255,P+2},l.prototype.writeInt32LE=function(E,P,U){return E=+E,P=P>>>0,U||pe(this,E,P,4,2147483647,-2147483648),this[P]=E&255,this[P+1]=E>>>8,this[P+2]=E>>>16,this[P+3]=E>>>24,P+4},l.prototype.writeInt32BE=function(E,P,U){return E=+E,P=P>>>0,U||pe(this,E,P,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[P]=E>>>24,this[P+1]=E>>>16,this[P+2]=E>>>8,this[P+3]=E&255,P+4},l.prototype.writeBigInt64LE=se(function(E,P=0){return be(this,E,P,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=se(function(E,P=0){return ie(this,E,P,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Te(D,E,P,U,oe,ve){if(P+U>D.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("Index out of range")}function Le(D,E,P,U,oe){return E=+E,P=P>>>0,oe||Te(D,E,P,4),n.write(D,E,P,U,23,4),P+4}l.prototype.writeFloatLE=function(E,P,U){return Le(this,E,P,!0,U)},l.prototype.writeFloatBE=function(E,P,U){return Le(this,E,P,!1,U)};function Ze(D,E,P,U,oe){return E=+E,P=P>>>0,oe||Te(D,E,P,8),n.write(D,E,P,U,52,8),P+8}l.prototype.writeDoubleLE=function(E,P,U){return Ze(this,E,P,!0,U)},l.prototype.writeDoubleBE=function(E,P,U){return Ze(this,E,P,!1,U)},l.prototype.copy=function(E,P,U,oe){if(!l.isBuffer(E))throw new TypeError("argument should be a Buffer");if(U||(U=0),!oe&&oe!==0&&(oe=this.length),P>=E.length&&(P=E.length),P||(P=0),oe>0&&oe<U&&(oe=U),oe===U||E.length===0||this.length===0)return 0;if(P<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("sourceEnd out of bounds");oe>this.length&&(oe=this.length),E.length-P<oe-U&&(oe=E.length-P+U);const ve=oe-U;return this===E&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(P,U,oe):Uint8Array.prototype.set.call(E,this.subarray(U,oe),P),ve},l.prototype.fill=function(E,P,U,oe){if(typeof E=="string"){if(typeof P=="string"?(oe=P,P=0,U=this.length):typeof U=="string"&&(oe=U,U=this.length),oe!==void 0&&typeof oe!="string")throw new TypeError("encoding must be a string");if(typeof oe=="string"&&!l.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);if(E.length===1){const Fe=E.charCodeAt(0);(oe==="utf8"&&Fe<128||oe==="latin1")&&(E=Fe)}}else typeof E=="number"?E=E&255:typeof E=="boolean"&&(E=Number(E));if(P<0||this.length<P||this.length<U)throw new RangeError("Out of range index");if(U<=P)return this;P=P>>>0,U=U===void 0?this.length:U>>>0,E||(E=0);let ve;if(typeof E=="number")for(ve=P;ve<U;++ve)this[ve]=E;else{const Fe=l.isBuffer(E)?E:l.from(E,oe),Qe=Fe.length;if(Qe===0)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(ve=0;ve<U-P;++ve)this[ve+P]=Fe[ve%Qe]}return this};const Be={};function We(D,E,P){Be[D]=class extends P{constructor(){super(),Object.defineProperty(this,"message",{value:E.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${D}]`,this.stack,delete this.name}get code(){return D}set code(oe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:oe,writable:!0})}toString(){return`${this.name} [${D}]: ${this.message}`}}}We("ERR_BUFFER_OUT_OF_BOUNDS",function(D){return D?`${D} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),We("ERR_INVALID_ARG_TYPE",function(D,E){return`The "${D}" argument must be of type number. Received type ${typeof E}`},TypeError),We("ERR_OUT_OF_RANGE",function(D,E,P){let U=`The value of "${D}" is out of range.`,oe=P;return Number.isInteger(P)&&Math.abs(P)>2**32?oe=V(String(P)):typeof P=="bigint"&&(oe=String(P),(P>BigInt(2)**BigInt(32)||P<-(BigInt(2)**BigInt(32)))&&(oe=V(oe)),oe+="n"),U+=` It must be ${E}. Received ${oe}`,U},RangeError);function V(D){let E="",P=D.length;const U=D[0]==="-"?1:0;for(;P>=U+4;P-=3)E=`_${D.slice(P-3,P)}${E}`;return`${D.slice(0,P)}${E}`}function ee(D,E,P){Ce(E,"offset"),(D[E]===void 0||D[E+P]===void 0)&&_e(E,D.length-(P+1))}function ce(D,E,P,U,oe,ve){if(D>P||D<E){const Fe=typeof E=="bigint"?"n":"";let Qe;throw E===0||E===BigInt(0)?Qe=`>= 0${Fe} and < 2${Fe} ** ${(ve+1)*8}${Fe}`:Qe=`>= -(2${Fe} ** ${(ve+1)*8-1}${Fe}) and < 2 ** ${(ve+1)*8-1}${Fe}`,new Be.ERR_OUT_OF_RANGE("value",Qe,D)}ee(U,oe,ve)}function Ce(D,E){if(typeof D!="number")throw new Be.ERR_INVALID_ARG_TYPE(E,"number",D)}function _e(D,E,P){throw Math.floor(D)!==D?(Ce(D,P),new Be.ERR_OUT_OF_RANGE("offset","an integer",D)):E<0?new Be.ERR_BUFFER_OUT_OF_BOUNDS:new Be.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${E}`,D)}const je=/[^+/0-9A-Za-z-_]/g;function Me(D){if(D=D.split("=")[0],D=D.trim().replace(je,""),D.length<2)return"";for(;D.length%4!==0;)D=D+"=";return D}function we(D,E){E=E||1/0;let P;const U=D.length;let oe=null;const ve=[];for(let Fe=0;Fe<U;++Fe){if(P=D.charCodeAt(Fe),P>55295&&P<57344){if(!oe){if(P>56319){(E-=3)>-1&&ve.push(239,191,189);continue}else if(Fe+1===U){(E-=3)>-1&&ve.push(239,191,189);continue}oe=P;continue}if(P<56320){(E-=3)>-1&&ve.push(239,191,189),oe=P;continue}P=(oe-55296<<10|P-56320)+65536}else oe&&(E-=3)>-1&&ve.push(239,191,189);if(oe=null,P<128){if((E-=1)<0)break;ve.push(P)}else if(P<2048){if((E-=2)<0)break;ve.push(P>>6|192,P&63|128)}else if(P<65536){if((E-=3)<0)break;ve.push(P>>12|224,P>>6&63|128,P&63|128)}else if(P<1114112){if((E-=4)<0)break;ve.push(P>>18|240,P>>12&63|128,P>>6&63|128,P&63|128)}else throw new Error("Invalid code point")}return ve}function ke(D){const E=[];for(let P=0;P<D.length;++P)E.push(D.charCodeAt(P)&255);return E}function Re(D,E){let P,U,oe;const ve=[];for(let Fe=0;Fe<D.length&&!((E-=2)<0);++Fe)P=D.charCodeAt(Fe),U=P>>8,oe=P%256,ve.push(oe),ve.push(U);return ve}function H(D){return e.toByteArray(Me(D))}function N(D,E,P,U){let oe;for(oe=0;oe<U&&!(oe+P>=E.length||oe>=D.length);++oe)E[oe+P]=D[oe];return oe}function W(D,E){return D instanceof E||D!=null&&D.constructor!=null&&D.constructor.name!=null&&D.constructor.name===E.name}function J(D){return D!==D}const K=function(){const D="0123456789abcdef",E=new Array(256);for(let P=0;P<16;++P){const U=P*16;for(let oe=0;oe<16;++oe)E[U+oe]=D[P]+D[oe]}return E}();function se(D){return typeof BigInt>"u"?xe:D}function xe(){throw new Error("BigInt not supported")}})(Se);function J6(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Q6={exports:{}};const BB={},DB=Object.freeze(Object.defineProperty({__proto__:null,default:BB},Symbol.toStringTag,{value:"Module"})),e4=SA(DB);(function(t){(function(e){var n=function(O){var Z,q=new Float64Array(16);if(O)for(Z=0;Z<O.length;Z++)q[Z]=O[Z];return q},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=n(),l=n([1]),u=n([56129,1]),h=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),f=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),p=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),g=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),y=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function _(O,Z,q,T){O[Z]=q>>24&255,O[Z+1]=q>>16&255,O[Z+2]=q>>8&255,O[Z+3]=q&255,O[Z+4]=T>>24&255,O[Z+5]=T>>16&255,O[Z+6]=T>>8&255,O[Z+7]=T&255}function w(O,Z,q,T,ne){var Pe,De=0;for(Pe=0;Pe<ne;Pe++)De|=O[Z+Pe]^q[T+Pe];return(1&De-1>>>8)-1}function b(O,Z,q,T){return w(O,Z,q,T,16)}function k(O,Z,q,T){return w(O,Z,q,T,32)}function x(O,Z,q,T){for(var ne=T[0]&255|(T[1]&255)<<8|(T[2]&255)<<16|(T[3]&255)<<24,Pe=q[0]&255|(q[1]&255)<<8|(q[2]&255)<<16|(q[3]&255)<<24,De=q[4]&255|(q[5]&255)<<8|(q[6]&255)<<16|(q[7]&255)<<24,Ke=q[8]&255|(q[9]&255)<<8|(q[10]&255)<<16|(q[11]&255)<<24,Je=q[12]&255|(q[13]&255)<<8|(q[14]&255)<<16|(q[15]&255)<<24,ht=T[4]&255|(T[5]&255)<<8|(T[6]&255)<<16|(T[7]&255)<<24,at=Z[0]&255|(Z[1]&255)<<8|(Z[2]&255)<<16|(Z[3]&255)<<24,Qt=Z[4]&255|(Z[5]&255)<<8|(Z[6]&255)<<16|(Z[7]&255)<<24,ut=Z[8]&255|(Z[9]&255)<<8|(Z[10]&255)<<16|(Z[11]&255)<<24,Tt=Z[12]&255|(Z[13]&255)<<8|(Z[14]&255)<<16|(Z[15]&255)<<24,Rt=T[8]&255|(T[9]&255)<<8|(T[10]&255)<<16|(T[11]&255)<<24,qt=q[16]&255|(q[17]&255)<<8|(q[18]&255)<<16|(q[19]&255)<<24,Vt=q[20]&255|(q[21]&255)<<8|(q[22]&255)<<16|(q[23]&255)<<24,Pt=q[24]&255|(q[25]&255)<<8|(q[26]&255)<<16|(q[27]&255)<<24,Ft=q[28]&255|(q[29]&255)<<8|(q[30]&255)<<16|(q[31]&255)<<24,Bt=T[12]&255|(T[13]&255)<<8|(T[14]&255)<<16|(T[15]&255)<<24,gt=ne,_t=Pe,lt=De,ft=Ke,ot=Je,st=ht,Oe=at,$e=Qt,qe=ut,ze=Tt,Ge=Rt,Ye=qt,bt=Vt,$t=Pt,rt=Ft,xt=Bt,de,Dt=0;Dt<20;Dt+=2)de=gt+bt|0,ot^=de<<7|de>>>25,de=ot+gt|0,qe^=de<<9|de>>>23,de=qe+ot|0,bt^=de<<13|de>>>19,de=bt+qe|0,gt^=de<<18|de>>>14,de=st+_t|0,ze^=de<<7|de>>>25,de=ze+st|0,$t^=de<<9|de>>>23,de=$t+ze|0,_t^=de<<13|de>>>19,de=_t+$t|0,st^=de<<18|de>>>14,de=Ge+Oe|0,rt^=de<<7|de>>>25,de=rt+Ge|0,lt^=de<<9|de>>>23,de=lt+rt|0,Oe^=de<<13|de>>>19,de=Oe+lt|0,Ge^=de<<18|de>>>14,de=xt+Ye|0,ft^=de<<7|de>>>25,de=ft+xt|0,$e^=de<<9|de>>>23,de=$e+ft|0,Ye^=de<<13|de>>>19,de=Ye+$e|0,xt^=de<<18|de>>>14,de=gt+ft|0,_t^=de<<7|de>>>25,de=_t+gt|0,lt^=de<<9|de>>>23,de=lt+_t|0,ft^=de<<13|de>>>19,de=ft+lt|0,gt^=de<<18|de>>>14,de=st+ot|0,Oe^=de<<7|de>>>25,de=Oe+st|0,$e^=de<<9|de>>>23,de=$e+Oe|0,ot^=de<<13|de>>>19,de=ot+$e|0,st^=de<<18|de>>>14,de=Ge+ze|0,Ye^=de<<7|de>>>25,de=Ye+Ge|0,qe^=de<<9|de>>>23,de=qe+Ye|0,ze^=de<<13|de>>>19,de=ze+qe|0,Ge^=de<<18|de>>>14,de=xt+rt|0,bt^=de<<7|de>>>25,de=bt+xt|0,$t^=de<<9|de>>>23,de=$t+bt|0,rt^=de<<13|de>>>19,de=rt+$t|0,xt^=de<<18|de>>>14;gt=gt+ne|0,_t=_t+Pe|0,lt=lt+De|0,ft=ft+Ke|0,ot=ot+Je|0,st=st+ht|0,Oe=Oe+at|0,$e=$e+Qt|0,qe=qe+ut|0,ze=ze+Tt|0,Ge=Ge+Rt|0,Ye=Ye+qt|0,bt=bt+Vt|0,$t=$t+Pt|0,rt=rt+Ft|0,xt=xt+Bt|0,O[0]=gt>>>0&255,O[1]=gt>>>8&255,O[2]=gt>>>16&255,O[3]=gt>>>24&255,O[4]=_t>>>0&255,O[5]=_t>>>8&255,O[6]=_t>>>16&255,O[7]=_t>>>24&255,O[8]=lt>>>0&255,O[9]=lt>>>8&255,O[10]=lt>>>16&255,O[11]=lt>>>24&255,O[12]=ft>>>0&255,O[13]=ft>>>8&255,O[14]=ft>>>16&255,O[15]=ft>>>24&255,O[16]=ot>>>0&255,O[17]=ot>>>8&255,O[18]=ot>>>16&255,O[19]=ot>>>24&255,O[20]=st>>>0&255,O[21]=st>>>8&255,O[22]=st>>>16&255,O[23]=st>>>24&255,O[24]=Oe>>>0&255,O[25]=Oe>>>8&255,O[26]=Oe>>>16&255,O[27]=Oe>>>24&255,O[28]=$e>>>0&255,O[29]=$e>>>8&255,O[30]=$e>>>16&255,O[31]=$e>>>24&255,O[32]=qe>>>0&255,O[33]=qe>>>8&255,O[34]=qe>>>16&255,O[35]=qe>>>24&255,O[36]=ze>>>0&255,O[37]=ze>>>8&255,O[38]=ze>>>16&255,O[39]=ze>>>24&255,O[40]=Ge>>>0&255,O[41]=Ge>>>8&255,O[42]=Ge>>>16&255,O[43]=Ge>>>24&255,O[44]=Ye>>>0&255,O[45]=Ye>>>8&255,O[46]=Ye>>>16&255,O[47]=Ye>>>24&255,O[48]=bt>>>0&255,O[49]=bt>>>8&255,O[50]=bt>>>16&255,O[51]=bt>>>24&255,O[52]=$t>>>0&255,O[53]=$t>>>8&255,O[54]=$t>>>16&255,O[55]=$t>>>24&255,O[56]=rt>>>0&255,O[57]=rt>>>8&255,O[58]=rt>>>16&255,O[59]=rt>>>24&255,O[60]=xt>>>0&255,O[61]=xt>>>8&255,O[62]=xt>>>16&255,O[63]=xt>>>24&255}function v(O,Z,q,T){for(var ne=T[0]&255|(T[1]&255)<<8|(T[2]&255)<<16|(T[3]&255)<<24,Pe=q[0]&255|(q[1]&255)<<8|(q[2]&255)<<16|(q[3]&255)<<24,De=q[4]&255|(q[5]&255)<<8|(q[6]&255)<<16|(q[7]&255)<<24,Ke=q[8]&255|(q[9]&255)<<8|(q[10]&255)<<16|(q[11]&255)<<24,Je=q[12]&255|(q[13]&255)<<8|(q[14]&255)<<16|(q[15]&255)<<24,ht=T[4]&255|(T[5]&255)<<8|(T[6]&255)<<16|(T[7]&255)<<24,at=Z[0]&255|(Z[1]&255)<<8|(Z[2]&255)<<16|(Z[3]&255)<<24,Qt=Z[4]&255|(Z[5]&255)<<8|(Z[6]&255)<<16|(Z[7]&255)<<24,ut=Z[8]&255|(Z[9]&255)<<8|(Z[10]&255)<<16|(Z[11]&255)<<24,Tt=Z[12]&255|(Z[13]&255)<<8|(Z[14]&255)<<16|(Z[15]&255)<<24,Rt=T[8]&255|(T[9]&255)<<8|(T[10]&255)<<16|(T[11]&255)<<24,qt=q[16]&255|(q[17]&255)<<8|(q[18]&255)<<16|(q[19]&255)<<24,Vt=q[20]&255|(q[21]&255)<<8|(q[22]&255)<<16|(q[23]&255)<<24,Pt=q[24]&255|(q[25]&255)<<8|(q[26]&255)<<16|(q[27]&255)<<24,Ft=q[28]&255|(q[29]&255)<<8|(q[30]&255)<<16|(q[31]&255)<<24,Bt=T[12]&255|(T[13]&255)<<8|(T[14]&255)<<16|(T[15]&255)<<24,gt=ne,_t=Pe,lt=De,ft=Ke,ot=Je,st=ht,Oe=at,$e=Qt,qe=ut,ze=Tt,Ge=Rt,Ye=qt,bt=Vt,$t=Pt,rt=Ft,xt=Bt,de,Dt=0;Dt<20;Dt+=2)de=gt+bt|0,ot^=de<<7|de>>>25,de=ot+gt|0,qe^=de<<9|de>>>23,de=qe+ot|0,bt^=de<<13|de>>>19,de=bt+qe|0,gt^=de<<18|de>>>14,de=st+_t|0,ze^=de<<7|de>>>25,de=ze+st|0,$t^=de<<9|de>>>23,de=$t+ze|0,_t^=de<<13|de>>>19,de=_t+$t|0,st^=de<<18|de>>>14,de=Ge+Oe|0,rt^=de<<7|de>>>25,de=rt+Ge|0,lt^=de<<9|de>>>23,de=lt+rt|0,Oe^=de<<13|de>>>19,de=Oe+lt|0,Ge^=de<<18|de>>>14,de=xt+Ye|0,ft^=de<<7|de>>>25,de=ft+xt|0,$e^=de<<9|de>>>23,de=$e+ft|0,Ye^=de<<13|de>>>19,de=Ye+$e|0,xt^=de<<18|de>>>14,de=gt+ft|0,_t^=de<<7|de>>>25,de=_t+gt|0,lt^=de<<9|de>>>23,de=lt+_t|0,ft^=de<<13|de>>>19,de=ft+lt|0,gt^=de<<18|de>>>14,de=st+ot|0,Oe^=de<<7|de>>>25,de=Oe+st|0,$e^=de<<9|de>>>23,de=$e+Oe|0,ot^=de<<13|de>>>19,de=ot+$e|0,st^=de<<18|de>>>14,de=Ge+ze|0,Ye^=de<<7|de>>>25,de=Ye+Ge|0,qe^=de<<9|de>>>23,de=qe+Ye|0,ze^=de<<13|de>>>19,de=ze+qe|0,Ge^=de<<18|de>>>14,de=xt+rt|0,bt^=de<<7|de>>>25,de=bt+xt|0,$t^=de<<9|de>>>23,de=$t+bt|0,rt^=de<<13|de>>>19,de=rt+$t|0,xt^=de<<18|de>>>14;O[0]=gt>>>0&255,O[1]=gt>>>8&255,O[2]=gt>>>16&255,O[3]=gt>>>24&255,O[4]=st>>>0&255,O[5]=st>>>8&255,O[6]=st>>>16&255,O[7]=st>>>24&255,O[8]=Ge>>>0&255,O[9]=Ge>>>8&255,O[10]=Ge>>>16&255,O[11]=Ge>>>24&255,O[12]=xt>>>0&255,O[13]=xt>>>8&255,O[14]=xt>>>16&255,O[15]=xt>>>24&255,O[16]=Oe>>>0&255,O[17]=Oe>>>8&255,O[18]=Oe>>>16&255,O[19]=Oe>>>24&255,O[20]=$e>>>0&255,O[21]=$e>>>8&255,O[22]=$e>>>16&255,O[23]=$e>>>24&255,O[24]=qe>>>0&255,O[25]=qe>>>8&255,O[26]=qe>>>16&255,O[27]=qe>>>24&255,O[28]=ze>>>0&255,O[29]=ze>>>8&255,O[30]=ze>>>16&255,O[31]=ze>>>24&255}function C(O,Z,q,T){x(O,Z,q,T)}function F(O,Z,q,T){v(O,Z,q,T)}var j=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function R(O,Z,q,T,ne,Pe,De){var Ke=new Uint8Array(16),Je=new Uint8Array(64),ht,at;for(at=0;at<16;at++)Ke[at]=0;for(at=0;at<8;at++)Ke[at]=Pe[at];for(;ne>=64;){for(C(Je,Ke,De,j),at=0;at<64;at++)O[Z+at]=q[T+at]^Je[at];for(ht=1,at=8;at<16;at++)ht=ht+(Ke[at]&255)|0,Ke[at]=ht&255,ht>>>=8;ne-=64,Z+=64,T+=64}if(ne>0)for(C(Je,Ke,De,j),at=0;at<ne;at++)O[Z+at]=q[T+at]^Je[at];return 0}function z(O,Z,q,T,ne){var Pe=new Uint8Array(16),De=new Uint8Array(64),Ke,Je;for(Je=0;Je<16;Je++)Pe[Je]=0;for(Je=0;Je<8;Je++)Pe[Je]=T[Je];for(;q>=64;){for(C(De,Pe,ne,j),Je=0;Je<64;Je++)O[Z+Je]=De[Je];for(Ke=1,Je=8;Je<16;Je++)Ke=Ke+(Pe[Je]&255)|0,Pe[Je]=Ke&255,Ke>>>=8;q-=64,Z+=64}if(q>0)for(C(De,Pe,ne,j),Je=0;Je<q;Je++)O[Z+Je]=De[Je];return 0}function Q(O,Z,q,T,ne){var Pe=new Uint8Array(32);F(Pe,T,ne,j);for(var De=new Uint8Array(8),Ke=0;Ke<8;Ke++)De[Ke]=T[Ke+16];return z(O,Z,q,De,Pe)}function $(O,Z,q,T,ne,Pe,De){var Ke=new Uint8Array(32);F(Ke,Pe,De,j);for(var Je=new Uint8Array(8),ht=0;ht<8;ht++)Je[ht]=Pe[ht+16];return R(O,Z,q,T,ne,Je,Ke)}var X=function(O){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var Z,q,T,ne,Pe,De,Ke,Je;Z=O[0]&255|(O[1]&255)<<8,this.r[0]=Z&8191,q=O[2]&255|(O[3]&255)<<8,this.r[1]=(Z>>>13|q<<3)&8191,T=O[4]&255|(O[5]&255)<<8,this.r[2]=(q>>>10|T<<6)&7939,ne=O[6]&255|(O[7]&255)<<8,this.r[3]=(T>>>7|ne<<9)&8191,Pe=O[8]&255|(O[9]&255)<<8,this.r[4]=(ne>>>4|Pe<<12)&255,this.r[5]=Pe>>>1&8190,De=O[10]&255|(O[11]&255)<<8,this.r[6]=(Pe>>>14|De<<2)&8191,Ke=O[12]&255|(O[13]&255)<<8,this.r[7]=(De>>>11|Ke<<5)&8065,Je=O[14]&255|(O[15]&255)<<8,this.r[8]=(Ke>>>8|Je<<8)&8191,this.r[9]=Je>>>5&127,this.pad[0]=O[16]&255|(O[17]&255)<<8,this.pad[1]=O[18]&255|(O[19]&255)<<8,this.pad[2]=O[20]&255|(O[21]&255)<<8,this.pad[3]=O[22]&255|(O[23]&255)<<8,this.pad[4]=O[24]&255|(O[25]&255)<<8,this.pad[5]=O[26]&255|(O[27]&255)<<8,this.pad[6]=O[28]&255|(O[29]&255)<<8,this.pad[7]=O[30]&255|(O[31]&255)<<8};X.prototype.blocks=function(O,Z,q){for(var T=this.fin?0:2048,ne,Pe,De,Ke,Je,ht,at,Qt,ut,Tt,Rt,qt,Vt,Pt,Ft,Bt,gt,_t,lt,ft=this.h[0],ot=this.h[1],st=this.h[2],Oe=this.h[3],$e=this.h[4],qe=this.h[5],ze=this.h[6],Ge=this.h[7],Ye=this.h[8],bt=this.h[9],$t=this.r[0],rt=this.r[1],xt=this.r[2],de=this.r[3],Dt=this.r[4],Ut=this.r[5],Xt=this.r[6],Ht=this.r[7],Kt=this.r[8],Et=this.r[9];q>=16;)ne=O[Z+0]&255|(O[Z+1]&255)<<8,ft+=ne&8191,Pe=O[Z+2]&255|(O[Z+3]&255)<<8,ot+=(ne>>>13|Pe<<3)&8191,De=O[Z+4]&255|(O[Z+5]&255)<<8,st+=(Pe>>>10|De<<6)&8191,Ke=O[Z+6]&255|(O[Z+7]&255)<<8,Oe+=(De>>>7|Ke<<9)&8191,Je=O[Z+8]&255|(O[Z+9]&255)<<8,$e+=(Ke>>>4|Je<<12)&8191,qe+=Je>>>1&8191,ht=O[Z+10]&255|(O[Z+11]&255)<<8,ze+=(Je>>>14|ht<<2)&8191,at=O[Z+12]&255|(O[Z+13]&255)<<8,Ge+=(ht>>>11|at<<5)&8191,Qt=O[Z+14]&255|(O[Z+15]&255)<<8,Ye+=(at>>>8|Qt<<8)&8191,bt+=Qt>>>5|T,ut=0,Tt=ut,Tt+=ft*$t,Tt+=ot*(5*Et),Tt+=st*(5*Kt),Tt+=Oe*(5*Ht),Tt+=$e*(5*Xt),ut=Tt>>>13,Tt&=8191,Tt+=qe*(5*Ut),Tt+=ze*(5*Dt),Tt+=Ge*(5*de),Tt+=Ye*(5*xt),Tt+=bt*(5*rt),ut+=Tt>>>13,Tt&=8191,Rt=ut,Rt+=ft*rt,Rt+=ot*$t,Rt+=st*(5*Et),Rt+=Oe*(5*Kt),Rt+=$e*(5*Ht),ut=Rt>>>13,Rt&=8191,Rt+=qe*(5*Xt),Rt+=ze*(5*Ut),Rt+=Ge*(5*Dt),Rt+=Ye*(5*de),Rt+=bt*(5*xt),ut+=Rt>>>13,Rt&=8191,qt=ut,qt+=ft*xt,qt+=ot*rt,qt+=st*$t,qt+=Oe*(5*Et),qt+=$e*(5*Kt),ut=qt>>>13,qt&=8191,qt+=qe*(5*Ht),qt+=ze*(5*Xt),qt+=Ge*(5*Ut),qt+=Ye*(5*Dt),qt+=bt*(5*de),ut+=qt>>>13,qt&=8191,Vt=ut,Vt+=ft*de,Vt+=ot*xt,Vt+=st*rt,Vt+=Oe*$t,Vt+=$e*(5*Et),ut=Vt>>>13,Vt&=8191,Vt+=qe*(5*Kt),Vt+=ze*(5*Ht),Vt+=Ge*(5*Xt),Vt+=Ye*(5*Ut),Vt+=bt*(5*Dt),ut+=Vt>>>13,Vt&=8191,Pt=ut,Pt+=ft*Dt,Pt+=ot*de,Pt+=st*xt,Pt+=Oe*rt,Pt+=$e*$t,ut=Pt>>>13,Pt&=8191,Pt+=qe*(5*Et),Pt+=ze*(5*Kt),Pt+=Ge*(5*Ht),Pt+=Ye*(5*Xt),Pt+=bt*(5*Ut),ut+=Pt>>>13,Pt&=8191,Ft=ut,Ft+=ft*Ut,Ft+=ot*Dt,Ft+=st*de,Ft+=Oe*xt,Ft+=$e*rt,ut=Ft>>>13,Ft&=8191,Ft+=qe*$t,Ft+=ze*(5*Et),Ft+=Ge*(5*Kt),Ft+=Ye*(5*Ht),Ft+=bt*(5*Xt),ut+=Ft>>>13,Ft&=8191,Bt=ut,Bt+=ft*Xt,Bt+=ot*Ut,Bt+=st*Dt,Bt+=Oe*de,Bt+=$e*xt,ut=Bt>>>13,Bt&=8191,Bt+=qe*rt,Bt+=ze*$t,Bt+=Ge*(5*Et),Bt+=Ye*(5*Kt),Bt+=bt*(5*Ht),ut+=Bt>>>13,Bt&=8191,gt=ut,gt+=ft*Ht,gt+=ot*Xt,gt+=st*Ut,gt+=Oe*Dt,gt+=$e*de,ut=gt>>>13,gt&=8191,gt+=qe*xt,gt+=ze*rt,gt+=Ge*$t,gt+=Ye*(5*Et),gt+=bt*(5*Kt),ut+=gt>>>13,gt&=8191,_t=ut,_t+=ft*Kt,_t+=ot*Ht,_t+=st*Xt,_t+=Oe*Ut,_t+=$e*Dt,ut=_t>>>13,_t&=8191,_t+=qe*de,_t+=ze*xt,_t+=Ge*rt,_t+=Ye*$t,_t+=bt*(5*Et),ut+=_t>>>13,_t&=8191,lt=ut,lt+=ft*Et,lt+=ot*Kt,lt+=st*Ht,lt+=Oe*Xt,lt+=$e*Ut,ut=lt>>>13,lt&=8191,lt+=qe*Dt,lt+=ze*de,lt+=Ge*xt,lt+=Ye*rt,lt+=bt*$t,ut+=lt>>>13,lt&=8191,ut=(ut<<2)+ut|0,ut=ut+Tt|0,Tt=ut&8191,ut=ut>>>13,Rt+=ut,ft=Tt,ot=Rt,st=qt,Oe=Vt,$e=Pt,qe=Ft,ze=Bt,Ge=gt,Ye=_t,bt=lt,Z+=16,q-=16;this.h[0]=ft,this.h[1]=ot,this.h[2]=st,this.h[3]=Oe,this.h[4]=$e,this.h[5]=qe,this.h[6]=ze,this.h[7]=Ge,this.h[8]=Ye,this.h[9]=bt},X.prototype.finish=function(O,Z){var q=new Uint16Array(10),T,ne,Pe,De;if(this.leftover){for(De=this.leftover,this.buffer[De++]=1;De<16;De++)this.buffer[De]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(T=this.h[1]>>>13,this.h[1]&=8191,De=2;De<10;De++)this.h[De]+=T,T=this.h[De]>>>13,this.h[De]&=8191;for(this.h[0]+=T*5,T=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=T,T=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=T,q[0]=this.h[0]+5,T=q[0]>>>13,q[0]&=8191,De=1;De<10;De++)q[De]=this.h[De]+T,T=q[De]>>>13,q[De]&=8191;for(q[9]-=8192,ne=(T^1)-1,De=0;De<10;De++)q[De]&=ne;for(ne=~ne,De=0;De<10;De++)this.h[De]=this.h[De]&ne|q[De];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,Pe=this.h[0]+this.pad[0],this.h[0]=Pe&65535,De=1;De<8;De++)Pe=(this.h[De]+this.pad[De]|0)+(Pe>>>16)|0,this.h[De]=Pe&65535;O[Z+0]=this.h[0]>>>0&255,O[Z+1]=this.h[0]>>>8&255,O[Z+2]=this.h[1]>>>0&255,O[Z+3]=this.h[1]>>>8&255,O[Z+4]=this.h[2]>>>0&255,O[Z+5]=this.h[2]>>>8&255,O[Z+6]=this.h[3]>>>0&255,O[Z+7]=this.h[3]>>>8&255,O[Z+8]=this.h[4]>>>0&255,O[Z+9]=this.h[4]>>>8&255,O[Z+10]=this.h[5]>>>0&255,O[Z+11]=this.h[5]>>>8&255,O[Z+12]=this.h[6]>>>0&255,O[Z+13]=this.h[6]>>>8&255,O[Z+14]=this.h[7]>>>0&255,O[Z+15]=this.h[7]>>>8&255},X.prototype.update=function(O,Z,q){var T,ne;if(this.leftover){for(ne=16-this.leftover,ne>q&&(ne=q),T=0;T<ne;T++)this.buffer[this.leftover+T]=O[Z+T];if(q-=ne,Z+=ne,this.leftover+=ne,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(q>=16&&(ne=q-q%16,this.blocks(O,Z,ne),Z+=ne,q-=ne),q){for(T=0;T<q;T++)this.buffer[this.leftover+T]=O[Z+T];this.leftover+=q}};function te(O,Z,q,T,ne,Pe){var De=new X(Pe);return De.update(q,T,ne),De.finish(O,Z),0}function ae(O,Z,q,T,ne,Pe){var De=new Uint8Array(16);return te(De,0,q,T,ne,Pe),b(O,Z,De,0)}function Ae(O,Z,q,T,ne){var Pe;if(q<32)return-1;for($(O,0,Z,0,q,T,ne),te(O,16,O,32,q-32,O),Pe=0;Pe<16;Pe++)O[Pe]=0;return 0}function he(O,Z,q,T,ne){var Pe,De=new Uint8Array(32);if(q<32||(Q(De,0,32,T,ne),ae(Z,16,Z,32,q-32,De)!==0))return-1;for($(O,0,Z,0,q,T,ne),Pe=0;Pe<32;Pe++)O[Pe]=0;return 0}function Ee(O,Z){var q;for(q=0;q<16;q++)O[q]=Z[q]|0}function Ne(O){var Z,q,T=1;for(Z=0;Z<16;Z++)q=O[Z]+T+65535,T=Math.floor(q/65536),O[Z]=q-T*65536;O[0]+=T-1+37*(T-1)}function me(O,Z,q){for(var T,ne=~(q-1),Pe=0;Pe<16;Pe++)T=ne&(O[Pe]^Z[Pe]),O[Pe]^=T,Z[Pe]^=T}function ge(O,Z){var q,T,ne,Pe=n(),De=n();for(q=0;q<16;q++)De[q]=Z[q];for(Ne(De),Ne(De),Ne(De),T=0;T<2;T++){for(Pe[0]=De[0]-65517,q=1;q<15;q++)Pe[q]=De[q]-65535-(Pe[q-1]>>16&1),Pe[q-1]&=65535;Pe[15]=De[15]-32767-(Pe[14]>>16&1),ne=Pe[15]>>16&1,Pe[14]&=65535,me(De,Pe,1-ne)}for(q=0;q<16;q++)O[2*q]=De[q]&255,O[2*q+1]=De[q]>>8}function fe(O,Z){var q=new Uint8Array(32),T=new Uint8Array(32);return ge(q,O),ge(T,Z),k(q,0,T,0)}function le(O){var Z=new Uint8Array(32);return ge(Z,O),Z[0]&1}function pe(O,Z){var q;for(q=0;q<16;q++)O[q]=Z[2*q]+(Z[2*q+1]<<8);O[15]&=32767}function be(O,Z,q){for(var T=0;T<16;T++)O[T]=Z[T]+q[T]}function ie(O,Z,q){for(var T=0;T<16;T++)O[T]=Z[T]-q[T]}function Te(O,Z,q){var T,ne,Pe=0,De=0,Ke=0,Je=0,ht=0,at=0,Qt=0,ut=0,Tt=0,Rt=0,qt=0,Vt=0,Pt=0,Ft=0,Bt=0,gt=0,_t=0,lt=0,ft=0,ot=0,st=0,Oe=0,$e=0,qe=0,ze=0,Ge=0,Ye=0,bt=0,$t=0,rt=0,xt=0,de=q[0],Dt=q[1],Ut=q[2],Xt=q[3],Ht=q[4],Kt=q[5],Et=q[6],hn=q[7],en=q[8],mn=q[9],vn=q[10],cn=q[11],fn=q[12],zn=q[13],Rn=q[14],qn=q[15];T=Z[0],Pe+=T*de,De+=T*Dt,Ke+=T*Ut,Je+=T*Xt,ht+=T*Ht,at+=T*Kt,Qt+=T*Et,ut+=T*hn,Tt+=T*en,Rt+=T*mn,qt+=T*vn,Vt+=T*cn,Pt+=T*fn,Ft+=T*zn,Bt+=T*Rn,gt+=T*qn,T=Z[1],De+=T*de,Ke+=T*Dt,Je+=T*Ut,ht+=T*Xt,at+=T*Ht,Qt+=T*Kt,ut+=T*Et,Tt+=T*hn,Rt+=T*en,qt+=T*mn,Vt+=T*vn,Pt+=T*cn,Ft+=T*fn,Bt+=T*zn,gt+=T*Rn,_t+=T*qn,T=Z[2],Ke+=T*de,Je+=T*Dt,ht+=T*Ut,at+=T*Xt,Qt+=T*Ht,ut+=T*Kt,Tt+=T*Et,Rt+=T*hn,qt+=T*en,Vt+=T*mn,Pt+=T*vn,Ft+=T*cn,Bt+=T*fn,gt+=T*zn,_t+=T*Rn,lt+=T*qn,T=Z[3],Je+=T*de,ht+=T*Dt,at+=T*Ut,Qt+=T*Xt,ut+=T*Ht,Tt+=T*Kt,Rt+=T*Et,qt+=T*hn,Vt+=T*en,Pt+=T*mn,Ft+=T*vn,Bt+=T*cn,gt+=T*fn,_t+=T*zn,lt+=T*Rn,ft+=T*qn,T=Z[4],ht+=T*de,at+=T*Dt,Qt+=T*Ut,ut+=T*Xt,Tt+=T*Ht,Rt+=T*Kt,qt+=T*Et,Vt+=T*hn,Pt+=T*en,Ft+=T*mn,Bt+=T*vn,gt+=T*cn,_t+=T*fn,lt+=T*zn,ft+=T*Rn,ot+=T*qn,T=Z[5],at+=T*de,Qt+=T*Dt,ut+=T*Ut,Tt+=T*Xt,Rt+=T*Ht,qt+=T*Kt,Vt+=T*Et,Pt+=T*hn,Ft+=T*en,Bt+=T*mn,gt+=T*vn,_t+=T*cn,lt+=T*fn,ft+=T*zn,ot+=T*Rn,st+=T*qn,T=Z[6],Qt+=T*de,ut+=T*Dt,Tt+=T*Ut,Rt+=T*Xt,qt+=T*Ht,Vt+=T*Kt,Pt+=T*Et,Ft+=T*hn,Bt+=T*en,gt+=T*mn,_t+=T*vn,lt+=T*cn,ft+=T*fn,ot+=T*zn,st+=T*Rn,Oe+=T*qn,T=Z[7],ut+=T*de,Tt+=T*Dt,Rt+=T*Ut,qt+=T*Xt,Vt+=T*Ht,Pt+=T*Kt,Ft+=T*Et,Bt+=T*hn,gt+=T*en,_t+=T*mn,lt+=T*vn,ft+=T*cn,ot+=T*fn,st+=T*zn,Oe+=T*Rn,$e+=T*qn,T=Z[8],Tt+=T*de,Rt+=T*Dt,qt+=T*Ut,Vt+=T*Xt,Pt+=T*Ht,Ft+=T*Kt,Bt+=T*Et,gt+=T*hn,_t+=T*en,lt+=T*mn,ft+=T*vn,ot+=T*cn,st+=T*fn,Oe+=T*zn,$e+=T*Rn,qe+=T*qn,T=Z[9],Rt+=T*de,qt+=T*Dt,Vt+=T*Ut,Pt+=T*Xt,Ft+=T*Ht,Bt+=T*Kt,gt+=T*Et,_t+=T*hn,lt+=T*en,ft+=T*mn,ot+=T*vn,st+=T*cn,Oe+=T*fn,$e+=T*zn,qe+=T*Rn,ze+=T*qn,T=Z[10],qt+=T*de,Vt+=T*Dt,Pt+=T*Ut,Ft+=T*Xt,Bt+=T*Ht,gt+=T*Kt,_t+=T*Et,lt+=T*hn,ft+=T*en,ot+=T*mn,st+=T*vn,Oe+=T*cn,$e+=T*fn,qe+=T*zn,ze+=T*Rn,Ge+=T*qn,T=Z[11],Vt+=T*de,Pt+=T*Dt,Ft+=T*Ut,Bt+=T*Xt,gt+=T*Ht,_t+=T*Kt,lt+=T*Et,ft+=T*hn,ot+=T*en,st+=T*mn,Oe+=T*vn,$e+=T*cn,qe+=T*fn,ze+=T*zn,Ge+=T*Rn,Ye+=T*qn,T=Z[12],Pt+=T*de,Ft+=T*Dt,Bt+=T*Ut,gt+=T*Xt,_t+=T*Ht,lt+=T*Kt,ft+=T*Et,ot+=T*hn,st+=T*en,Oe+=T*mn,$e+=T*vn,qe+=T*cn,ze+=T*fn,Ge+=T*zn,Ye+=T*Rn,bt+=T*qn,T=Z[13],Ft+=T*de,Bt+=T*Dt,gt+=T*Ut,_t+=T*Xt,lt+=T*Ht,ft+=T*Kt,ot+=T*Et,st+=T*hn,Oe+=T*en,$e+=T*mn,qe+=T*vn,ze+=T*cn,Ge+=T*fn,Ye+=T*zn,bt+=T*Rn,$t+=T*qn,T=Z[14],Bt+=T*de,gt+=T*Dt,_t+=T*Ut,lt+=T*Xt,ft+=T*Ht,ot+=T*Kt,st+=T*Et,Oe+=T*hn,$e+=T*en,qe+=T*mn,ze+=T*vn,Ge+=T*cn,Ye+=T*fn,bt+=T*zn,$t+=T*Rn,rt+=T*qn,T=Z[15],gt+=T*de,_t+=T*Dt,lt+=T*Ut,ft+=T*Xt,ot+=T*Ht,st+=T*Kt,Oe+=T*Et,$e+=T*hn,qe+=T*en,ze+=T*mn,Ge+=T*vn,Ye+=T*cn,bt+=T*fn,$t+=T*zn,rt+=T*Rn,xt+=T*qn,Pe+=38*_t,De+=38*lt,Ke+=38*ft,Je+=38*ot,ht+=38*st,at+=38*Oe,Qt+=38*$e,ut+=38*qe,Tt+=38*ze,Rt+=38*Ge,qt+=38*Ye,Vt+=38*bt,Pt+=38*$t,Ft+=38*rt,Bt+=38*xt,ne=1,T=Pe+ne+65535,ne=Math.floor(T/65536),Pe=T-ne*65536,T=De+ne+65535,ne=Math.floor(T/65536),De=T-ne*65536,T=Ke+ne+65535,ne=Math.floor(T/65536),Ke=T-ne*65536,T=Je+ne+65535,ne=Math.floor(T/65536),Je=T-ne*65536,T=ht+ne+65535,ne=Math.floor(T/65536),ht=T-ne*65536,T=at+ne+65535,ne=Math.floor(T/65536),at=T-ne*65536,T=Qt+ne+65535,ne=Math.floor(T/65536),Qt=T-ne*65536,T=ut+ne+65535,ne=Math.floor(T/65536),ut=T-ne*65536,T=Tt+ne+65535,ne=Math.floor(T/65536),Tt=T-ne*65536,T=Rt+ne+65535,ne=Math.floor(T/65536),Rt=T-ne*65536,T=qt+ne+65535,ne=Math.floor(T/65536),qt=T-ne*65536,T=Vt+ne+65535,ne=Math.floor(T/65536),Vt=T-ne*65536,T=Pt+ne+65535,ne=Math.floor(T/65536),Pt=T-ne*65536,T=Ft+ne+65535,ne=Math.floor(T/65536),Ft=T-ne*65536,T=Bt+ne+65535,ne=Math.floor(T/65536),Bt=T-ne*65536,T=gt+ne+65535,ne=Math.floor(T/65536),gt=T-ne*65536,Pe+=ne-1+37*(ne-1),ne=1,T=Pe+ne+65535,ne=Math.floor(T/65536),Pe=T-ne*65536,T=De+ne+65535,ne=Math.floor(T/65536),De=T-ne*65536,T=Ke+ne+65535,ne=Math.floor(T/65536),Ke=T-ne*65536,T=Je+ne+65535,ne=Math.floor(T/65536),Je=T-ne*65536,T=ht+ne+65535,ne=Math.floor(T/65536),ht=T-ne*65536,T=at+ne+65535,ne=Math.floor(T/65536),at=T-ne*65536,T=Qt+ne+65535,ne=Math.floor(T/65536),Qt=T-ne*65536,T=ut+ne+65535,ne=Math.floor(T/65536),ut=T-ne*65536,T=Tt+ne+65535,ne=Math.floor(T/65536),Tt=T-ne*65536,T=Rt+ne+65535,ne=Math.floor(T/65536),Rt=T-ne*65536,T=qt+ne+65535,ne=Math.floor(T/65536),qt=T-ne*65536,T=Vt+ne+65535,ne=Math.floor(T/65536),Vt=T-ne*65536,T=Pt+ne+65535,ne=Math.floor(T/65536),Pt=T-ne*65536,T=Ft+ne+65535,ne=Math.floor(T/65536),Ft=T-ne*65536,T=Bt+ne+65535,ne=Math.floor(T/65536),Bt=T-ne*65536,T=gt+ne+65535,ne=Math.floor(T/65536),gt=T-ne*65536,Pe+=ne-1+37*(ne-1),O[0]=Pe,O[1]=De,O[2]=Ke,O[3]=Je,O[4]=ht,O[5]=at,O[6]=Qt,O[7]=ut,O[8]=Tt,O[9]=Rt,O[10]=qt,O[11]=Vt,O[12]=Pt,O[13]=Ft,O[14]=Bt,O[15]=gt}function Le(O,Z){Te(O,Z,Z)}function Ze(O,Z){var q=n(),T;for(T=0;T<16;T++)q[T]=Z[T];for(T=253;T>=0;T--)Le(q,q),T!==2&&T!==4&&Te(q,q,Z);for(T=0;T<16;T++)O[T]=q[T]}function Be(O,Z){var q=n(),T;for(T=0;T<16;T++)q[T]=Z[T];for(T=250;T>=0;T--)Le(q,q),T!==1&&Te(q,q,Z);for(T=0;T<16;T++)O[T]=q[T]}function We(O,Z,q){var T=new Uint8Array(32),ne=new Float64Array(80),Pe,De,Ke=n(),Je=n(),ht=n(),at=n(),Qt=n(),ut=n();for(De=0;De<31;De++)T[De]=Z[De];for(T[31]=Z[31]&127|64,T[0]&=248,pe(ne,q),De=0;De<16;De++)Je[De]=ne[De],at[De]=Ke[De]=ht[De]=0;for(Ke[0]=at[0]=1,De=254;De>=0;--De)Pe=T[De>>>3]>>>(De&7)&1,me(Ke,Je,Pe),me(ht,at,Pe),be(Qt,Ke,ht),ie(Ke,Ke,ht),be(ht,Je,at),ie(Je,Je,at),Le(at,Qt),Le(ut,Ke),Te(Ke,ht,Ke),Te(ht,Je,Qt),be(Qt,Ke,ht),ie(Ke,Ke,ht),Le(Je,Ke),ie(ht,at,ut),Te(Ke,ht,u),be(Ke,Ke,at),Te(ht,ht,Ke),Te(Ke,at,ut),Te(at,Je,ne),Le(Je,Qt),me(Ke,Je,Pe),me(ht,at,Pe);for(De=0;De<16;De++)ne[De+16]=Ke[De],ne[De+32]=ht[De],ne[De+48]=Je[De],ne[De+64]=at[De];var Tt=ne.subarray(32),Rt=ne.subarray(16);return Ze(Tt,Tt),Te(Rt,Rt,Tt),ge(O,Rt),0}function V(O,Z){return We(O,Z,s)}function ee(O,Z){return r(Z,32),V(O,Z)}function ce(O,Z,q){var T=new Uint8Array(32);return We(T,q,Z),F(O,i,T,j)}var Ce=Ae,_e=he;function je(O,Z,q,T,ne,Pe){var De=new Uint8Array(32);return ce(De,ne,Pe),Ce(O,Z,q,T,De)}function Me(O,Z,q,T,ne,Pe){var De=new Uint8Array(32);return ce(De,ne,Pe),_e(O,Z,q,T,De)}var we=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ke(O,Z,q,T){for(var ne=new Int32Array(16),Pe=new Int32Array(16),De,Ke,Je,ht,at,Qt,ut,Tt,Rt,qt,Vt,Pt,Ft,Bt,gt,_t,lt,ft,ot,st,Oe,$e,qe,ze,Ge,Ye,bt=O[0],$t=O[1],rt=O[2],xt=O[3],de=O[4],Dt=O[5],Ut=O[6],Xt=O[7],Ht=Z[0],Kt=Z[1],Et=Z[2],hn=Z[3],en=Z[4],mn=Z[5],vn=Z[6],cn=Z[7],fn=0;T>=128;){for(ot=0;ot<16;ot++)st=8*ot+fn,ne[ot]=q[st+0]<<24|q[st+1]<<16|q[st+2]<<8|q[st+3],Pe[ot]=q[st+4]<<24|q[st+5]<<16|q[st+6]<<8|q[st+7];for(ot=0;ot<80;ot++)if(De=bt,Ke=$t,Je=rt,ht=xt,at=de,Qt=Dt,ut=Ut,Tt=Xt,Rt=Ht,qt=Kt,Vt=Et,Pt=hn,Ft=en,Bt=mn,gt=vn,_t=cn,Oe=Xt,$e=cn,qe=$e&65535,ze=$e>>>16,Ge=Oe&65535,Ye=Oe>>>16,Oe=(de>>>14|en<<18)^(de>>>18|en<<14)^(en>>>9|de<<23),$e=(en>>>14|de<<18)^(en>>>18|de<<14)^(de>>>9|en<<23),qe+=$e&65535,ze+=$e>>>16,Ge+=Oe&65535,Ye+=Oe>>>16,Oe=de&Dt^~de&Ut,$e=en&mn^~en&vn,qe+=$e&65535,ze+=$e>>>16,Ge+=Oe&65535,Ye+=Oe>>>16,Oe=we[ot*2],$e=we[ot*2+1],qe+=$e&65535,ze+=$e>>>16,Ge+=Oe&65535,Ye+=Oe>>>16,Oe=ne[ot%16],$e=Pe[ot%16],qe+=$e&65535,ze+=$e>>>16,Ge+=Oe&65535,Ye+=Oe>>>16,ze+=qe>>>16,Ge+=ze>>>16,Ye+=Ge>>>16,lt=Ge&65535|Ye<<16,ft=qe&65535|ze<<16,Oe=lt,$e=ft,qe=$e&65535,ze=$e>>>16,Ge=Oe&65535,Ye=Oe>>>16,Oe=(bt>>>28|Ht<<4)^(Ht>>>2|bt<<30)^(Ht>>>7|bt<<25),$e=(Ht>>>28|bt<<4)^(bt>>>2|Ht<<30)^(bt>>>7|Ht<<25),qe+=$e&65535,ze+=$e>>>16,Ge+=Oe&65535,Ye+=Oe>>>16,Oe=bt&$t^bt&rt^$t&rt,$e=Ht&Kt^Ht&Et^Kt&Et,qe+=$e&65535,ze+=$e>>>16,Ge+=Oe&65535,Ye+=Oe>>>16,ze+=qe>>>16,Ge+=ze>>>16,Ye+=Ge>>>16,Tt=Ge&65535|Ye<<16,_t=qe&65535|ze<<16,Oe=ht,$e=Pt,qe=$e&65535,ze=$e>>>16,Ge=Oe&65535,Ye=Oe>>>16,Oe=lt,$e=ft,qe+=$e&65535,ze+=$e>>>16,Ge+=Oe&65535,Ye+=Oe>>>16,ze+=qe>>>16,Ge+=ze>>>16,Ye+=Ge>>>16,ht=Ge&65535|Ye<<16,Pt=qe&65535|ze<<16,$t=De,rt=Ke,xt=Je,de=ht,Dt=at,Ut=Qt,Xt=ut,bt=Tt,Kt=Rt,Et=qt,hn=Vt,en=Pt,mn=Ft,vn=Bt,cn=gt,Ht=_t,ot%16===15)for(st=0;st<16;st++)Oe=ne[st],$e=Pe[st],qe=$e&65535,ze=$e>>>16,Ge=Oe&65535,Ye=Oe>>>16,Oe=ne[(st+9)%16],$e=Pe[(st+9)%16],qe+=$e&65535,ze+=$e>>>16,Ge+=Oe&65535,Ye+=Oe>>>16,lt=ne[(st+1)%16],ft=Pe[(st+1)%16],Oe=(lt>>>1|ft<<31)^(lt>>>8|ft<<24)^lt>>>7,$e=(ft>>>1|lt<<31)^(ft>>>8|lt<<24)^(ft>>>7|lt<<25),qe+=$e&65535,ze+=$e>>>16,Ge+=Oe&65535,Ye+=Oe>>>16,lt=ne[(st+14)%16],ft=Pe[(st+14)%16],Oe=(lt>>>19|ft<<13)^(ft>>>29|lt<<3)^lt>>>6,$e=(ft>>>19|lt<<13)^(lt>>>29|ft<<3)^(ft>>>6|lt<<26),qe+=$e&65535,ze+=$e>>>16,Ge+=Oe&65535,Ye+=Oe>>>16,ze+=qe>>>16,Ge+=ze>>>16,Ye+=Ge>>>16,ne[st]=Ge&65535|Ye<<16,Pe[st]=qe&65535|ze<<16;Oe=bt,$e=Ht,qe=$e&65535,ze=$e>>>16,Ge=Oe&65535,Ye=Oe>>>16,Oe=O[0],$e=Z[0],qe+=$e&65535,ze+=$e>>>16,Ge+=Oe&65535,Ye+=Oe>>>16,ze+=qe>>>16,Ge+=ze>>>16,Ye+=Ge>>>16,O[0]=bt=Ge&65535|Ye<<16,Z[0]=Ht=qe&65535|ze<<16,Oe=$t,$e=Kt,qe=$e&65535,ze=$e>>>16,Ge=Oe&65535,Ye=Oe>>>16,Oe=O[1],$e=Z[1],qe+=$e&65535,ze+=$e>>>16,Ge+=Oe&65535,Ye+=Oe>>>16,ze+=qe>>>16,Ge+=ze>>>16,Ye+=Ge>>>16,O[1]=$t=Ge&65535|Ye<<16,Z[1]=Kt=qe&65535|ze<<16,Oe=rt,$e=Et,qe=$e&65535,ze=$e>>>16,Ge=Oe&65535,Ye=Oe>>>16,Oe=O[2],$e=Z[2],qe+=$e&65535,ze+=$e>>>16,Ge+=Oe&65535,Ye+=Oe>>>16,ze+=qe>>>16,Ge+=ze>>>16,Ye+=Ge>>>16,O[2]=rt=Ge&65535|Ye<<16,Z[2]=Et=qe&65535|ze<<16,Oe=xt,$e=hn,qe=$e&65535,ze=$e>>>16,Ge=Oe&65535,Ye=Oe>>>16,Oe=O[3],$e=Z[3],qe+=$e&65535,ze+=$e>>>16,Ge+=Oe&65535,Ye+=Oe>>>16,ze+=qe>>>16,Ge+=ze>>>16,Ye+=Ge>>>16,O[3]=xt=Ge&65535|Ye<<16,Z[3]=hn=qe&65535|ze<<16,Oe=de,$e=en,qe=$e&65535,ze=$e>>>16,Ge=Oe&65535,Ye=Oe>>>16,Oe=O[4],$e=Z[4],qe+=$e&65535,ze+=$e>>>16,Ge+=Oe&65535,Ye+=Oe>>>16,ze+=qe>>>16,Ge+=ze>>>16,Ye+=Ge>>>16,O[4]=de=Ge&65535|Ye<<16,Z[4]=en=qe&65535|ze<<16,Oe=Dt,$e=mn,qe=$e&65535,ze=$e>>>16,Ge=Oe&65535,Ye=Oe>>>16,Oe=O[5],$e=Z[5],qe+=$e&65535,ze+=$e>>>16,Ge+=Oe&65535,Ye+=Oe>>>16,ze+=qe>>>16,Ge+=ze>>>16,Ye+=Ge>>>16,O[5]=Dt=Ge&65535|Ye<<16,Z[5]=mn=qe&65535|ze<<16,Oe=Ut,$e=vn,qe=$e&65535,ze=$e>>>16,Ge=Oe&65535,Ye=Oe>>>16,Oe=O[6],$e=Z[6],qe+=$e&65535,ze+=$e>>>16,Ge+=Oe&65535,Ye+=Oe>>>16,ze+=qe>>>16,Ge+=ze>>>16,Ye+=Ge>>>16,O[6]=Ut=Ge&65535|Ye<<16,Z[6]=vn=qe&65535|ze<<16,Oe=Xt,$e=cn,qe=$e&65535,ze=$e>>>16,Ge=Oe&65535,Ye=Oe>>>16,Oe=O[7],$e=Z[7],qe+=$e&65535,ze+=$e>>>16,Ge+=Oe&65535,Ye+=Oe>>>16,ze+=qe>>>16,Ge+=ze>>>16,Ye+=Ge>>>16,O[7]=Xt=Ge&65535|Ye<<16,Z[7]=cn=qe&65535|ze<<16,fn+=128,T-=128}return T}function Re(O,Z,q){var T=new Int32Array(8),ne=new Int32Array(8),Pe=new Uint8Array(256),De,Ke=q;for(T[0]=1779033703,T[1]=3144134277,T[2]=1013904242,T[3]=2773480762,T[4]=1359893119,T[5]=2600822924,T[6]=528734635,T[7]=1541459225,ne[0]=4089235720,ne[1]=2227873595,ne[2]=4271175723,ne[3]=1595750129,ne[4]=2917565137,ne[5]=725511199,ne[6]=4215389547,ne[7]=327033209,ke(T,ne,Z,q),q%=128,De=0;De<q;De++)Pe[De]=Z[Ke-q+De];for(Pe[q]=128,q=256-128*(q<112?1:0),Pe[q-9]=0,_(Pe,q-8,Ke/536870912|0,Ke<<3),ke(T,ne,Pe,q),De=0;De<8;De++)_(O,8*De,T[De],ne[De]);return 0}function H(O,Z){var q=n(),T=n(),ne=n(),Pe=n(),De=n(),Ke=n(),Je=n(),ht=n(),at=n();ie(q,O[1],O[0]),ie(at,Z[1],Z[0]),Te(q,q,at),be(T,O[0],O[1]),be(at,Z[0],Z[1]),Te(T,T,at),Te(ne,O[3],Z[3]),Te(ne,ne,f),Te(Pe,O[2],Z[2]),be(Pe,Pe,Pe),ie(De,T,q),ie(Ke,Pe,ne),be(Je,Pe,ne),be(ht,T,q),Te(O[0],De,Ke),Te(O[1],ht,Je),Te(O[2],Je,Ke),Te(O[3],De,ht)}function N(O,Z,q){var T;for(T=0;T<4;T++)me(O[T],Z[T],q)}function W(O,Z){var q=n(),T=n(),ne=n();Ze(ne,Z[2]),Te(q,Z[0],ne),Te(T,Z[1],ne),ge(O,T),O[31]^=le(q)<<7}function J(O,Z,q){var T,ne;for(Ee(O[0],o),Ee(O[1],l),Ee(O[2],l),Ee(O[3],o),ne=255;ne>=0;--ne)T=q[ne/8|0]>>(ne&7)&1,N(O,Z,T),H(Z,O),H(O,O),N(O,Z,T)}function K(O,Z){var q=[n(),n(),n(),n()];Ee(q[0],p),Ee(q[1],g),Ee(q[2],l),Te(q[3],p,g),J(O,q,Z)}function se(O,Z,q){var T=new Uint8Array(64),ne=[n(),n(),n(),n()],Pe;for(q||r(Z,32),Re(T,Z,32),T[0]&=248,T[31]&=127,T[31]|=64,K(ne,T),W(O,ne),Pe=0;Pe<32;Pe++)Z[Pe+32]=O[Pe];return 0}var xe=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function D(O,Z){var q,T,ne,Pe;for(T=63;T>=32;--T){for(q=0,ne=T-32,Pe=T-12;ne<Pe;++ne)Z[ne]+=q-16*Z[T]*xe[ne-(T-32)],q=Math.floor((Z[ne]+128)/256),Z[ne]-=q*256;Z[ne]+=q,Z[T]=0}for(q=0,ne=0;ne<32;ne++)Z[ne]+=q-(Z[31]>>4)*xe[ne],q=Z[ne]>>8,Z[ne]&=255;for(ne=0;ne<32;ne++)Z[ne]-=q*xe[ne];for(T=0;T<32;T++)Z[T+1]+=Z[T]>>8,O[T]=Z[T]&255}function E(O){var Z=new Float64Array(64),q;for(q=0;q<64;q++)Z[q]=O[q];for(q=0;q<64;q++)O[q]=0;D(O,Z)}function P(O,Z,q,T){var ne=new Uint8Array(64),Pe=new Uint8Array(64),De=new Uint8Array(64),Ke,Je,ht=new Float64Array(64),at=[n(),n(),n(),n()];Re(ne,T,32),ne[0]&=248,ne[31]&=127,ne[31]|=64;var Qt=q+64;for(Ke=0;Ke<q;Ke++)O[64+Ke]=Z[Ke];for(Ke=0;Ke<32;Ke++)O[32+Ke]=ne[32+Ke];for(Re(De,O.subarray(32),q+32),E(De),K(at,De),W(O,at),Ke=32;Ke<64;Ke++)O[Ke]=T[Ke];for(Re(Pe,O,q+64),E(Pe),Ke=0;Ke<64;Ke++)ht[Ke]=0;for(Ke=0;Ke<32;Ke++)ht[Ke]=De[Ke];for(Ke=0;Ke<32;Ke++)for(Je=0;Je<32;Je++)ht[Ke+Je]+=Pe[Ke]*ne[Je];return D(O.subarray(32),ht),Qt}function U(O,Z){var q=n(),T=n(),ne=n(),Pe=n(),De=n(),Ke=n(),Je=n();return Ee(O[2],l),pe(O[1],Z),Le(ne,O[1]),Te(Pe,ne,h),ie(ne,ne,O[2]),be(Pe,O[2],Pe),Le(De,Pe),Le(Ke,De),Te(Je,Ke,De),Te(q,Je,ne),Te(q,q,Pe),Be(q,q),Te(q,q,ne),Te(q,q,Pe),Te(q,q,Pe),Te(O[0],q,Pe),Le(T,O[0]),Te(T,T,Pe),fe(T,ne)&&Te(O[0],O[0],y),Le(T,O[0]),Te(T,T,Pe),fe(T,ne)?-1:(le(O[0])===Z[31]>>7&&ie(O[0],o,O[0]),Te(O[3],O[0],O[1]),0)}function oe(O,Z,q,T){var ne,Pe=new Uint8Array(32),De=new Uint8Array(64),Ke=[n(),n(),n(),n()],Je=[n(),n(),n(),n()];if(q<64||U(Je,T))return-1;for(ne=0;ne<q;ne++)O[ne]=Z[ne];for(ne=0;ne<32;ne++)O[ne+32]=T[ne];if(Re(De,O,q),E(De),J(Ke,Je,De),K(Je,Z.subarray(32)),H(Ke,Je),W(Pe,Ke),q-=64,k(Z,0,Pe,0)){for(ne=0;ne<q;ne++)O[ne]=0;return-1}for(ne=0;ne<q;ne++)O[ne]=Z[ne+64];return q}var ve=32,Fe=24,Qe=32,ct=16,dt=32,it=32,St=32,dn=32,sn=32,Cn=Fe,pn=Qe,Fn=ct,br=64,Wr=32,Kr=64,Xi=32,ws=64;e.lowlevel={crypto_core_hsalsa20:F,crypto_stream_xor:$,crypto_stream:Q,crypto_stream_salsa20_xor:R,crypto_stream_salsa20:z,crypto_onetimeauth:te,crypto_onetimeauth_verify:ae,crypto_verify_16:b,crypto_verify_32:k,crypto_secretbox:Ae,crypto_secretbox_open:he,crypto_scalarmult:We,crypto_scalarmult_base:V,crypto_box_beforenm:ce,crypto_box_afternm:Ce,crypto_box:je,crypto_box_open:Me,crypto_box_keypair:ee,crypto_hash:Re,crypto_sign:P,crypto_sign_keypair:se,crypto_sign_open:oe,crypto_secretbox_KEYBYTES:ve,crypto_secretbox_NONCEBYTES:Fe,crypto_secretbox_ZEROBYTES:Qe,crypto_secretbox_BOXZEROBYTES:ct,crypto_scalarmult_BYTES:dt,crypto_scalarmult_SCALARBYTES:it,crypto_box_PUBLICKEYBYTES:St,crypto_box_SECRETKEYBYTES:dn,crypto_box_BEFORENMBYTES:sn,crypto_box_NONCEBYTES:Cn,crypto_box_ZEROBYTES:pn,crypto_box_BOXZEROBYTES:Fn,crypto_sign_BYTES:br,crypto_sign_PUBLICKEYBYTES:Wr,crypto_sign_SECRETKEYBYTES:Kr,crypto_sign_SEEDBYTES:Xi,crypto_hash_BYTES:ws,gf:n,D:h,L:xe,pack25519:ge,unpack25519:pe,M:Te,A:be,S:Le,Z:ie,pow2523:Be,add:H,set25519:Ee,modL:D,scalarmult:J,scalarbase:K};function Di(O,Z){if(O.length!==ve)throw new Error("bad key size");if(Z.length!==Fe)throw new Error("bad nonce size")}function ea(O,Z){if(O.length!==St)throw new Error("bad public key size");if(Z.length!==dn)throw new Error("bad secret key size")}function Nn(){for(var O=0;O<arguments.length;O++)if(!(arguments[O]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Zn(O){for(var Z=0;Z<O.length;Z++)O[Z]=0}e.randomBytes=function(O){var Z=new Uint8Array(O);return r(Z,O),Z},e.secretbox=function(O,Z,q){Nn(O,Z,q),Di(q,Z);for(var T=new Uint8Array(Qe+O.length),ne=new Uint8Array(T.length),Pe=0;Pe<O.length;Pe++)T[Pe+Qe]=O[Pe];return Ae(ne,T,T.length,Z,q),ne.subarray(ct)},e.secretbox.open=function(O,Z,q){Nn(O,Z,q),Di(q,Z);for(var T=new Uint8Array(ct+O.length),ne=new Uint8Array(T.length),Pe=0;Pe<O.length;Pe++)T[Pe+ct]=O[Pe];return T.length<32||he(ne,T,T.length,Z,q)!==0?null:ne.subarray(Qe)},e.secretbox.keyLength=ve,e.secretbox.nonceLength=Fe,e.secretbox.overheadLength=ct,e.scalarMult=function(O,Z){if(Nn(O,Z),O.length!==it)throw new Error("bad n size");if(Z.length!==dt)throw new Error("bad p size");var q=new Uint8Array(dt);return We(q,O,Z),q},e.scalarMult.base=function(O){if(Nn(O),O.length!==it)throw new Error("bad n size");var Z=new Uint8Array(dt);return V(Z,O),Z},e.scalarMult.scalarLength=it,e.scalarMult.groupElementLength=dt,e.box=function(O,Z,q,T){var ne=e.box.before(q,T);return e.secretbox(O,Z,ne)},e.box.before=function(O,Z){Nn(O,Z),ea(O,Z);var q=new Uint8Array(sn);return ce(q,O,Z),q},e.box.after=e.secretbox,e.box.open=function(O,Z,q,T){var ne=e.box.before(q,T);return e.secretbox.open(O,Z,ne)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var O=new Uint8Array(St),Z=new Uint8Array(dn);return ee(O,Z),{publicKey:O,secretKey:Z}},e.box.keyPair.fromSecretKey=function(O){if(Nn(O),O.length!==dn)throw new Error("bad secret key size");var Z=new Uint8Array(St);return V(Z,O),{publicKey:Z,secretKey:new Uint8Array(O)}},e.box.publicKeyLength=St,e.box.secretKeyLength=dn,e.box.sharedKeyLength=sn,e.box.nonceLength=Cn,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(O,Z){if(Nn(O,Z),Z.length!==Kr)throw new Error("bad secret key size");var q=new Uint8Array(br+O.length);return P(q,O,O.length,Z),q},e.sign.open=function(O,Z){if(Nn(O,Z),Z.length!==Wr)throw new Error("bad public key size");var q=new Uint8Array(O.length),T=oe(q,O,O.length,Z);if(T<0)return null;for(var ne=new Uint8Array(T),Pe=0;Pe<ne.length;Pe++)ne[Pe]=q[Pe];return ne},e.sign.detached=function(O,Z){for(var q=e.sign(O,Z),T=new Uint8Array(br),ne=0;ne<T.length;ne++)T[ne]=q[ne];return T},e.sign.detached.verify=function(O,Z,q){if(Nn(O,Z,q),Z.length!==br)throw new Error("bad signature size");if(q.length!==Wr)throw new Error("bad public key size");var T=new Uint8Array(br+O.length),ne=new Uint8Array(br+O.length),Pe;for(Pe=0;Pe<br;Pe++)T[Pe]=Z[Pe];for(Pe=0;Pe<O.length;Pe++)T[Pe+br]=O[Pe];return oe(ne,T,T.length,q)>=0},e.sign.keyPair=function(){var O=new Uint8Array(Wr),Z=new Uint8Array(Kr);return se(O,Z),{publicKey:O,secretKey:Z}},e.sign.keyPair.fromSecretKey=function(O){if(Nn(O),O.length!==Kr)throw new Error("bad secret key size");for(var Z=new Uint8Array(Wr),q=0;q<Z.length;q++)Z[q]=O[32+q];return{publicKey:Z,secretKey:new Uint8Array(O)}},e.sign.keyPair.fromSeed=function(O){if(Nn(O),O.length!==Xi)throw new Error("bad seed size");for(var Z=new Uint8Array(Wr),q=new Uint8Array(Kr),T=0;T<32;T++)q[T]=O[T];return se(Z,q,!0),{publicKey:Z,secretKey:q}},e.sign.publicKeyLength=Wr,e.sign.secretKeyLength=Kr,e.sign.seedLength=Xi,e.sign.signatureLength=br,e.hash=function(O){Nn(O);var Z=new Uint8Array(ws);return Re(Z,O,O.length),Z},e.hash.hashLength=ws,e.verify=function(O,Z){return Nn(O,Z),O.length===0||Z.length===0||O.length!==Z.length?!1:w(O,0,Z,0,O.length)===0},e.setPRNG=function(O){r=O},function(){var O=typeof self<"u"?self.crypto||self.msCrypto:null;if(O&&O.getRandomValues){var Z=65536;e.setPRNG(function(q,T){var ne,Pe=new Uint8Array(T);for(ne=0;ne<T;ne+=Z)O.getRandomValues(Pe.subarray(ne,ne+Math.min(T-ne,Z)));for(ne=0;ne<T;ne++)q[ne]=Pe[ne];Zn(Pe)})}else typeof J6<"u"&&(O=e4,O&&O.randomBytes&&e.setPRNG(function(q,T){var ne,Pe=O.randomBytes(T);for(ne=0;ne<T;ne++)q[ne]=Pe[ne];Zn(Pe)}))}()})(t.exports?t.exports:self.nacl=self.nacl||{})})(Q6);var IB=Q6.exports;const gs=zo(IB);var t4={exports:{}};/*
 * [js-sha512]{@link https://github.com/emn178/js-sha512}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",n="finalize already called",r=typeof window=="object",i=r?window:{};i.JS_SHA512_NO_WINDOW&&(r=!1);var s=!r&&typeof self=="object",o=!i.JS_SHA512_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=jt:s&&(i=self);var l=!i.JS_SHA512_NO_COMMON_JS&&!0&&t.exports,u=!i.JS_SHA512_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",h="0123456789abcdef".split(""),f=[-2147483648,8388608,32768,128],p=[24,16,8,0],g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],y=["hex","array","digest","arrayBuffer"],_=[];(i.JS_SHA512_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(j){return Object.prototype.toString.call(j)==="[object Array]"}),u&&(i.JS_SHA512_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(j){return typeof j=="object"&&j.buffer&&j.buffer.constructor===ArrayBuffer});var w=function(j,R){return function(z){return new v(R,!0).update(z)[j]()}},b=function(j){var R=w("hex",j);R.create=function(){return new v(j)},R.update=function($){return R.create().update($)};for(var z=0;z<y.length;++z){var Q=y[z];R[Q]=w(Q,j)}return R},k=function(j,R){return function(z,Q){return new C(z,R,!0).update(Q)[j]()}},x=function(j){var R=k("hex",j);R.create=function($){return new C($,j)},R.update=function($,X){return R.create($).update(X)};for(var z=0;z<y.length;++z){var Q=y[z];R[Q]=k(Q,j)}return R};function v(j,R){R?(_[0]=_[1]=_[2]=_[3]=_[4]=_[5]=_[6]=_[7]=_[8]=_[9]=_[10]=_[11]=_[12]=_[13]=_[14]=_[15]=_[16]=_[17]=_[18]=_[19]=_[20]=_[21]=_[22]=_[23]=_[24]=_[25]=_[26]=_[27]=_[28]=_[29]=_[30]=_[31]=_[32]=0,this.blocks=_):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],j==384?(this.h0h=3418070365,this.h0l=3238371032,this.h1h=1654270250,this.h1l=914150663,this.h2h=2438529370,this.h2l=812702999,this.h3h=355462360,this.h3l=4144912697,this.h4h=1731405415,this.h4l=4290775857,this.h5h=2394180231,this.h5l=1750603025,this.h6h=3675008525,this.h6l=1694076839,this.h7h=1203062813,this.h7l=3204075428):j==256?(this.h0h=573645204,this.h0l=4230739756,this.h1h=2673172387,this.h1l=3360449730,this.h2h=596883563,this.h2l=1867755857,this.h3h=2520282905,this.h3l=1497426621,this.h4h=2519219938,this.h4l=2827943907,this.h5h=3193839141,this.h5l=1401305490,this.h6h=721525244,this.h6l=746961066,this.h7h=246885852,this.h7l=2177182882):j==224?(this.h0h=2352822216,this.h0l=424955298,this.h1h=1944164710,this.h1l=2312950998,this.h2h=502970286,this.h2l=855612546,this.h3h=1738396948,this.h3l=1479516111,this.h4h=258812777,this.h4l=2077511080,this.h5h=2011393907,this.h5l=79989058,this.h6h=1067287976,this.h6l=1780299464,this.h7h=286451373,this.h7l=2446758561):(this.h0h=1779033703,this.h0l=4089235720,this.h1h=3144134277,this.h1l=2227873595,this.h2h=1013904242,this.h2l=4271175723,this.h3h=2773480762,this.h3l=1595750129,this.h4h=1359893119,this.h4l=2917565137,this.h5h=2600822924,this.h5l=725511199,this.h6h=528734635,this.h6l=4215389547,this.h7h=1541459225,this.h7l=327033209),this.bits=j,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1}v.prototype.update=function(j){if(this.finalized)throw new Error(n);var R,z=typeof j;if(z!=="string"){if(z==="object"){if(j===null)throw new Error(e);if(u&&j.constructor===ArrayBuffer)j=new Uint8Array(j);else if(!Array.isArray(j)&&(!u||!ArrayBuffer.isView(j)))throw new Error(e)}else throw new Error(e);R=!0}for(var Q,$=0,X,te=j.length,ae=this.blocks;$<te;){if(this.hashed&&(this.hashed=!1,ae[0]=this.block,ae[1]=ae[2]=ae[3]=ae[4]=ae[5]=ae[6]=ae[7]=ae[8]=ae[9]=ae[10]=ae[11]=ae[12]=ae[13]=ae[14]=ae[15]=ae[16]=ae[17]=ae[18]=ae[19]=ae[20]=ae[21]=ae[22]=ae[23]=ae[24]=ae[25]=ae[26]=ae[27]=ae[28]=ae[29]=ae[30]=ae[31]=ae[32]=0),R)for(X=this.start;$<te&&X<128;++$)ae[X>>2]|=j[$]<<p[X++&3];else for(X=this.start;$<te&&X<128;++$)Q=j.charCodeAt($),Q<128?ae[X>>2]|=Q<<p[X++&3]:Q<2048?(ae[X>>2]|=(192|Q>>6)<<p[X++&3],ae[X>>2]|=(128|Q&63)<<p[X++&3]):Q<55296||Q>=57344?(ae[X>>2]|=(224|Q>>12)<<p[X++&3],ae[X>>2]|=(128|Q>>6&63)<<p[X++&3],ae[X>>2]|=(128|Q&63)<<p[X++&3]):(Q=65536+((Q&1023)<<10|j.charCodeAt(++$)&1023),ae[X>>2]|=(240|Q>>18)<<p[X++&3],ae[X>>2]|=(128|Q>>12&63)<<p[X++&3],ae[X>>2]|=(128|Q>>6&63)<<p[X++&3],ae[X>>2]|=(128|Q&63)<<p[X++&3]);this.lastByteIndex=X,this.bytes+=X-this.start,X>=128?(this.block=ae[32],this.start=X-128,this.hash(),this.hashed=!0):this.start=X}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this},v.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var j=this.blocks,R=this.lastByteIndex;j[32]=this.block,j[R>>2]|=f[R&3],this.block=j[32],R>=112&&(this.hashed||this.hash(),j[0]=this.block,j[1]=j[2]=j[3]=j[4]=j[5]=j[6]=j[7]=j[8]=j[9]=j[10]=j[11]=j[12]=j[13]=j[14]=j[15]=j[16]=j[17]=j[18]=j[19]=j[20]=j[21]=j[22]=j[23]=j[24]=j[25]=j[26]=j[27]=j[28]=j[29]=j[30]=j[31]=j[32]=0),j[30]=this.hBytes<<3|this.bytes>>>29,j[31]=this.bytes<<3,this.hash()}},v.prototype.hash=function(){var j=this.h0h,R=this.h0l,z=this.h1h,Q=this.h1l,$=this.h2h,X=this.h2l,te=this.h3h,ae=this.h3l,Ae=this.h4h,he=this.h4l,Ee=this.h5h,Ne=this.h5l,me=this.h6h,ge=this.h6l,fe=this.h7h,le=this.h7l,pe=this.blocks,be,ie,Te,Le,Ze,Be,We,V,ee,ce,Ce,_e,je,Me,we,ke,Re,H,N,W,J,K,se,xe,D;for(be=32;be<160;be+=2)W=pe[be-30],J=pe[be-29],ie=(W>>>1|J<<31)^(W>>>8|J<<24)^W>>>7,Te=(J>>>1|W<<31)^(J>>>8|W<<24)^(J>>>7|W<<25),W=pe[be-4],J=pe[be-3],Le=(W>>>19|J<<13)^(J>>>29|W<<3)^W>>>6,Ze=(J>>>19|W<<13)^(W>>>29|J<<3)^(J>>>6|W<<26),W=pe[be-32],J=pe[be-31],K=pe[be-14],se=pe[be-13],Be=(se&65535)+(J&65535)+(Te&65535)+(Ze&65535),We=(se>>>16)+(J>>>16)+(Te>>>16)+(Ze>>>16)+(Be>>>16),V=(K&65535)+(W&65535)+(ie&65535)+(Le&65535)+(We>>>16),ee=(K>>>16)+(W>>>16)+(ie>>>16)+(Le>>>16)+(V>>>16),pe[be]=ee<<16|V&65535,pe[be+1]=We<<16|Be&65535;var E=j,P=R,U=z,oe=Q,ve=$,Fe=X,Qe=te,ct=ae,dt=Ae,it=he,St=Ee,dn=Ne,sn=me,Cn=ge,pn=fe,Fn=le;for(ke=U&ve,Re=oe&Fe,be=0;be<160;be+=8)ie=(E>>>28|P<<4)^(P>>>2|E<<30)^(P>>>7|E<<25),Te=(P>>>28|E<<4)^(E>>>2|P<<30)^(E>>>7|P<<25),Le=(dt>>>14|it<<18)^(dt>>>18|it<<14)^(it>>>9|dt<<23),Ze=(it>>>14|dt<<18)^(it>>>18|dt<<14)^(dt>>>9|it<<23),ce=E&U,Ce=P&oe,H=ce^E&ve^ke,N=Ce^P&Fe^Re,xe=dt&St^~dt&sn,D=it&dn^~it&Cn,W=pe[be],J=pe[be+1],K=g[be],se=g[be+1],Be=(se&65535)+(J&65535)+(D&65535)+(Ze&65535)+(Fn&65535),We=(se>>>16)+(J>>>16)+(D>>>16)+(Ze>>>16)+(Fn>>>16)+(Be>>>16),V=(K&65535)+(W&65535)+(xe&65535)+(Le&65535)+(pn&65535)+(We>>>16),ee=(K>>>16)+(W>>>16)+(xe>>>16)+(Le>>>16)+(pn>>>16)+(V>>>16),W=ee<<16|V&65535,J=We<<16|Be&65535,Be=(N&65535)+(Te&65535),We=(N>>>16)+(Te>>>16)+(Be>>>16),V=(H&65535)+(ie&65535)+(We>>>16),ee=(H>>>16)+(ie>>>16)+(V>>>16),K=ee<<16|V&65535,se=We<<16|Be&65535,Be=(ct&65535)+(J&65535),We=(ct>>>16)+(J>>>16)+(Be>>>16),V=(Qe&65535)+(W&65535)+(We>>>16),ee=(Qe>>>16)+(W>>>16)+(V>>>16),pn=ee<<16|V&65535,Fn=We<<16|Be&65535,Be=(se&65535)+(J&65535),We=(se>>>16)+(J>>>16)+(Be>>>16),V=(K&65535)+(W&65535)+(We>>>16),ee=(K>>>16)+(W>>>16)+(V>>>16),Qe=ee<<16|V&65535,ct=We<<16|Be&65535,ie=(Qe>>>28|ct<<4)^(ct>>>2|Qe<<30)^(ct>>>7|Qe<<25),Te=(ct>>>28|Qe<<4)^(Qe>>>2|ct<<30)^(Qe>>>7|ct<<25),Le=(pn>>>14|Fn<<18)^(pn>>>18|Fn<<14)^(Fn>>>9|pn<<23),Ze=(Fn>>>14|pn<<18)^(Fn>>>18|pn<<14)^(pn>>>9|Fn<<23),_e=Qe&E,je=ct&P,H=_e^Qe&U^ce,N=je^ct&oe^Ce,xe=pn&dt^~pn&St,D=Fn&it^~Fn&dn,W=pe[be+2],J=pe[be+3],K=g[be+2],se=g[be+3],Be=(se&65535)+(J&65535)+(D&65535)+(Ze&65535)+(Cn&65535),We=(se>>>16)+(J>>>16)+(D>>>16)+(Ze>>>16)+(Cn>>>16)+(Be>>>16),V=(K&65535)+(W&65535)+(xe&65535)+(Le&65535)+(sn&65535)+(We>>>16),ee=(K>>>16)+(W>>>16)+(xe>>>16)+(Le>>>16)+(sn>>>16)+(V>>>16),W=ee<<16|V&65535,J=We<<16|Be&65535,Be=(N&65535)+(Te&65535),We=(N>>>16)+(Te>>>16)+(Be>>>16),V=(H&65535)+(ie&65535)+(We>>>16),ee=(H>>>16)+(ie>>>16)+(V>>>16),K=ee<<16|V&65535,se=We<<16|Be&65535,Be=(Fe&65535)+(J&65535),We=(Fe>>>16)+(J>>>16)+(Be>>>16),V=(ve&65535)+(W&65535)+(We>>>16),ee=(ve>>>16)+(W>>>16)+(V>>>16),sn=ee<<16|V&65535,Cn=We<<16|Be&65535,Be=(se&65535)+(J&65535),We=(se>>>16)+(J>>>16)+(Be>>>16),V=(K&65535)+(W&65535)+(We>>>16),ee=(K>>>16)+(W>>>16)+(V>>>16),ve=ee<<16|V&65535,Fe=We<<16|Be&65535,ie=(ve>>>28|Fe<<4)^(Fe>>>2|ve<<30)^(Fe>>>7|ve<<25),Te=(Fe>>>28|ve<<4)^(ve>>>2|Fe<<30)^(ve>>>7|Fe<<25),Le=(sn>>>14|Cn<<18)^(sn>>>18|Cn<<14)^(Cn>>>9|sn<<23),Ze=(Cn>>>14|sn<<18)^(Cn>>>18|sn<<14)^(sn>>>9|Cn<<23),Me=ve&Qe,we=Fe&ct,H=Me^ve&E^_e,N=we^Fe&P^je,xe=sn&pn^~sn&dt,D=Cn&Fn^~Cn&it,W=pe[be+4],J=pe[be+5],K=g[be+4],se=g[be+5],Be=(se&65535)+(J&65535)+(D&65535)+(Ze&65535)+(dn&65535),We=(se>>>16)+(J>>>16)+(D>>>16)+(Ze>>>16)+(dn>>>16)+(Be>>>16),V=(K&65535)+(W&65535)+(xe&65535)+(Le&65535)+(St&65535)+(We>>>16),ee=(K>>>16)+(W>>>16)+(xe>>>16)+(Le>>>16)+(St>>>16)+(V>>>16),W=ee<<16|V&65535,J=We<<16|Be&65535,Be=(N&65535)+(Te&65535),We=(N>>>16)+(Te>>>16)+(Be>>>16),V=(H&65535)+(ie&65535)+(We>>>16),ee=(H>>>16)+(ie>>>16)+(V>>>16),K=ee<<16|V&65535,se=We<<16|Be&65535,Be=(oe&65535)+(J&65535),We=(oe>>>16)+(J>>>16)+(Be>>>16),V=(U&65535)+(W&65535)+(We>>>16),ee=(U>>>16)+(W>>>16)+(V>>>16),St=ee<<16|V&65535,dn=We<<16|Be&65535,Be=(se&65535)+(J&65535),We=(se>>>16)+(J>>>16)+(Be>>>16),V=(K&65535)+(W&65535)+(We>>>16),ee=(K>>>16)+(W>>>16)+(V>>>16),U=ee<<16|V&65535,oe=We<<16|Be&65535,ie=(U>>>28|oe<<4)^(oe>>>2|U<<30)^(oe>>>7|U<<25),Te=(oe>>>28|U<<4)^(U>>>2|oe<<30)^(U>>>7|oe<<25),Le=(St>>>14|dn<<18)^(St>>>18|dn<<14)^(dn>>>9|St<<23),Ze=(dn>>>14|St<<18)^(dn>>>18|St<<14)^(St>>>9|dn<<23),ke=U&ve,Re=oe&Fe,H=ke^U&Qe^Me,N=Re^oe&ct^we,xe=St&sn^~St&pn,D=dn&Cn^~dn&Fn,W=pe[be+6],J=pe[be+7],K=g[be+6],se=g[be+7],Be=(se&65535)+(J&65535)+(D&65535)+(Ze&65535)+(it&65535),We=(se>>>16)+(J>>>16)+(D>>>16)+(Ze>>>16)+(it>>>16)+(Be>>>16),V=(K&65535)+(W&65535)+(xe&65535)+(Le&65535)+(dt&65535)+(We>>>16),ee=(K>>>16)+(W>>>16)+(xe>>>16)+(Le>>>16)+(dt>>>16)+(V>>>16),W=ee<<16|V&65535,J=We<<16|Be&65535,Be=(N&65535)+(Te&65535),We=(N>>>16)+(Te>>>16)+(Be>>>16),V=(H&65535)+(ie&65535)+(We>>>16),ee=(H>>>16)+(ie>>>16)+(V>>>16),K=ee<<16|V&65535,se=We<<16|Be&65535,Be=(P&65535)+(J&65535),We=(P>>>16)+(J>>>16)+(Be>>>16),V=(E&65535)+(W&65535)+(We>>>16),ee=(E>>>16)+(W>>>16)+(V>>>16),dt=ee<<16|V&65535,it=We<<16|Be&65535,Be=(se&65535)+(J&65535),We=(se>>>16)+(J>>>16)+(Be>>>16),V=(K&65535)+(W&65535)+(We>>>16),ee=(K>>>16)+(W>>>16)+(V>>>16),E=ee<<16|V&65535,P=We<<16|Be&65535;Be=(R&65535)+(P&65535),We=(R>>>16)+(P>>>16)+(Be>>>16),V=(j&65535)+(E&65535)+(We>>>16),ee=(j>>>16)+(E>>>16)+(V>>>16),this.h0h=ee<<16|V&65535,this.h0l=We<<16|Be&65535,Be=(Q&65535)+(oe&65535),We=(Q>>>16)+(oe>>>16)+(Be>>>16),V=(z&65535)+(U&65535)+(We>>>16),ee=(z>>>16)+(U>>>16)+(V>>>16),this.h1h=ee<<16|V&65535,this.h1l=We<<16|Be&65535,Be=(X&65535)+(Fe&65535),We=(X>>>16)+(Fe>>>16)+(Be>>>16),V=($&65535)+(ve&65535)+(We>>>16),ee=($>>>16)+(ve>>>16)+(V>>>16),this.h2h=ee<<16|V&65535,this.h2l=We<<16|Be&65535,Be=(ae&65535)+(ct&65535),We=(ae>>>16)+(ct>>>16)+(Be>>>16),V=(te&65535)+(Qe&65535)+(We>>>16),ee=(te>>>16)+(Qe>>>16)+(V>>>16),this.h3h=ee<<16|V&65535,this.h3l=We<<16|Be&65535,Be=(he&65535)+(it&65535),We=(he>>>16)+(it>>>16)+(Be>>>16),V=(Ae&65535)+(dt&65535)+(We>>>16),ee=(Ae>>>16)+(dt>>>16)+(V>>>16),this.h4h=ee<<16|V&65535,this.h4l=We<<16|Be&65535,Be=(Ne&65535)+(dn&65535),We=(Ne>>>16)+(dn>>>16)+(Be>>>16),V=(Ee&65535)+(St&65535)+(We>>>16),ee=(Ee>>>16)+(St>>>16)+(V>>>16),this.h5h=ee<<16|V&65535,this.h5l=We<<16|Be&65535,Be=(ge&65535)+(Cn&65535),We=(ge>>>16)+(Cn>>>16)+(Be>>>16),V=(me&65535)+(sn&65535)+(We>>>16),ee=(me>>>16)+(sn>>>16)+(V>>>16),this.h6h=ee<<16|V&65535,this.h6l=We<<16|Be&65535,Be=(le&65535)+(Fn&65535),We=(le>>>16)+(Fn>>>16)+(Be>>>16),V=(fe&65535)+(pn&65535)+(We>>>16),ee=(fe>>>16)+(pn>>>16)+(V>>>16),this.h7h=ee<<16|V&65535,this.h7l=We<<16|Be&65535},v.prototype.hex=function(){this.finalize();var j=this.h0h,R=this.h0l,z=this.h1h,Q=this.h1l,$=this.h2h,X=this.h2l,te=this.h3h,ae=this.h3l,Ae=this.h4h,he=this.h4l,Ee=this.h5h,Ne=this.h5l,me=this.h6h,ge=this.h6l,fe=this.h7h,le=this.h7l,pe=this.bits,be=h[j>>28&15]+h[j>>24&15]+h[j>>20&15]+h[j>>16&15]+h[j>>12&15]+h[j>>8&15]+h[j>>4&15]+h[j&15]+h[R>>28&15]+h[R>>24&15]+h[R>>20&15]+h[R>>16&15]+h[R>>12&15]+h[R>>8&15]+h[R>>4&15]+h[R&15]+h[z>>28&15]+h[z>>24&15]+h[z>>20&15]+h[z>>16&15]+h[z>>12&15]+h[z>>8&15]+h[z>>4&15]+h[z&15]+h[Q>>28&15]+h[Q>>24&15]+h[Q>>20&15]+h[Q>>16&15]+h[Q>>12&15]+h[Q>>8&15]+h[Q>>4&15]+h[Q&15]+h[$>>28&15]+h[$>>24&15]+h[$>>20&15]+h[$>>16&15]+h[$>>12&15]+h[$>>8&15]+h[$>>4&15]+h[$&15]+h[X>>28&15]+h[X>>24&15]+h[X>>20&15]+h[X>>16&15]+h[X>>12&15]+h[X>>8&15]+h[X>>4&15]+h[X&15]+h[te>>28&15]+h[te>>24&15]+h[te>>20&15]+h[te>>16&15]+h[te>>12&15]+h[te>>8&15]+h[te>>4&15]+h[te&15];return pe>=256&&(be+=h[ae>>28&15]+h[ae>>24&15]+h[ae>>20&15]+h[ae>>16&15]+h[ae>>12&15]+h[ae>>8&15]+h[ae>>4&15]+h[ae&15]),pe>=384&&(be+=h[Ae>>28&15]+h[Ae>>24&15]+h[Ae>>20&15]+h[Ae>>16&15]+h[Ae>>12&15]+h[Ae>>8&15]+h[Ae>>4&15]+h[Ae&15]+h[he>>28&15]+h[he>>24&15]+h[he>>20&15]+h[he>>16&15]+h[he>>12&15]+h[he>>8&15]+h[he>>4&15]+h[he&15]+h[Ee>>28&15]+h[Ee>>24&15]+h[Ee>>20&15]+h[Ee>>16&15]+h[Ee>>12&15]+h[Ee>>8&15]+h[Ee>>4&15]+h[Ee&15]+h[Ne>>28&15]+h[Ne>>24&15]+h[Ne>>20&15]+h[Ne>>16&15]+h[Ne>>12&15]+h[Ne>>8&15]+h[Ne>>4&15]+h[Ne&15]),pe==512&&(be+=h[me>>28&15]+h[me>>24&15]+h[me>>20&15]+h[me>>16&15]+h[me>>12&15]+h[me>>8&15]+h[me>>4&15]+h[me&15]+h[ge>>28&15]+h[ge>>24&15]+h[ge>>20&15]+h[ge>>16&15]+h[ge>>12&15]+h[ge>>8&15]+h[ge>>4&15]+h[ge&15]+h[fe>>28&15]+h[fe>>24&15]+h[fe>>20&15]+h[fe>>16&15]+h[fe>>12&15]+h[fe>>8&15]+h[fe>>4&15]+h[fe&15]+h[le>>28&15]+h[le>>24&15]+h[le>>20&15]+h[le>>16&15]+h[le>>12&15]+h[le>>8&15]+h[le>>4&15]+h[le&15]),be},v.prototype.toString=v.prototype.hex,v.prototype.digest=function(){this.finalize();var j=this.h0h,R=this.h0l,z=this.h1h,Q=this.h1l,$=this.h2h,X=this.h2l,te=this.h3h,ae=this.h3l,Ae=this.h4h,he=this.h4l,Ee=this.h5h,Ne=this.h5l,me=this.h6h,ge=this.h6l,fe=this.h7h,le=this.h7l,pe=this.bits,be=[j>>24&255,j>>16&255,j>>8&255,j&255,R>>24&255,R>>16&255,R>>8&255,R&255,z>>24&255,z>>16&255,z>>8&255,z&255,Q>>24&255,Q>>16&255,Q>>8&255,Q&255,$>>24&255,$>>16&255,$>>8&255,$&255,X>>24&255,X>>16&255,X>>8&255,X&255,te>>24&255,te>>16&255,te>>8&255,te&255];return pe>=256&&be.push(ae>>24&255,ae>>16&255,ae>>8&255,ae&255),pe>=384&&be.push(Ae>>24&255,Ae>>16&255,Ae>>8&255,Ae&255,he>>24&255,he>>16&255,he>>8&255,he&255,Ee>>24&255,Ee>>16&255,Ee>>8&255,Ee&255,Ne>>24&255,Ne>>16&255,Ne>>8&255,Ne&255),pe==512&&be.push(me>>24&255,me>>16&255,me>>8&255,me&255,ge>>24&255,ge>>16&255,ge>>8&255,ge&255,fe>>24&255,fe>>16&255,fe>>8&255,fe&255,le>>24&255,le>>16&255,le>>8&255,le&255),be},v.prototype.array=v.prototype.digest,v.prototype.arrayBuffer=function(){this.finalize();var j=this.bits,R=new ArrayBuffer(j/8),z=new DataView(R);return z.setUint32(0,this.h0h),z.setUint32(4,this.h0l),z.setUint32(8,this.h1h),z.setUint32(12,this.h1l),z.setUint32(16,this.h2h),z.setUint32(20,this.h2l),z.setUint32(24,this.h3h),j>=256&&z.setUint32(28,this.h3l),j>=384&&(z.setUint32(32,this.h4h),z.setUint32(36,this.h4l),z.setUint32(40,this.h5h),z.setUint32(44,this.h5l)),j==512&&(z.setUint32(48,this.h6h),z.setUint32(52,this.h6l),z.setUint32(56,this.h7h),z.setUint32(60,this.h7l)),R},v.prototype.clone=function(){var j=new v(this.bits,!1);return this.copyTo(j),j},v.prototype.copyTo=function(j){var R=0,z=["h0h","h0l","h1h","h1l","h2h","h2l","h3h","h3l","h4h","h4l","h5h","h5l","h6h","h6l","h7h","h7l","start","bytes","hBytes","finalized","hashed","lastByteIndex"];for(R=0;R<z.length;++R)j[z[R]]=this[z[R]];for(R=0;R<this.blocks.length;++R)j.blocks[R]=this.blocks[R]};function C(j,R,z){var Q,$=typeof j;if($!=="string"){if($==="object"){if(j===null)throw new Error(e);if(u&&j.constructor===ArrayBuffer)j=new Uint8Array(j);else if(!Array.isArray(j)&&(!u||!ArrayBuffer.isView(j)))throw new Error(e)}else throw new Error(e);Q=!0}var X=j.length;if(!Q){for(var te=[],X=j.length,ae=0,Ae,he=0;he<X;++he)Ae=j.charCodeAt(he),Ae<128?te[ae++]=Ae:Ae<2048?(te[ae++]=192|Ae>>6,te[ae++]=128|Ae&63):Ae<55296||Ae>=57344?(te[ae++]=224|Ae>>12,te[ae++]=128|Ae>>6&63,te[ae++]=128|Ae&63):(Ae=65536+((Ae&1023)<<10|j.charCodeAt(++he)&1023),te[ae++]=240|Ae>>18,te[ae++]=128|Ae>>12&63,te[ae++]=128|Ae>>6&63,te[ae++]=128|Ae&63);j=te}j.length>128&&(j=new v(R,!0).update(j).array());for(var Ee=[],Ne=[],he=0;he<128;++he){var me=j[he]||0;Ee[he]=92^me,Ne[he]=54^me}v.call(this,R,z),this.update(Ne),this.oKeyPad=Ee,this.inner=!0,this.sharedMemory=z}C.prototype=new v,C.prototype.finalize=function(){if(v.prototype.finalize.call(this),this.inner){this.inner=!1;var j=this.array();v.call(this,this.bits,this.sharedMemory),this.update(this.oKeyPad),this.update(j),v.prototype.finalize.call(this)}},C.prototype.clone=function(){var j=new C([],this.bits,!1);this.copyTo(j),j.inner=this.inner;for(var R=0;R<this.oKeyPad.length;++R)j.oKeyPad[R]=this.oKeyPad[R];return j};var F=b(512);F.sha512=F,F.sha384=b(384),F.sha512_256=b(256),F.sha512_224=b(224),F.sha512.hmac=x(512),F.sha384.hmac=x(384),F.sha512_256.hmac=x(256),F.sha512_224.hmac=x(224),l?t.exports=F:(i.sha512=F.sha512,i.sha384=F.sha384,i.sha512_256=F.sha512_256,i.sha512_224=F.sha512_224)})()})(t4);var LB=t4.exports;const MB=zo(LB);var r0={exports:{}},n4={exports:{}},r4={exports:{}};(function(t){(function(e){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,s=Math.floor,o="[BigNumber Error] ",l=o+"Number primitive has more than 15 significant digits: ",u=1e14,h=14,f=9007199254740991,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],g=1e7,y=1e9;function _(j){var R,z,Q,$=ie.prototype={constructor:ie,toString:null,valueOf:null},X=new ie(1),te=20,ae=4,Ae=-7,he=21,Ee=-1e7,Ne=1e7,me=!1,ge=1,fe=0,le={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},pe="0123456789abcdefghijklmnopqrstuvwxyz",be=!0;function ie(V,ee){var ce,Ce,_e,je,Me,we,ke,Re,H=this;if(!(H instanceof ie))return new ie(V,ee);if(ee==null){if(V&&V._isBigNumber===!0){H.s=V.s,!V.c||V.e>Ne?H.c=H.e=null:V.e<Ee?H.c=[H.e=0]:(H.e=V.e,H.c=V.c.slice());return}if((we=typeof V=="number")&&V*0==0){if(H.s=1/V<0?(V=-V,-1):1,V===~~V){for(je=0,Me=V;Me>=10;Me/=10,je++);je>Ne?H.c=H.e=null:(H.e=je,H.c=[V]);return}Re=String(V)}else{if(!r.test(Re=String(V)))return Q(H,Re,we);H.s=Re.charCodeAt(0)==45?(Re=Re.slice(1),-1):1}(je=Re.indexOf("."))>-1&&(Re=Re.replace(".","")),(Me=Re.search(/e/i))>0?(je<0&&(je=Me),je+=+Re.slice(Me+1),Re=Re.substring(0,Me)):je<0&&(je=Re.length)}else{if(x(ee,2,pe.length,"Base"),ee==10&&be)return H=new ie(V),Be(H,te+H.e+1,ae);if(Re=String(V),we=typeof V=="number"){if(V*0!=0)return Q(H,Re,we,ee);if(H.s=1/V<0?(Re=Re.slice(1),-1):1,ie.DEBUG&&Re.replace(/^0\.0*|\./,"").length>15)throw Error(l+V)}else H.s=Re.charCodeAt(0)===45?(Re=Re.slice(1),-1):1;for(ce=pe.slice(0,ee),je=Me=0,ke=Re.length;Me<ke;Me++)if(ce.indexOf(Ce=Re.charAt(Me))<0){if(Ce=="."){if(Me>je){je=ke;continue}}else if(!_e&&(Re==Re.toUpperCase()&&(Re=Re.toLowerCase())||Re==Re.toLowerCase()&&(Re=Re.toUpperCase()))){_e=!0,Me=-1,je=0;continue}return Q(H,String(V),we,ee)}we=!1,Re=z(Re,ee,10,H.s),(je=Re.indexOf("."))>-1?Re=Re.replace(".",""):je=Re.length}for(Me=0;Re.charCodeAt(Me)===48;Me++);for(ke=Re.length;Re.charCodeAt(--ke)===48;);if(Re=Re.slice(Me,++ke)){if(ke-=Me,we&&ie.DEBUG&&ke>15&&(V>f||V!==s(V)))throw Error(l+H.s*V);if((je=je-Me-1)>Ne)H.c=H.e=null;else if(je<Ee)H.c=[H.e=0];else{if(H.e=je,H.c=[],Me=(je+1)%h,je<0&&(Me+=h),Me<ke){for(Me&&H.c.push(+Re.slice(0,Me)),ke-=h;Me<ke;)H.c.push(+Re.slice(Me,Me+=h));Me=h-(Re=Re.slice(Me)).length}else Me-=ke;for(;Me--;Re+="0");H.c.push(+Re)}}else H.c=[H.e=0]}ie.clone=_,ie.ROUND_UP=0,ie.ROUND_DOWN=1,ie.ROUND_CEIL=2,ie.ROUND_FLOOR=3,ie.ROUND_HALF_UP=4,ie.ROUND_HALF_DOWN=5,ie.ROUND_HALF_EVEN=6,ie.ROUND_HALF_CEIL=7,ie.ROUND_HALF_FLOOR=8,ie.EUCLID=9,ie.config=ie.set=function(V){var ee,ce;if(V!=null)if(typeof V=="object"){if(V.hasOwnProperty(ee="DECIMAL_PLACES")&&(ce=V[ee],x(ce,0,y,ee),te=ce),V.hasOwnProperty(ee="ROUNDING_MODE")&&(ce=V[ee],x(ce,0,8,ee),ae=ce),V.hasOwnProperty(ee="EXPONENTIAL_AT")&&(ce=V[ee],ce&&ce.pop?(x(ce[0],-y,0,ee),x(ce[1],0,y,ee),Ae=ce[0],he=ce[1]):(x(ce,-y,y,ee),Ae=-(he=ce<0?-ce:ce))),V.hasOwnProperty(ee="RANGE"))if(ce=V[ee],ce&&ce.pop)x(ce[0],-y,-1,ee),x(ce[1],1,y,ee),Ee=ce[0],Ne=ce[1];else if(x(ce,-y,y,ee),ce)Ee=-(Ne=ce<0?-ce:ce);else throw Error(o+ee+" cannot be zero: "+ce);if(V.hasOwnProperty(ee="CRYPTO"))if(ce=V[ee],ce===!!ce)if(ce)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))me=ce;else throw me=!ce,Error(o+"crypto unavailable");else me=ce;else throw Error(o+ee+" not true or false: "+ce);if(V.hasOwnProperty(ee="MODULO_MODE")&&(ce=V[ee],x(ce,0,9,ee),ge=ce),V.hasOwnProperty(ee="POW_PRECISION")&&(ce=V[ee],x(ce,0,y,ee),fe=ce),V.hasOwnProperty(ee="FORMAT"))if(ce=V[ee],typeof ce=="object")le=ce;else throw Error(o+ee+" not an object: "+ce);if(V.hasOwnProperty(ee="ALPHABET"))if(ce=V[ee],typeof ce=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(ce))be=ce.slice(0,10)=="0123456789",pe=ce;else throw Error(o+ee+" invalid: "+ce)}else throw Error(o+"Object expected: "+V);return{DECIMAL_PLACES:te,ROUNDING_MODE:ae,EXPONENTIAL_AT:[Ae,he],RANGE:[Ee,Ne],CRYPTO:me,MODULO_MODE:ge,POW_PRECISION:fe,FORMAT:le,ALPHABET:pe}},ie.isBigNumber=function(V){if(!V||V._isBigNumber!==!0)return!1;if(!ie.DEBUG)return!0;var ee,ce,Ce=V.c,_e=V.e,je=V.s;e:if({}.toString.call(Ce)=="[object Array]"){if((je===1||je===-1)&&_e>=-y&&_e<=y&&_e===s(_e)){if(Ce[0]===0){if(_e===0&&Ce.length===1)return!0;break e}if(ee=(_e+1)%h,ee<1&&(ee+=h),String(Ce[0]).length==ee){for(ee=0;ee<Ce.length;ee++)if(ce=Ce[ee],ce<0||ce>=u||ce!==s(ce))break e;if(ce!==0)return!0}}}else if(Ce===null&&_e===null&&(je===null||je===1||je===-1))return!0;throw Error(o+"Invalid BigNumber: "+V)},ie.maximum=ie.max=function(){return Le(arguments,-1)},ie.minimum=ie.min=function(){return Le(arguments,1)},ie.random=function(){var V=9007199254740992,ee=Math.random()*V&2097151?function(){return s(Math.random()*V)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(ce){var Ce,_e,je,Me,we,ke=0,Re=[],H=new ie(X);if(ce==null?ce=te:x(ce,0,y),Me=i(ce/h),me)if(crypto.getRandomValues){for(Ce=crypto.getRandomValues(new Uint32Array(Me*=2));ke<Me;)we=Ce[ke]*131072+(Ce[ke+1]>>>11),we>=9e15?(_e=crypto.getRandomValues(new Uint32Array(2)),Ce[ke]=_e[0],Ce[ke+1]=_e[1]):(Re.push(we%1e14),ke+=2);ke=Me/2}else if(crypto.randomBytes){for(Ce=crypto.randomBytes(Me*=7);ke<Me;)we=(Ce[ke]&31)*281474976710656+Ce[ke+1]*1099511627776+Ce[ke+2]*4294967296+Ce[ke+3]*16777216+(Ce[ke+4]<<16)+(Ce[ke+5]<<8)+Ce[ke+6],we>=9e15?crypto.randomBytes(7).copy(Ce,ke):(Re.push(we%1e14),ke+=7);ke=Me/7}else throw me=!1,Error(o+"crypto unavailable");if(!me)for(;ke<Me;)we=ee(),we<9e15&&(Re[ke++]=we%1e14);for(Me=Re[--ke],ce%=h,Me&&ce&&(we=p[h-ce],Re[ke]=s(Me/we)*we);Re[ke]===0;Re.pop(),ke--);if(ke<0)Re=[je=0];else{for(je=-1;Re[0]===0;Re.splice(0,1),je-=h);for(ke=1,we=Re[0];we>=10;we/=10,ke++);ke<h&&(je-=h-ke)}return H.e=je,H.c=Re,H}}(),ie.sum=function(){for(var V=1,ee=arguments,ce=new ie(ee[0]);V<ee.length;)ce=ce.plus(ee[V++]);return ce},z=function(){var V="0123456789";function ee(ce,Ce,_e,je){for(var Me,we=[0],ke,Re=0,H=ce.length;Re<H;){for(ke=we.length;ke--;we[ke]*=Ce);for(we[0]+=je.indexOf(ce.charAt(Re++)),Me=0;Me<we.length;Me++)we[Me]>_e-1&&(we[Me+1]==null&&(we[Me+1]=0),we[Me+1]+=we[Me]/_e|0,we[Me]%=_e)}return we.reverse()}return function(ce,Ce,_e,je,Me){var we,ke,Re,H,N,W,J,K,se=ce.indexOf("."),xe=te,D=ae;for(se>=0&&(H=fe,fe=0,ce=ce.replace(".",""),K=new ie(Ce),W=K.pow(ce.length-se),fe=H,K.c=ee(F(b(W.c),W.e,"0"),10,_e,V),K.e=K.c.length),J=ee(ce,Ce,_e,Me?(we=pe,V):(we=V,pe)),Re=H=J.length;J[--H]==0;J.pop());if(!J[0])return we.charAt(0);if(se<0?--Re:(W.c=J,W.e=Re,W.s=je,W=R(W,K,xe,D,_e),J=W.c,N=W.r,Re=W.e),ke=Re+xe+1,se=J[ke],H=_e/2,N=N||ke<0||J[ke+1]!=null,N=D<4?(se!=null||N)&&(D==0||D==(W.s<0?3:2)):se>H||se==H&&(D==4||N||D==6&&J[ke-1]&1||D==(W.s<0?8:7)),ke<1||!J[0])ce=N?F(we.charAt(1),-xe,we.charAt(0)):we.charAt(0);else{if(J.length=ke,N)for(--_e;++J[--ke]>_e;)J[ke]=0,ke||(++Re,J=[1].concat(J));for(H=J.length;!J[--H];);for(se=0,ce="";se<=H;ce+=we.charAt(J[se++]));ce=F(ce,Re,we.charAt(0))}return ce}}(),R=function(){function V(Ce,_e,je){var Me,we,ke,Re,H=0,N=Ce.length,W=_e%g,J=_e/g|0;for(Ce=Ce.slice();N--;)ke=Ce[N]%g,Re=Ce[N]/g|0,Me=J*ke+Re*W,we=W*ke+Me%g*g+H,H=(we/je|0)+(Me/g|0)+J*Re,Ce[N]=we%je;return H&&(Ce=[H].concat(Ce)),Ce}function ee(Ce,_e,je,Me){var we,ke;if(je!=Me)ke=je>Me?1:-1;else for(we=ke=0;we<je;we++)if(Ce[we]!=_e[we]){ke=Ce[we]>_e[we]?1:-1;break}return ke}function ce(Ce,_e,je,Me){for(var we=0;je--;)Ce[je]-=we,we=Ce[je]<_e[je]?1:0,Ce[je]=we*Me+Ce[je]-_e[je];for(;!Ce[0]&&Ce.length>1;Ce.splice(0,1));}return function(Ce,_e,je,Me,we){var ke,Re,H,N,W,J,K,se,xe,D,E,P,U,oe,ve,Fe,Qe,ct=Ce.s==_e.s?1:-1,dt=Ce.c,it=_e.c;if(!dt||!dt[0]||!it||!it[0])return new ie(!Ce.s||!_e.s||(dt?it&&dt[0]==it[0]:!it)?NaN:dt&&dt[0]==0||!it?ct*0:ct/0);for(se=new ie(ct),xe=se.c=[],Re=Ce.e-_e.e,ct=je+Re+1,we||(we=u,Re=w(Ce.e/h)-w(_e.e/h),ct=ct/h|0),H=0;it[H]==(dt[H]||0);H++);if(it[H]>(dt[H]||0)&&Re--,ct<0)xe.push(1),N=!0;else{for(oe=dt.length,Fe=it.length,H=0,ct+=2,W=s(we/(it[0]+1)),W>1&&(it=V(it,W,we),dt=V(dt,W,we),Fe=it.length,oe=dt.length),U=Fe,D=dt.slice(0,Fe),E=D.length;E<Fe;D[E++]=0);Qe=it.slice(),Qe=[0].concat(Qe),ve=it[0],it[1]>=we/2&&ve++;do{if(W=0,ke=ee(it,D,Fe,E),ke<0){if(P=D[0],Fe!=E&&(P=P*we+(D[1]||0)),W=s(P/ve),W>1)for(W>=we&&(W=we-1),J=V(it,W,we),K=J.length,E=D.length;ee(J,D,K,E)==1;)W--,ce(J,Fe<K?Qe:it,K,we),K=J.length,ke=1;else W==0&&(ke=W=1),J=it.slice(),K=J.length;if(K<E&&(J=[0].concat(J)),ce(D,J,E,we),E=D.length,ke==-1)for(;ee(it,D,Fe,E)<1;)W++,ce(D,Fe<E?Qe:it,E,we),E=D.length}else ke===0&&(W++,D=[0]);xe[H++]=W,D[0]?D[E++]=dt[U]||0:(D=[dt[U]],E=1)}while((U++<oe||D[0]!=null)&&ct--);N=D[0]!=null,xe[0]||xe.splice(0,1)}if(we==u){for(H=1,ct=xe[0];ct>=10;ct/=10,H++);Be(se,je+(se.e=H+Re*h-1)+1,Me,N)}else se.e=Re,se.r=+N;return se}}();function Te(V,ee,ce,Ce){var _e,je,Me,we,ke;if(ce==null?ce=ae:x(ce,0,8),!V.c)return V.toString();if(_e=V.c[0],Me=V.e,ee==null)ke=b(V.c),ke=Ce==1||Ce==2&&(Me<=Ae||Me>=he)?C(ke,Me):F(ke,Me,"0");else if(V=Be(new ie(V),ee,ce),je=V.e,ke=b(V.c),we=ke.length,Ce==1||Ce==2&&(ee<=je||je<=Ae)){for(;we<ee;ke+="0",we++);ke=C(ke,je)}else if(ee-=Me,ke=F(ke,je,"0"),je+1>we){if(--ee>0)for(ke+=".";ee--;ke+="0");}else if(ee+=je-we,ee>0)for(je+1==we&&(ke+=".");ee--;ke+="0");return V.s<0&&_e?"-"+ke:ke}function Le(V,ee){for(var ce,Ce,_e=1,je=new ie(V[0]);_e<V.length;_e++)Ce=new ie(V[_e]),(!Ce.s||(ce=k(je,Ce))===ee||ce===0&&je.s===ee)&&(je=Ce);return je}function Ze(V,ee,ce){for(var Ce=1,_e=ee.length;!ee[--_e];ee.pop());for(_e=ee[0];_e>=10;_e/=10,Ce++);return(ce=Ce+ce*h-1)>Ne?V.c=V.e=null:ce<Ee?V.c=[V.e=0]:(V.e=ce,V.c=ee),V}Q=function(){var V=/^(-?)0([xbo])(?=\w[\w.]*$)/i,ee=/^([^.]+)\.$/,ce=/^\.([^.]+)$/,Ce=/^-?(Infinity|NaN)$/,_e=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(je,Me,we,ke){var Re,H=we?Me:Me.replace(_e,"");if(Ce.test(H))je.s=isNaN(H)?null:H<0?-1:1;else{if(!we&&(H=H.replace(V,function(N,W,J){return Re=(J=J.toLowerCase())=="x"?16:J=="b"?2:8,!ke||ke==Re?W:N}),ke&&(Re=ke,H=H.replace(ee,"$1").replace(ce,"0.$1")),Me!=H))return new ie(H,Re);if(ie.DEBUG)throw Error(o+"Not a"+(ke?" base "+ke:"")+" number: "+Me);je.s=null}je.c=je.e=null}}();function Be(V,ee,ce,Ce){var _e,je,Me,we,ke,Re,H,N=V.c,W=p;if(N){e:{for(_e=1,we=N[0];we>=10;we/=10,_e++);if(je=ee-_e,je<0)je+=h,Me=ee,ke=N[Re=0],H=s(ke/W[_e-Me-1]%10);else if(Re=i((je+1)/h),Re>=N.length)if(Ce){for(;N.length<=Re;N.push(0));ke=H=0,_e=1,je%=h,Me=je-h+1}else break e;else{for(ke=we=N[Re],_e=1;we>=10;we/=10,_e++);je%=h,Me=je-h+_e,H=Me<0?0:s(ke/W[_e-Me-1]%10)}if(Ce=Ce||ee<0||N[Re+1]!=null||(Me<0?ke:ke%W[_e-Me-1]),Ce=ce<4?(H||Ce)&&(ce==0||ce==(V.s<0?3:2)):H>5||H==5&&(ce==4||Ce||ce==6&&(je>0?Me>0?ke/W[_e-Me]:0:N[Re-1])%10&1||ce==(V.s<0?8:7)),ee<1||!N[0])return N.length=0,Ce?(ee-=V.e+1,N[0]=W[(h-ee%h)%h],V.e=-ee||0):N[0]=V.e=0,V;if(je==0?(N.length=Re,we=1,Re--):(N.length=Re+1,we=W[h-je],N[Re]=Me>0?s(ke/W[_e-Me]%W[Me])*we:0),Ce)for(;;)if(Re==0){for(je=1,Me=N[0];Me>=10;Me/=10,je++);for(Me=N[0]+=we,we=1;Me>=10;Me/=10,we++);je!=we&&(V.e++,N[0]==u&&(N[0]=1));break}else{if(N[Re]+=we,N[Re]!=u)break;N[Re--]=0,we=1}for(je=N.length;N[--je]===0;N.pop());}V.e>Ne?V.c=V.e=null:V.e<Ee&&(V.c=[V.e=0])}return V}function We(V){var ee,ce=V.e;return ce===null?V.toString():(ee=b(V.c),ee=ce<=Ae||ce>=he?C(ee,ce):F(ee,ce,"0"),V.s<0?"-"+ee:ee)}return $.absoluteValue=$.abs=function(){var V=new ie(this);return V.s<0&&(V.s=1),V},$.comparedTo=function(V,ee){return k(this,new ie(V,ee))},$.decimalPlaces=$.dp=function(V,ee){var ce,Ce,_e,je=this;if(V!=null)return x(V,0,y),ee==null?ee=ae:x(ee,0,8),Be(new ie(je),V+je.e+1,ee);if(!(ce=je.c))return null;if(Ce=((_e=ce.length-1)-w(this.e/h))*h,_e=ce[_e])for(;_e%10==0;_e/=10,Ce--);return Ce<0&&(Ce=0),Ce},$.dividedBy=$.div=function(V,ee){return R(this,new ie(V,ee),te,ae)},$.dividedToIntegerBy=$.idiv=function(V,ee){return R(this,new ie(V,ee),0,1)},$.exponentiatedBy=$.pow=function(V,ee){var ce,Ce,_e,je,Me,we,ke,Re,H,N=this;if(V=new ie(V),V.c&&!V.isInteger())throw Error(o+"Exponent not an integer: "+We(V));if(ee!=null&&(ee=new ie(ee)),we=V.e>14,!N.c||!N.c[0]||N.c[0]==1&&!N.e&&N.c.length==1||!V.c||!V.c[0])return H=new ie(Math.pow(+We(N),we?V.s*(2-v(V)):+We(V))),ee?H.mod(ee):H;if(ke=V.s<0,ee){if(ee.c?!ee.c[0]:!ee.s)return new ie(NaN);Ce=!ke&&N.isInteger()&&ee.isInteger(),Ce&&(N=N.mod(ee))}else{if(V.e>9&&(N.e>0||N.e<-1||(N.e==0?N.c[0]>1||we&&N.c[1]>=24e7:N.c[0]<8e13||we&&N.c[0]<=9999975e7)))return je=N.s<0&&v(V)?-0:0,N.e>-1&&(je=1/je),new ie(ke?1/je:je);fe&&(je=i(fe/h+2))}for(we?(ce=new ie(.5),ke&&(V.s=1),Re=v(V)):(_e=Math.abs(+We(V)),Re=_e%2),H=new ie(X);;){if(Re){if(H=H.times(N),!H.c)break;je?H.c.length>je&&(H.c.length=je):Ce&&(H=H.mod(ee))}if(_e){if(_e=s(_e/2),_e===0)break;Re=_e%2}else if(V=V.times(ce),Be(V,V.e+1,1),V.e>14)Re=v(V);else{if(_e=+We(V),_e===0)break;Re=_e%2}N=N.times(N),je?N.c&&N.c.length>je&&(N.c.length=je):Ce&&(N=N.mod(ee))}return Ce?H:(ke&&(H=X.div(H)),ee?H.mod(ee):je?Be(H,fe,ae,Me):H)},$.integerValue=function(V){var ee=new ie(this);return V==null?V=ae:x(V,0,8),Be(ee,ee.e+1,V)},$.isEqualTo=$.eq=function(V,ee){return k(this,new ie(V,ee))===0},$.isFinite=function(){return!!this.c},$.isGreaterThan=$.gt=function(V,ee){return k(this,new ie(V,ee))>0},$.isGreaterThanOrEqualTo=$.gte=function(V,ee){return(ee=k(this,new ie(V,ee)))===1||ee===0},$.isInteger=function(){return!!this.c&&w(this.e/h)>this.c.length-2},$.isLessThan=$.lt=function(V,ee){return k(this,new ie(V,ee))<0},$.isLessThanOrEqualTo=$.lte=function(V,ee){return(ee=k(this,new ie(V,ee)))===-1||ee===0},$.isNaN=function(){return!this.s},$.isNegative=function(){return this.s<0},$.isPositive=function(){return this.s>0},$.isZero=function(){return!!this.c&&this.c[0]==0},$.minus=function(V,ee){var ce,Ce,_e,je,Me=this,we=Me.s;if(V=new ie(V,ee),ee=V.s,!we||!ee)return new ie(NaN);if(we!=ee)return V.s=-ee,Me.plus(V);var ke=Me.e/h,Re=V.e/h,H=Me.c,N=V.c;if(!ke||!Re){if(!H||!N)return H?(V.s=-ee,V):new ie(N?Me:NaN);if(!H[0]||!N[0])return N[0]?(V.s=-ee,V):new ie(H[0]?Me:ae==3?-0:0)}if(ke=w(ke),Re=w(Re),H=H.slice(),we=ke-Re){for((je=we<0)?(we=-we,_e=H):(Re=ke,_e=N),_e.reverse(),ee=we;ee--;_e.push(0));_e.reverse()}else for(Ce=(je=(we=H.length)<(ee=N.length))?we:ee,we=ee=0;ee<Ce;ee++)if(H[ee]!=N[ee]){je=H[ee]<N[ee];break}if(je&&(_e=H,H=N,N=_e,V.s=-V.s),ee=(Ce=N.length)-(ce=H.length),ee>0)for(;ee--;H[ce++]=0);for(ee=u-1;Ce>we;){if(H[--Ce]<N[Ce]){for(ce=Ce;ce&&!H[--ce];H[ce]=ee);--H[ce],H[Ce]+=u}H[Ce]-=N[Ce]}for(;H[0]==0;H.splice(0,1),--Re);return H[0]?Ze(V,H,Re):(V.s=ae==3?-1:1,V.c=[V.e=0],V)},$.modulo=$.mod=function(V,ee){var ce,Ce,_e=this;return V=new ie(V,ee),!_e.c||!V.s||V.c&&!V.c[0]?new ie(NaN):!V.c||_e.c&&!_e.c[0]?new ie(_e):(ge==9?(Ce=V.s,V.s=1,ce=R(_e,V,0,3),V.s=Ce,ce.s*=Ce):ce=R(_e,V,0,ge),V=_e.minus(ce.times(V)),!V.c[0]&&ge==1&&(V.s=_e.s),V)},$.multipliedBy=$.times=function(V,ee){var ce,Ce,_e,je,Me,we,ke,Re,H,N,W,J,K,se,xe,D=this,E=D.c,P=(V=new ie(V,ee)).c;if(!E||!P||!E[0]||!P[0])return!D.s||!V.s||E&&!E[0]&&!P||P&&!P[0]&&!E?V.c=V.e=V.s=null:(V.s*=D.s,!E||!P?V.c=V.e=null:(V.c=[0],V.e=0)),V;for(Ce=w(D.e/h)+w(V.e/h),V.s*=D.s,ke=E.length,N=P.length,ke<N&&(K=E,E=P,P=K,_e=ke,ke=N,N=_e),_e=ke+N,K=[];_e--;K.push(0));for(se=u,xe=g,_e=N;--_e>=0;){for(ce=0,W=P[_e]%xe,J=P[_e]/xe|0,Me=ke,je=_e+Me;je>_e;)Re=E[--Me]%xe,H=E[Me]/xe|0,we=J*Re+H*W,Re=W*Re+we%xe*xe+K[je]+ce,ce=(Re/se|0)+(we/xe|0)+J*H,K[je--]=Re%se;K[je]=ce}return ce?++Ce:K.splice(0,1),Ze(V,K,Ce)},$.negated=function(){var V=new ie(this);return V.s=-V.s||null,V},$.plus=function(V,ee){var ce,Ce=this,_e=Ce.s;if(V=new ie(V,ee),ee=V.s,!_e||!ee)return new ie(NaN);if(_e!=ee)return V.s=-ee,Ce.minus(V);var je=Ce.e/h,Me=V.e/h,we=Ce.c,ke=V.c;if(!je||!Me){if(!we||!ke)return new ie(_e/0);if(!we[0]||!ke[0])return ke[0]?V:new ie(we[0]?Ce:_e*0)}if(je=w(je),Me=w(Me),we=we.slice(),_e=je-Me){for(_e>0?(Me=je,ce=ke):(_e=-_e,ce=we),ce.reverse();_e--;ce.push(0));ce.reverse()}for(_e=we.length,ee=ke.length,_e-ee<0&&(ce=ke,ke=we,we=ce,ee=_e),_e=0;ee;)_e=(we[--ee]=we[ee]+ke[ee]+_e)/u|0,we[ee]=u===we[ee]?0:we[ee]%u;return _e&&(we=[_e].concat(we),++Me),Ze(V,we,Me)},$.precision=$.sd=function(V,ee){var ce,Ce,_e,je=this;if(V!=null&&V!==!!V)return x(V,1,y),ee==null?ee=ae:x(ee,0,8),Be(new ie(je),V,ee);if(!(ce=je.c))return null;if(_e=ce.length-1,Ce=_e*h+1,_e=ce[_e]){for(;_e%10==0;_e/=10,Ce--);for(_e=ce[0];_e>=10;_e/=10,Ce++);}return V&&je.e+1>Ce&&(Ce=je.e+1),Ce},$.shiftedBy=function(V){return x(V,-f,f),this.times("1e"+V)},$.squareRoot=$.sqrt=function(){var V,ee,ce,Ce,_e,je=this,Me=je.c,we=je.s,ke=je.e,Re=te+4,H=new ie("0.5");if(we!==1||!Me||!Me[0])return new ie(!we||we<0&&(!Me||Me[0])?NaN:Me?je:1/0);if(we=Math.sqrt(+We(je)),we==0||we==1/0?(ee=b(Me),(ee.length+ke)%2==0&&(ee+="0"),we=Math.sqrt(+ee),ke=w((ke+1)/2)-(ke<0||ke%2),we==1/0?ee="5e"+ke:(ee=we.toExponential(),ee=ee.slice(0,ee.indexOf("e")+1)+ke),ce=new ie(ee)):ce=new ie(we+""),ce.c[0]){for(ke=ce.e,we=ke+Re,we<3&&(we=0);;)if(_e=ce,ce=H.times(_e.plus(R(je,_e,Re,1))),b(_e.c).slice(0,we)===(ee=b(ce.c)).slice(0,we))if(ce.e<ke&&--we,ee=ee.slice(we-3,we+1),ee=="9999"||!Ce&&ee=="4999"){if(!Ce&&(Be(_e,_e.e+te+2,0),_e.times(_e).eq(je))){ce=_e;break}Re+=4,we+=4,Ce=1}else{(!+ee||!+ee.slice(1)&&ee.charAt(0)=="5")&&(Be(ce,ce.e+te+2,1),V=!ce.times(ce).eq(je));break}}return Be(ce,ce.e+te+1,ae,V)},$.toExponential=function(V,ee){return V!=null&&(x(V,0,y),V++),Te(this,V,ee,1)},$.toFixed=function(V,ee){return V!=null&&(x(V,0,y),V=V+this.e+1),Te(this,V,ee)},$.toFormat=function(V,ee,ce){var Ce,_e=this;if(ce==null)V!=null&&ee&&typeof ee=="object"?(ce=ee,ee=null):V&&typeof V=="object"?(ce=V,V=ee=null):ce=le;else if(typeof ce!="object")throw Error(o+"Argument not an object: "+ce);if(Ce=_e.toFixed(V,ee),_e.c){var je,Me=Ce.split("."),we=+ce.groupSize,ke=+ce.secondaryGroupSize,Re=ce.groupSeparator||"",H=Me[0],N=Me[1],W=_e.s<0,J=W?H.slice(1):H,K=J.length;if(ke&&(je=we,we=ke,ke=je,K-=je),we>0&&K>0){for(je=K%we||we,H=J.substr(0,je);je<K;je+=we)H+=Re+J.substr(je,we);ke>0&&(H+=Re+J.slice(je)),W&&(H="-"+H)}Ce=N?H+(ce.decimalSeparator||"")+((ke=+ce.fractionGroupSize)?N.replace(new RegExp("\\d{"+ke+"}\\B","g"),"$&"+(ce.fractionGroupSeparator||"")):N):H}return(ce.prefix||"")+Ce+(ce.suffix||"")},$.toFraction=function(V){var ee,ce,Ce,_e,je,Me,we,ke,Re,H,N,W,J=this,K=J.c;if(V!=null&&(we=new ie(V),!we.isInteger()&&(we.c||we.s!==1)||we.lt(X)))throw Error(o+"Argument "+(we.isInteger()?"out of range: ":"not an integer: ")+We(we));if(!K)return new ie(J);for(ee=new ie(X),Re=ce=new ie(X),Ce=ke=new ie(X),W=b(K),je=ee.e=W.length-J.e-1,ee.c[0]=p[(Me=je%h)<0?h+Me:Me],V=!V||we.comparedTo(ee)>0?je>0?ee:Re:we,Me=Ne,Ne=1/0,we=new ie(W),ke.c[0]=0;H=R(we,ee,0,1),_e=ce.plus(H.times(Ce)),_e.comparedTo(V)!=1;)ce=Ce,Ce=_e,Re=ke.plus(H.times(_e=Re)),ke=_e,ee=we.minus(H.times(_e=ee)),we=_e;return _e=R(V.minus(ce),Ce,0,1),ke=ke.plus(_e.times(Re)),ce=ce.plus(_e.times(Ce)),ke.s=Re.s=J.s,je=je*2,N=R(Re,Ce,je,ae).minus(J).abs().comparedTo(R(ke,ce,je,ae).minus(J).abs())<1?[Re,Ce]:[ke,ce],Ne=Me,N},$.toNumber=function(){return+We(this)},$.toPrecision=function(V,ee){return V!=null&&x(V,1,y),Te(this,V,ee,2)},$.toString=function(V){var ee,ce=this,Ce=ce.s,_e=ce.e;return _e===null?Ce?(ee="Infinity",Ce<0&&(ee="-"+ee)):ee="NaN":(V==null?ee=_e<=Ae||_e>=he?C(b(ce.c),_e):F(b(ce.c),_e,"0"):V===10&&be?(ce=Be(new ie(ce),te+_e+1,ae),ee=F(b(ce.c),ce.e,"0")):(x(V,2,pe.length,"Base"),ee=z(F(b(ce.c),_e,"0"),10,V,Ce,!0)),Ce<0&&ce.c[0]&&(ee="-"+ee)),ee},$.valueOf=$.toJSON=function(){return We(this)},$._isBigNumber=!0,j!=null&&ie.set(j),ie}function w(j){var R=j|0;return j>0||j===R?R:R-1}function b(j){for(var R,z,Q=1,$=j.length,X=j[0]+"";Q<$;){for(R=j[Q++]+"",z=h-R.length;z--;R="0"+R);X+=R}for($=X.length;X.charCodeAt(--$)===48;);return X.slice(0,$+1||1)}function k(j,R){var z,Q,$=j.c,X=R.c,te=j.s,ae=R.s,Ae=j.e,he=R.e;if(!te||!ae)return null;if(z=$&&!$[0],Q=X&&!X[0],z||Q)return z?Q?0:-ae:te;if(te!=ae)return te;if(z=te<0,Q=Ae==he,!$||!X)return Q?0:!$^z?1:-1;if(!Q)return Ae>he^z?1:-1;for(ae=(Ae=$.length)<(he=X.length)?Ae:he,te=0;te<ae;te++)if($[te]!=X[te])return $[te]>X[te]^z?1:-1;return Ae==he?0:Ae>he^z?1:-1}function x(j,R,z,Q){if(j<R||j>z||j!==s(j))throw Error(o+(Q||"Argument")+(typeof j=="number"?j<R||j>z?" out of range: ":" not an integer: ":" not a primitive number: ")+String(j))}function v(j){var R=j.c.length-1;return w(j.e/h)==R&&j.c[R]%2!=0}function C(j,R){return(j.length>1?j.charAt(0)+"."+j.slice(1):j)+(R<0?"e":"e+")+R}function F(j,R,z){var Q,$;if(R<0){for($=z+".";++R;$+=z);j=$+j}else if(Q=j.length,++R>Q){for($=z,R-=Q;--R;$+=z);j+=$}else R<Q&&(j=j.slice(0,R)+"."+j.slice(R));return j}n=_(),n.default=n.BigNumber=n,t.exports?t.exports=n:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=n)})(jt)})(r4);var i4=r4.exports;(function(t){var e=i4,n=t.exports;(function(){var r=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i,s,o={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;function u(f){return r.lastIndex=0,r.test(f)?'"'+f.replace(r,function(p){var g=o[p];return typeof g=="string"?g:"\\u"+("0000"+p.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+f+'"'}function h(f,p){var g,y,_,w,b=i,k,x=p[f],v=x!=null&&(x instanceof e||e.isBigNumber(x));switch(x&&typeof x=="object"&&typeof x.toJSON=="function"&&(x=x.toJSON(f)),typeof l=="function"&&(x=l.call(p,f,x)),typeof x){case"string":return v?x:u(x);case"number":return isFinite(x)?String(x):"null";case"boolean":case"null":case"bigint":return String(x);case"object":if(!x)return"null";if(i+=s,k=[],Object.prototype.toString.apply(x)==="[object Array]"){for(w=x.length,g=0;g<w;g+=1)k[g]=h(g,x)||"null";return _=k.length===0?"[]":i?`[
`+i+k.join(`,
`+i)+`
`+b+"]":"["+k.join(",")+"]",i=b,_}if(l&&typeof l=="object")for(w=l.length,g=0;g<w;g+=1)typeof l[g]=="string"&&(y=l[g],_=h(y,x),_&&k.push(u(y)+(i?": ":":")+_));else Object.keys(x).forEach(function(C){var F=h(C,x);F&&k.push(u(C)+(i?": ":":")+F)});return _=k.length===0?"{}":i?`{
`+i+k.join(`,
`+i)+`
`+b+"}":"{"+k.join(",")+"}",i=b,_}}typeof n.stringify!="function"&&(n.stringify=function(f,p,g){var y;if(i="",s="",typeof g=="number")for(y=0;y<g;y+=1)s+=" ";else typeof g=="string"&&(s=g);if(l=p,p&&typeof p!="function"&&(typeof p!="object"||typeof p.length!="number"))throw new Error("JSON.stringify");return h("",{"":f})})})()})(n4);var OB=n4.exports,Vh=null;const $B=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,UB=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;var zB=function(t){var e={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(t!=null){if(t.strict===!0&&(e.strict=!0),t.storeAsString===!0&&(e.storeAsString=!0),e.alwaysParseAsBig=t.alwaysParseAsBig===!0?t.alwaysParseAsBig:!1,e.useNativeBigInt=t.useNativeBigInt===!0?t.useNativeBigInt:!1,typeof t.constructorAction<"u")if(t.constructorAction==="error"||t.constructorAction==="ignore"||t.constructorAction==="preserve")e.constructorAction=t.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${t.constructorAction}`);if(typeof t.protoAction<"u")if(t.protoAction==="error"||t.protoAction==="ignore"||t.protoAction==="preserve")e.protoAction=t.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${t.protoAction}`)}var n,r,i={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},s,o=function(w){throw{name:"SyntaxError",message:w,at:n,text:s}},l=function(w){return w&&w!==r&&o("Expected '"+w+"' instead of '"+r+"'"),r=s.charAt(n),n+=1,r},u=function(){var w,b="";for(r==="-"&&(b="-",l("-"));r>="0"&&r<="9";)b+=r,l();if(r===".")for(b+=".";l()&&r>="0"&&r<="9";)b+=r;if(r==="e"||r==="E")for(b+=r,l(),(r==="-"||r==="+")&&(b+=r,l());r>="0"&&r<="9";)b+=r,l();if(w=+b,!isFinite(w))o("Bad number");else return Vh==null&&(Vh=i4),b.length>15?e.storeAsString?b:e.useNativeBigInt?BigInt(b):new Vh(b):e.alwaysParseAsBig?e.useNativeBigInt?BigInt(w):new Vh(w):w},h=function(){var w,b,k="",x;if(r==='"')for(var v=n;l();){if(r==='"')return n-1>v&&(k+=s.substring(v,n-1)),l(),k;if(r==="\\"){if(n-1>v&&(k+=s.substring(v,n-1)),l(),r==="u"){for(x=0,b=0;b<4&&(w=parseInt(l(),16),!!isFinite(w));b+=1)x=x*16+w;k+=String.fromCharCode(x)}else if(typeof i[r]=="string")k+=i[r];else break;v=n}}o("Bad string")},f=function(){for(;r&&r<=" ";)l()},p=function(){switch(r){case"t":return l("t"),l("r"),l("u"),l("e"),!0;case"f":return l("f"),l("a"),l("l"),l("s"),l("e"),!1;case"n":return l("n"),l("u"),l("l"),l("l"),null}o("Unexpected '"+r+"'")},g,y=function(){var w=[];if(r==="["){if(l("["),f(),r==="]")return l("]"),w;for(;r;){if(w.push(g()),f(),r==="]")return l("]"),w;l(","),f()}}o("Bad array")},_=function(){var w,b=Object.create(null);if(r==="{"){if(l("{"),f(),r==="}")return l("}"),b;for(;r;){if(w=h(),f(),l(":"),e.strict===!0&&Object.hasOwnProperty.call(b,w)&&o('Duplicate key "'+w+'"'),$B.test(w)===!0?e.protoAction==="error"?o("Object contains forbidden prototype property"):e.protoAction==="ignore"?g():b[w]=g():UB.test(w)===!0?e.constructorAction==="error"?o("Object contains forbidden constructor property"):e.constructorAction==="ignore"?g():b[w]=g():b[w]=g(),f(),r==="}")return l("}"),b;l(","),f()}}o("Bad object")};return g=function(){switch(f(),r){case"{":return _();case"[":return y();case'"':return h();case"-":return u();default:return r>="0"&&r<="9"?u():p()}},function(w,b){var k;return s=w+"",n=0,r=" ",k=g(),f(),r&&o("Syntax error"),typeof b=="function"?function x(v,C){var F,j=v[C];return j&&typeof j=="object"&&Object.keys(j).forEach(function(R){F=x(j,R),F!==void 0?j[R]=F:delete j[R]}),b.call(v,C,j)}({"":k},""):k}},qB=zB,s4=OB.stringify,o4=qB;r0.exports=function(t){return{parse:o4(t),stringify:s4}};r0.exports.parse=o4();r0.exports.stringify=s4;var VB=r0.exports;const HB=zo(VB);var xv;(function(t){t.DEFAULT="default",t.SAFE="safe",t.MIXED="mixed",t.BIGINT="bigint"})(xv||(xv={}));const i0=xv,WB=HB({useNativeBigInt:!0,strict:!0});function KB(t,e){const n=e&&e.intDecoding?e.intDecoding:i0.DEFAULT;return WB.parse(t,(r,i)=>{if(i!=null&&typeof i=="object"&&Object.getPrototypeOf(i)==null&&Object.setPrototypeOf(i,Object.prototype),typeof i=="bigint"){if(n==="safe"&&i>Number.MAX_SAFE_INTEGER)throw new Error(`Integer exceeds maximum safe integer: ${i.toString()}. Try parsing with a different intDecoding option.`);return n==="bigint"||n==="mixed"&&i>Number.MAX_SAFE_INTEGER?i:Number(i)}return typeof i=="number"&&n==="bigint"&&Number.isInteger(i)?BigInt(i):i})}function lp(t,e){return t.length!==e.length?!1:Array.from(t).every((n,r)=>n===e[r])}function ar(...t){const e=t.reduce((i,s)=>i+s.length,0),n=new Uint8Array(e);let r=0;for(let i=0;i<t.length;i++)n.set(t[i],r),r+=t[i].length;return n}function GB(t){const e={...t};return Object.keys(e).forEach(n=>{typeof e[n]>"u"&&delete e[n]}),e}function ZB(){const{navigator:t}=globalThis;return typeof t=="object"&&t.product==="ReactNative"}function ms(t){return MB.sha512_256.array(t)}function YB(t){return ZB()&&console.warn("It looks like you're running in react-native. In order to perform common crypto operations you will need to polyfill common operations such as crypto.getRandomValues"),gs.randomBytes(t)}function a4(t){return gs.sign.keyPair.fromSeed(t)}function XB(){const t=YB(gs.box.secretKeyLength);return a4(t)}function l4(t){return t===gs.sign.signatureLength}function jd(t){return gs.sign.keyPair.fromSecretKey(t)}function Td(t,e){return gs.sign.detached(t,e)}function c4(t,e){return gs.verify(t,e)}function s0(t,e,n){return gs.sign.detached.verify(t,e,n)}const cp=gs.sign.publicKeyLength;gs.sign.secretKeyLength;const pS=32,yv=32;var u4={exports:{}};/*
 * [hi-base32]{@link https://github.com/emn178/hi-base32}
 *
 * @version 0.5.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e=typeof window=="object"?window:{},n=!e.HI_BASE32_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;n&&(e=jt);var r=!e.HI_BASE32_NO_COMMON_JS&&!0&&t.exports,i="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".split(""),s={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,2:26,3:27,4:28,5:29,6:30,7:31},o=[0,0,0,0,0,0,0,0],l=function(b,k){k.length>10&&(k="..."+k.substr(-10));var x=new Error("Decoded data is not valid UTF-8. Maybe try base32.decode.asBytes()? Partial data after reading "+b+" bytes: "+k+" <-");throw x.position=b,x},u=function(b){for(var k="",x=b.length,v=0,C=0,F,j;v<x;){if(F=b[v++],F<=127){k+=String.fromCharCode(F);continue}else F>191&&F<=223?(j=F&31,C=1):F<=239?(j=F&15,C=2):F<=247?(j=F&7,C=3):l(v,k);for(var R=0;R<C;++R)F=b[v++],(F<128||F>191)&&l(v,k),j<<=6,j+=F&63;j>=55296&&j<=57343&&l(v,k),j>1114111&&l(v,k),j<=65535?k+=String.fromCharCode(j):(j-=65536,k+=String.fromCharCode((j>>10)+55296),k+=String.fromCharCode((j&1023)+56320))}return k},h=function(b){if(b==="")return[];if(!/^[A-Z2-7=]+$/.test(b))throw new Error("Invalid base32 characters");b=b.replace(/=/g,"");for(var k,x,v,C,F,j,R,z,Q=[],$=0,X=b.length,te=0,ae=X>>3<<3;te<ae;)k=s[b.charAt(te++)],x=s[b.charAt(te++)],v=s[b.charAt(te++)],C=s[b.charAt(te++)],F=s[b.charAt(te++)],j=s[b.charAt(te++)],R=s[b.charAt(te++)],z=s[b.charAt(te++)],Q[$++]=(k<<3|x>>>2)&255,Q[$++]=(x<<6|v<<1|C>>>4)&255,Q[$++]=(C<<4|F>>>1)&255,Q[$++]=(F<<7|j<<2|R>>>3)&255,Q[$++]=(R<<5|z)&255;var Ae=X-ae;return Ae===2?(k=s[b.charAt(te++)],x=s[b.charAt(te++)],Q[$++]=(k<<3|x>>>2)&255):Ae===4?(k=s[b.charAt(te++)],x=s[b.charAt(te++)],v=s[b.charAt(te++)],C=s[b.charAt(te++)],Q[$++]=(k<<3|x>>>2)&255,Q[$++]=(x<<6|v<<1|C>>>4)&255):Ae===5?(k=s[b.charAt(te++)],x=s[b.charAt(te++)],v=s[b.charAt(te++)],C=s[b.charAt(te++)],F=s[b.charAt(te++)],Q[$++]=(k<<3|x>>>2)&255,Q[$++]=(x<<6|v<<1|C>>>4)&255,Q[$++]=(C<<4|F>>>1)&255):Ae===7&&(k=s[b.charAt(te++)],x=s[b.charAt(te++)],v=s[b.charAt(te++)],C=s[b.charAt(te++)],F=s[b.charAt(te++)],j=s[b.charAt(te++)],R=s[b.charAt(te++)],Q[$++]=(k<<3|x>>>2)&255,Q[$++]=(x<<6|v<<1|C>>>4)&255,Q[$++]=(C<<4|F>>>1)&255,Q[$++]=(F<<7|j<<2|R>>>3)&255),Q},f=function(b){for(var k,x,v,C,F,j="",R=b.length,z=0,Q=parseInt(R/5)*5;z<Q;)k=b.charCodeAt(z++),x=b.charCodeAt(z++),v=b.charCodeAt(z++),C=b.charCodeAt(z++),F=b.charCodeAt(z++),j+=i[k>>>3]+i[(k<<2|x>>>6)&31]+i[x>>>1&31]+i[(x<<4|v>>>4)&31]+i[(v<<1|C>>>7)&31]+i[C>>>2&31]+i[(C<<3|F>>>5)&31]+i[F&31];var $=R-Q;return $===1?(k=b.charCodeAt(z),j+=i[k>>>3]+i[k<<2&31]+"======"):$===2?(k=b.charCodeAt(z++),x=b.charCodeAt(z),j+=i[k>>>3]+i[(k<<2|x>>>6)&31]+i[x>>>1&31]+i[x<<4&31]+"===="):$===3?(k=b.charCodeAt(z++),x=b.charCodeAt(z++),v=b.charCodeAt(z),j+=i[k>>>3]+i[(k<<2|x>>>6)&31]+i[x>>>1&31]+i[(x<<4|v>>>4)&31]+i[v<<1&31]+"==="):$===4&&(k=b.charCodeAt(z++),x=b.charCodeAt(z++),v=b.charCodeAt(z++),C=b.charCodeAt(z),j+=i[k>>>3]+i[(k<<2|x>>>6)&31]+i[x>>>1&31]+i[(x<<4|v>>>4)&31]+i[(v<<1|C>>>7)&31]+i[C>>>2&31]+i[C<<3&31]+"="),j},p=function(b){var k,x,v,C,F,j,R=!1,z="",Q=0,$,X=0,te=b.length;if(b==="")return z;do{for(o[0]=o[5],o[1]=o[6],o[2]=o[7],$=X;Q<te&&$<5;++Q)j=b.charCodeAt(Q),j<128?o[$++]=j:j<2048?(o[$++]=192|j>>6,o[$++]=128|j&63):j<55296||j>=57344?(o[$++]=224|j>>12,o[$++]=128|j>>6&63,o[$++]=128|j&63):(j=65536+((j&1023)<<10|b.charCodeAt(++Q)&1023),o[$++]=240|j>>18,o[$++]=128|j>>12&63,o[$++]=128|j>>6&63,o[$++]=128|j&63);X=$-5,Q===te&&++Q,Q>te&&$<6&&(R=!0),k=o[0],$>4?(x=o[1],v=o[2],C=o[3],F=o[4],z+=i[k>>>3]+i[(k<<2|x>>>6)&31]+i[x>>>1&31]+i[(x<<4|v>>>4)&31]+i[(v<<1|C>>>7)&31]+i[C>>>2&31]+i[(C<<3|F>>>5)&31]+i[F&31]):$===1?z+=i[k>>>3]+i[k<<2&31]+"======":$===2?(x=o[1],z+=i[k>>>3]+i[(k<<2|x>>>6)&31]+i[x>>>1&31]+i[x<<4&31]+"===="):$===3?(x=o[1],v=o[2],z+=i[k>>>3]+i[(k<<2|x>>>6)&31]+i[x>>>1&31]+i[(x<<4|v>>>4)&31]+i[v<<1&31]+"==="):(x=o[1],v=o[2],C=o[3],z+=i[k>>>3]+i[(k<<2|x>>>6)&31]+i[x>>>1&31]+i[(x<<4|v>>>4)&31]+i[(v<<1|C>>>7)&31]+i[C>>>2&31]+i[C<<3&31]+"=")}while(!R);return z},g=function(b){for(var k,x,v,C,F,j="",R=b.length,z=0,Q=parseInt(R/5)*5;z<Q;)k=b[z++],x=b[z++],v=b[z++],C=b[z++],F=b[z++],j+=i[k>>>3]+i[(k<<2|x>>>6)&31]+i[x>>>1&31]+i[(x<<4|v>>>4)&31]+i[(v<<1|C>>>7)&31]+i[C>>>2&31]+i[(C<<3|F>>>5)&31]+i[F&31];var $=R-Q;return $===1?(k=b[z],j+=i[k>>>3]+i[k<<2&31]+"======"):$===2?(k=b[z++],x=b[z],j+=i[k>>>3]+i[(k<<2|x>>>6)&31]+i[x>>>1&31]+i[x<<4&31]+"===="):$===3?(k=b[z++],x=b[z++],v=b[z],j+=i[k>>>3]+i[(k<<2|x>>>6)&31]+i[x>>>1&31]+i[(x<<4|v>>>4)&31]+i[v<<1&31]+"==="):$===4&&(k=b[z++],x=b[z++],v=b[z++],C=b[z],j+=i[k>>>3]+i[(k<<2|x>>>6)&31]+i[x>>>1&31]+i[(x<<4|v>>>4)&31]+i[(v<<1|C>>>7)&31]+i[C>>>2&31]+i[C<<3&31]+"="),j},y=function(b,k){var x=typeof b!="string";return x&&b.constructor===ArrayBuffer&&(b=new Uint8Array(b)),x?g(b):k?f(b):p(b)},_=function(b,k){if(!k)return u(h(b));if(b==="")return"";if(!/^[A-Z2-7=]+$/.test(b))throw new Error("Invalid base32 characters");var x,v,C,F,j,R,z,Q,$="",X=b.indexOf("=");X===-1&&(X=b.length);for(var te=0,ae=X>>3<<3;te<ae;)x=s[b.charAt(te++)],v=s[b.charAt(te++)],C=s[b.charAt(te++)],F=s[b.charAt(te++)],j=s[b.charAt(te++)],R=s[b.charAt(te++)],z=s[b.charAt(te++)],Q=s[b.charAt(te++)],$+=String.fromCharCode((x<<3|v>>>2)&255)+String.fromCharCode((v<<6|C<<1|F>>>4)&255)+String.fromCharCode((F<<4|j>>>1)&255)+String.fromCharCode((j<<7|R<<2|z>>>3)&255)+String.fromCharCode((z<<5|Q)&255);var Ae=X-ae;return Ae===2?(x=s[b.charAt(te++)],v=s[b.charAt(te++)],$+=String.fromCharCode((x<<3|v>>>2)&255)):Ae===4?(x=s[b.charAt(te++)],v=s[b.charAt(te++)],C=s[b.charAt(te++)],F=s[b.charAt(te++)],$+=String.fromCharCode((x<<3|v>>>2)&255)+String.fromCharCode((v<<6|C<<1|F>>>4)&255)):Ae===5?(x=s[b.charAt(te++)],v=s[b.charAt(te++)],C=s[b.charAt(te++)],F=s[b.charAt(te++)],j=s[b.charAt(te++)],$+=String.fromCharCode((x<<3|v>>>2)&255)+String.fromCharCode((v<<6|C<<1|F>>>4)&255)+String.fromCharCode((F<<4|j>>>1)&255)):Ae===7&&(x=s[b.charAt(te++)],v=s[b.charAt(te++)],C=s[b.charAt(te++)],F=s[b.charAt(te++)],j=s[b.charAt(te++)],R=s[b.charAt(te++)],z=s[b.charAt(te++)],$+=String.fromCharCode((x<<3|v>>>2)&255)+String.fromCharCode((v<<6|C<<1|F>>>4)&255)+String.fromCharCode((F<<4|j>>>1)&255)+String.fromCharCode((j<<7|R<<2|z>>>3)&255)),$},w={encode:y,decode:_};_.asBytes=h,r?t.exports=w:e.base32=w})()})(u4);var JB=u4.exports;const x1=zo(JB);function d4(t){if(!(typeof t=="bigint"||Number.isInteger(t))||t<0||t>BigInt("0xffffffffffffffff"))throw new Error("Input is not a 64-bit unsigned integer");const n=new Uint8Array(8);return new DataView(n.buffer).setBigUint64(0,BigInt(t)),n}function QB(t,e="safe"){if(e!=="safe"&&e!=="mixed"&&e!=="bigint")throw new Error(`Unknown decodingMode option: ${e}`);if(t.byteLength===0||t.byteLength>8)throw new Error(`Data has unacceptable length. Expected length is between 1 and 8, got ${t.byteLength}`);const n=new Uint8Array(8-t.byteLength),r=ar(n,t),s=new DataView(r.buffer).getBigUint64(0),o=s>BigInt(Number.MAX_SAFE_INTEGER);if(e==="safe"){if(o)throw new Error(`Integer exceeds maximum safe integer: ${s.toString()}. Try decoding with "mixed" or "safe" decodingMode.`);return Number(s)}return e==="mixed"&&!o?Number(s):s}const Af=36,up=4,h4=58,eD="AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY5HFKQ",iu=new Uint8Array([77,117,108,116,105,115,105,103,65,100,100,114]),tD=Se.Buffer.from("appID"),mS="address seems to be malformed",nD="wrong checksum for address",rD="invalid multisig version",iD="bad multisig threshold",sD="bad multisig public key - wrong length",oD="nacl public key length is not 32 bytes";function Wt(t){if(typeof t!="string"||t.length!==h4)throw new Error(mS);const e=x1.decode.asBytes(t.toString());if(e.length!==Af)throw new Error(mS);const n=new Uint8Array(e.slice(0,Af-up)),r=new Uint8Array(e.slice(cp,Af)),i=ms(n).slice(pS-up,pS);if(!lp(i,r))throw new Error(nD);return{publicKey:n,checksum:r}}function f4(t){try{Wt(t)}catch{return!1}return!0}function Nt(t){const e=ms(t).slice(cp-up,cp);return x1.encode(ar(t,e)).toString().slice(0,h4)}function Mo({version:t,threshold:e,pks:n}){if(t!==1||t>255||t<0)throw new Error(rD);if(e===0||n.length===0||e>n.length||e>255)throw new Error(iD);const r=Af-up;if(r!==cp)throw new Error(oD);const i=new Uint8Array(iu.length+2+r*n.length);i.set(iu,0),i.set([t],iu.length),i.set([e],iu.length+1);for(let s=0;s<n.length;s++){if(n[s].length!==r)throw new Error(sD);i.set(n[s],iu.length+2+s*r)}return new Uint8Array(ms(i))}function p4({version:t,threshold:e,addrs:n}){const r=n.map(i=>Wt(i).publicKey);return Nt(Mo({version:t,threshold:e,pks:r}))}function vv(t){const e=ar(tD,d4(t)),n=ms(e);return Nt(new Uint8Array(n))}var m4={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(jt,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,l){i.o(s,o)||Object.defineProperty(s,o,{enumerable:!0,get:l})},i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,o){if(1&o&&(s=i(s)),8&o||4&o&&typeof s=="object"&&s&&s.__esModule)return s;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:s}),2&o&&typeof s!="string")for(var u in s)i.d(l,u,(function(h){return s[h]}).bind(null,u));return l},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=0)}([function(n,r,i){i.r(r),i.d(r,"encode",function(){return Ae}),i.d(r,"decode",function(){return We}),i.d(r,"decodeAsync",function(){return we}),i.d(r,"decodeArrayStream",function(){return ke}),i.d(r,"decodeStream",function(){return Re}),i.d(r,"Decoder",function(){return Ze}),i.d(r,"Encoder",function(){return te}),i.d(r,"ExtensionCodec",function(){return Q}),i.d(r,"ExtData",function(){return w}),i.d(r,"EXT_TIMESTAMP",function(){return x}),i.d(r,"encodeDateToTimeSpec",function(){return C}),i.d(r,"encodeTimeSpecToTimestamp",function(){return v}),i.d(r,"decodeTimestampToTimeSpec",function(){return j}),i.d(r,"encodeTimestampExtension",function(){return F}),i.d(r,"decodeTimestampExtension",function(){return R});var s=function(H,N){var W=typeof Symbol=="function"&&H[Symbol.iterator];if(!W)return H;var J,K,se=W.call(H),xe=[];try{for(;(N===void 0||N-- >0)&&!(J=se.next()).done;)xe.push(J.value)}catch(D){K={error:D}}finally{try{J&&!J.done&&(W=se.return)&&W.call(se)}finally{if(K)throw K.error}}return xe},o=function(){for(var H=[],N=0;N<arguments.length;N++)H=H.concat(s(arguments[N]));return H},l=typeof process<"u"&&typeof TextEncoder<"u"&&typeof TextDecoder<"u";function u(H){for(var N=H.length,W=0,J=0;J<N;){var K=H.charCodeAt(J++);if(4294967168&K)if(!(4294965248&K))W+=2;else{if(K>=55296&&K<=56319&&J<N){var se=H.charCodeAt(J);(64512&se)==56320&&(++J,K=((1023&K)<<10)+(1023&se)+65536)}W+=4294901760&K?4:3}else W++}return W}var h=l?new TextEncoder:void 0,f=typeof process<"u"?200:0,p=h!=null&&h.encodeInto?function(H,N,W){h.encodeInto(H,N.subarray(W))}:function(H,N,W){N.set(h.encode(H),W)};function g(H,N,W){for(var J=N,K=J+W,se=[],xe="";J<K;){var D=H[J++];if(!(128&D))se.push(D);else if((224&D)==192){var E=63&H[J++];se.push((31&D)<<6|E)}else if((240&D)==224){E=63&H[J++];var P=63&H[J++];se.push((31&D)<<12|E<<6|P)}else if((248&D)==240){var U=(7&D)<<18|(E=63&H[J++])<<12|(P=63&H[J++])<<6|63&H[J++];U>65535&&(U-=65536,se.push(U>>>10&1023|55296),U=56320|1023&U),se.push(U)}else se.push(D);se.length>=4096&&(xe+=String.fromCharCode.apply(String,o(se)),se.length=0)}return se.length>0&&(xe+=String.fromCharCode.apply(String,o(se))),xe}var y=l?new TextDecoder:null,_=typeof process<"u"?200:0,w=function(H,N){this.type=H,this.data=N};function b(H,N,W){var J=Math.floor(W/4294967296),K=W;H.setUint32(N,J),H.setUint32(N+4,K)}function k(H,N){var W=H.getInt32(N),J=H.getUint32(N+4),K=W<Math.floor(Number.MIN_SAFE_INTEGER/4294967296)||W===Math.floor(Number.MIN_SAFE_INTEGER/4294967296)&&J===0,se=W>Math.floor(Number.MAX_SAFE_INTEGER/4294967296);return K||se?BigInt(W)*BigInt(4294967296)+BigInt(J):4294967296*W+J}var x=-1;function v(H){var N=H.sec,W=H.nsec;if(N>=0&&W>=0&&N<=17179869183){if(W===0&&N<=4294967295){var J=new Uint8Array(4);return(xe=new DataView(J.buffer)).setUint32(0,N),J}var K=N/4294967296,se=4294967295&N;return J=new Uint8Array(8),(xe=new DataView(J.buffer)).setUint32(0,W<<2|3&K),xe.setUint32(4,se),J}var xe;return J=new Uint8Array(12),(xe=new DataView(J.buffer)).setUint32(0,W),b(xe,4,N),J}function C(H){var N=H.getTime(),W=Math.floor(N/1e3),J=1e6*(N-1e3*W),K=Math.floor(J/1e9);return{sec:W+K,nsec:J-1e9*K}}function F(H){return H instanceof Date?v(C(H)):null}function j(H){var N=new DataView(H.buffer,H.byteOffset,H.byteLength);switch(H.byteLength){case 4:return{sec:N.getUint32(0),nsec:0};case 8:var W=N.getUint32(0);return{sec:4294967296*(3&W)+N.getUint32(4),nsec:W>>>2};case 12:return{sec:k(N,4),nsec:N.getUint32(0)};default:throw new Error("Unrecognized data size for timestamp: "+H.length)}}function R(H){var N=j(H);return new Date(1e3*N.sec+N.nsec/1e6)}var z={type:x,encode:F,decode:R},Q=function(){function H(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(z)}return H.prototype.register=function(N){var W=N.type,J=N.encode,K=N.decode;if(W>=0)this.encoders[W]=J,this.decoders[W]=K;else{var se=1+W;this.builtInEncoders[se]=J,this.builtInDecoders[se]=K}},H.prototype.tryToEncode=function(N,W){for(var J=0;J<this.builtInEncoders.length;J++)if((K=this.builtInEncoders[J])!=null&&(se=K(N,W))!=null)return new w(-1-J,se);for(J=0;J<this.encoders.length;J++){var K,se;if((K=this.encoders[J])!=null&&(se=K(N,W))!=null)return new w(J,se)}return N instanceof w?N:null},H.prototype.decode=function(N,W,J){var K=W<0?this.builtInDecoders[-1-W]:this.decoders[W];return K?K(N,W,J):new w(W,N)},H.defaultCodec=new H,H}();function $(H){return H instanceof Uint8Array?H:ArrayBuffer.isView(H)?new Uint8Array(H.buffer,H.byteOffset,H.byteLength):H instanceof ArrayBuffer?new Uint8Array(H):Uint8Array.from(H)}var X=function(H){var N=typeof Symbol=="function"&&Symbol.iterator,W=N&&H[N],J=0;if(W)return W.call(H);if(H&&typeof H.length=="number")return{next:function(){return H&&J>=H.length&&(H=void 0),{value:H&&H[J++],done:!H}}};throw new TypeError(N?"Object is not iterable.":"Symbol.iterator is not defined.")},te=function(){function H(N,W,J,K,se,xe,D,E){N===void 0&&(N=Q.defaultCodec),W===void 0&&(W=void 0),J===void 0&&(J=100),K===void 0&&(K=2048),se===void 0&&(se=!1),xe===void 0&&(xe=!1),D===void 0&&(D=!1),E===void 0&&(E=!1),this.extensionCodec=N,this.context=W,this.maxDepth=J,this.initialBufferSize=K,this.sortKeys=se,this.forceFloat32=xe,this.ignoreUndefined=D,this.forceIntegerToFloat=E,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return H.prototype.getUint8Array=function(){return this.bytes.subarray(0,this.pos)},H.prototype.reinitializeState=function(){this.pos=0},H.prototype.encode=function(N){return this.reinitializeState(),this.doEncode(N,1),this.getUint8Array()},H.prototype.doEncode=function(N,W){if(W>this.maxDepth)throw new Error("Too deep objects in depth "+W);N==null?this.encodeNil():typeof N=="boolean"?this.encodeBoolean(N):typeof N=="number"?this.encodeNumber(N):typeof N=="string"?this.encodeString(N):typeof N=="bigint"?this.encodebigint(N):this.encodeObject(N,W)},H.prototype.ensureBufferSizeToWrite=function(N){var W=this.pos+N;this.view.byteLength<W&&this.resizeBuffer(2*W)},H.prototype.resizeBuffer=function(N){var W=new ArrayBuffer(N),J=new Uint8Array(W),K=new DataView(W);J.set(this.bytes),this.view=K,this.bytes=J},H.prototype.encodeNil=function(){this.writeU8(192)},H.prototype.encodeBoolean=function(N){N===!1?this.writeU8(194):this.writeU8(195)},H.prototype.encodeNumber=function(N){Number.isSafeInteger(N)&&!this.forceIntegerToFloat?N>=0?N<128?this.writeU8(N):N<256?(this.writeU8(204),this.writeU8(N)):N<65536?(this.writeU8(205),this.writeU16(N)):N<4294967296?(this.writeU8(206),this.writeU32(N)):(this.writeU8(207),this.writeU64(N)):N>=-32?this.writeU8(224|N+32):N>=-128?(this.writeU8(208),this.writeI8(N)):N>=-32768?(this.writeU8(209),this.writeI16(N)):N>=-2147483648?(this.writeU8(210),this.writeI32(N)):(this.writeU8(211),this.writeI64(N)):this.forceFloat32?(this.writeU8(202),this.writeF32(N)):(this.writeU8(203),this.writeF64(N))},H.prototype.encodebigint=function(N){N>=BigInt(0)?N<BigInt(128)?this.writeU8(Number(N)):N<BigInt(256)?(this.writeU8(204),this.writeU8(Number(N))):N<BigInt(65536)?(this.writeU8(205),this.writeU16(Number(N))):N<BigInt(4294967296)?(this.writeU8(206),this.writeU32(Number(N))):(this.writeU8(207),this.writeBig64(N)):N>=BigInt(-32)?this.writeU8(224|Number(N)+32):N>=BigInt(-128)?(this.writeU8(208),this.writeI8(Number(N))):N>=BigInt(-32768)?(this.writeU8(209),this.writeI16(Number(N))):N>=BigInt(-2147483648)?(this.writeU8(210),this.writeI32(Number(N))):(this.writeU8(211),this.writeBig64(N))},H.prototype.writeStringHeader=function(N){if(N<32)this.writeU8(160+N);else if(N<256)this.writeU8(217),this.writeU8(N);else if(N<65536)this.writeU8(218),this.writeU16(N);else{if(!(N<4294967296))throw new Error("Too long string: "+N+" bytes in UTF-8");this.writeU8(219),this.writeU32(N)}},H.prototype.encodeString=function(N){var W=N.length;if(l&&W>f){var J=u(N);this.ensureBufferSizeToWrite(5+J),this.writeStringHeader(J),p(N,this.bytes,this.pos),this.pos+=J}else J=u(N),this.ensureBufferSizeToWrite(5+J),this.writeStringHeader(J),function(K,se,xe){for(var D=K.length,E=xe,P=0;P<D;){var U=K.charCodeAt(P++);if(4294967168&U){if(!(4294965248&U))se[E++]=U>>6&31|192;else{if(U>=55296&&U<=56319&&P<D){var oe=K.charCodeAt(P);(64512&oe)==56320&&(++P,U=((1023&U)<<10)+(1023&oe)+65536)}4294901760&U?(se[E++]=U>>18&7|240,se[E++]=U>>12&63|128,se[E++]=U>>6&63|128):(se[E++]=U>>12&15|224,se[E++]=U>>6&63|128)}se[E++]=63&U|128}else se[E++]=U}}(N,this.bytes,this.pos),this.pos+=J},H.prototype.encodeObject=function(N,W){var J=this.extensionCodec.tryToEncode(N,this.context);if(J!=null)this.encodeExtension(J);else if(Array.isArray(N))this.encodeArray(N,W);else if(ArrayBuffer.isView(N))this.encodeBinary(N);else{if(typeof N!="object")throw new Error("Unrecognized object: "+Object.prototype.toString.apply(N));this.encodeMap(N,W)}},H.prototype.encodeBinary=function(N){var W=N.byteLength;if(W<256)this.writeU8(196),this.writeU8(W);else if(W<65536)this.writeU8(197),this.writeU16(W);else{if(!(W<4294967296))throw new Error("Too large binary: "+W);this.writeU8(198),this.writeU32(W)}var J=$(N);this.writeU8a(J)},H.prototype.encodeArray=function(N,W){var J,K,se=N.length;if(se<16)this.writeU8(144+se);else if(se<65536)this.writeU8(220),this.writeU16(se);else{if(!(se<4294967296))throw new Error("Too large array: "+se);this.writeU8(221),this.writeU32(se)}try{for(var xe=X(N),D=xe.next();!D.done;D=xe.next()){var E=D.value;this.doEncode(E,W+1)}}catch(P){J={error:P}}finally{try{D&&!D.done&&(K=xe.return)&&K.call(xe)}finally{if(J)throw J.error}}},H.prototype.countWithoutUndefined=function(N,W){var J,K,se=0;try{for(var xe=X(W),D=xe.next();!D.done;D=xe.next())N[D.value]!==void 0&&se++}catch(E){J={error:E}}finally{try{D&&!D.done&&(K=xe.return)&&K.call(xe)}finally{if(J)throw J.error}}return se},H.prototype.encodeMap=function(N,W){var J,K,se=Object.keys(N);this.sortKeys&&se.sort();var xe=this.ignoreUndefined?this.countWithoutUndefined(N,se):se.length;if(xe<16)this.writeU8(128+xe);else if(xe<65536)this.writeU8(222),this.writeU16(xe);else{if(!(xe<4294967296))throw new Error("Too large map object: "+xe);this.writeU8(223),this.writeU32(xe)}try{for(var D=X(se),E=D.next();!E.done;E=D.next()){var P=E.value,U=N[P];this.ignoreUndefined&&U===void 0||(this.encodeString(P),this.doEncode(U,W+1))}}catch(oe){J={error:oe}}finally{try{E&&!E.done&&(K=D.return)&&K.call(D)}finally{if(J)throw J.error}}},H.prototype.encodeExtension=function(N){var W=N.data.length;if(W===1)this.writeU8(212);else if(W===2)this.writeU8(213);else if(W===4)this.writeU8(214);else if(W===8)this.writeU8(215);else if(W===16)this.writeU8(216);else if(W<256)this.writeU8(199),this.writeU8(W);else if(W<65536)this.writeU8(200),this.writeU16(W);else{if(!(W<4294967296))throw new Error("Too large extension object: "+W);this.writeU8(201),this.writeU32(W)}this.writeI8(N.type),this.writeU8a(N.data)},H.prototype.writeU8=function(N){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,N),this.pos++},H.prototype.writeU8a=function(N){var W=N.length;this.ensureBufferSizeToWrite(W),this.bytes.set(N,this.pos),this.pos+=W},H.prototype.writeI8=function(N){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,N),this.pos++},H.prototype.writeU16=function(N){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,N),this.pos+=2},H.prototype.writeI16=function(N){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,N),this.pos+=2},H.prototype.writeU32=function(N){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,N),this.pos+=4},H.prototype.writeI32=function(N){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,N),this.pos+=4},H.prototype.writeF32=function(N){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,N),this.pos+=4},H.prototype.writeF64=function(N){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,N),this.pos+=8},H.prototype.writeU64=function(N){this.ensureBufferSizeToWrite(8),function(W,J,K){var se=K/4294967296,xe=K;W.setUint32(J,se),W.setUint32(J+4,xe)}(this.view,this.pos,N),this.pos+=8},H.prototype.writeI64=function(N){this.ensureBufferSizeToWrite(8),b(this.view,this.pos,N),this.pos+=8},H.prototype.writeBig64=function(N){this.ensureBufferSizeToWrite(8),function(W,J,K){var se=Number(K/BigInt(4294967296)),xe=Number(K%BigInt(4294967296));se<0&&xe!==0&&(se-=1),W.setUint32(J,se),W.setUint32(J+4,xe)}(this.view,this.pos,N),this.pos+=8},H}(),ae={};function Ae(H,N){return N===void 0&&(N=ae),new te(N.extensionCodec,N.context,N.maxDepth,N.initialBufferSize,N.sortKeys,N.forceFloat32,N.ignoreUndefined,N.forceIntegerToFloat).encode(H)}function he(H){return(H<0?"-":"")+"0x"+Math.abs(H).toString(16).padStart(2,"0")}var Ee=function(){function H(N,W){N===void 0&&(N=16),W===void 0&&(W=16),this.maxKeyLength=N,this.maxLengthPerKey=W,this.hit=0,this.miss=0,this.caches=[];for(var J=0;J<this.maxKeyLength;J++)this.caches.push([])}return H.prototype.canBeCached=function(N){return N>0&&N<=this.maxKeyLength},H.prototype.get=function(N,W,J){var K=this.caches[J-1],se=K.length;e:for(var xe=0;xe<se;xe++){for(var D=K[xe],E=D.bytes,P=0;P<J;P++)if(E[P]!==N[W+P])continue e;return D.value}return null},H.prototype.store=function(N,W){var J=this.caches[N.length-1],K={bytes:N,value:W};J.length>=this.maxLengthPerKey?J[Math.random()*J.length|0]=K:J.push(K)},H.prototype.decode=function(N,W,J){var K=this.get(N,W,J);if(K!=null)return this.hit++,K;this.miss++;var se=g(N,W,J),xe=Uint8Array.prototype.slice.call(N,W,W+J);return this.store(xe,se),se},H}(),Ne=function(H,N,W,J){return new(W||(W=Promise))(function(K,se){function xe(P){try{E(J.next(P))}catch(U){se(U)}}function D(P){try{E(J.throw(P))}catch(U){se(U)}}function E(P){var U;P.done?K(P.value):(U=P.value,U instanceof W?U:new W(function(oe){oe(U)})).then(xe,D)}E((J=J.apply(H,[])).next())})},me=function(H,N){var W,J,K,se,xe={label:0,sent:function(){if(1&K[0])throw K[1];return K[1]},trys:[],ops:[]};return se={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(se[Symbol.iterator]=function(){return this}),se;function D(E){return function(P){return function(U){if(W)throw new TypeError("Generator is already executing.");for(;xe;)try{if(W=1,J&&(K=2&U[0]?J.return:U[0]?J.throw||((K=J.return)&&K.call(J),0):J.next)&&!(K=K.call(J,U[1])).done)return K;switch(J=0,K&&(U=[2&U[0],K.value]),U[0]){case 0:case 1:K=U;break;case 4:return xe.label++,{value:U[1],done:!1};case 5:xe.label++,J=U[1],U=[0];continue;case 7:U=xe.ops.pop(),xe.trys.pop();continue;default:if(K=xe.trys,!((K=K.length>0&&K[K.length-1])||U[0]!==6&&U[0]!==2)){xe=0;continue}if(U[0]===3&&(!K||U[1]>K[0]&&U[1]<K[3])){xe.label=U[1];break}if(U[0]===6&&xe.label<K[1]){xe.label=K[1],K=U;break}if(K&&xe.label<K[2]){xe.label=K[2],xe.ops.push(U);break}K[2]&&xe.ops.pop(),xe.trys.pop();continue}U=N.call(H,xe)}catch(oe){U=[6,oe],J=0}finally{W=K=0}if(5&U[0])throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}([E,P])}}},ge=function(H){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var N,W=H[Symbol.asyncIterator];return W?W.call(H):(H=typeof __values=="function"?__values(H):H[Symbol.iterator](),N={},J("next"),J("throw"),J("return"),N[Symbol.asyncIterator]=function(){return this},N);function J(K){N[K]=H[K]&&function(se){return new Promise(function(xe,D){(function(E,P,U,oe){Promise.resolve(oe).then(function(ve){E({value:ve,done:U})},P)})(xe,D,(se=H[K](se)).done,se.value)})}}},fe=function(H){return this instanceof fe?(this.v=H,this):new fe(H)},le=function(H,N,W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,K=W.apply(H,N||[]),se=[];return J={},xe("next"),xe("throw"),xe("return"),J[Symbol.asyncIterator]=function(){return this},J;function xe(oe){K[oe]&&(J[oe]=function(ve){return new Promise(function(Fe,Qe){se.push([oe,ve,Fe,Qe])>1||D(oe,ve)})})}function D(oe,ve){try{(Fe=K[oe](ve)).value instanceof fe?Promise.resolve(Fe.value.v).then(E,P):U(se[0][2],Fe)}catch(Qe){U(se[0][3],Qe)}var Fe}function E(oe){D("next",oe)}function P(oe){D("throw",oe)}function U(oe,ve){oe(ve),se.shift(),se.length&&D(se[0][0],se[0][1])}},pe=new DataView(new ArrayBuffer(0)),be=new Uint8Array(pe.buffer),ie=function(){try{pe.getInt8(0)}catch(H){return H.constructor}throw new Error("never reached")}(),Te=new ie("Insufficient data"),Le=new Ee,Ze=function(){function H(N,W,J,K,se,xe,D,E){N===void 0&&(N=Q.defaultCodec),W===void 0&&(W=void 0),J===void 0&&(J=4294967295),K===void 0&&(K=4294967295),se===void 0&&(se=4294967295),xe===void 0&&(xe=4294967295),D===void 0&&(D=4294967295),E===void 0&&(E=Le),this.extensionCodec=N,this.context=W,this.maxStrLength=J,this.maxBinLength=K,this.maxArrayLength=se,this.maxMapLength=xe,this.maxExtLength=D,this.keyDecoder=E,this.totalPos=0,this.pos=0,this.view=pe,this.bytes=be,this.headByte=-1,this.stack=[]}return H.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=-1},H.prototype.setBuffer=function(N){this.bytes=$(N),this.view=function(W){if(W instanceof ArrayBuffer)return new DataView(W);var J=$(W);return new DataView(J.buffer,J.byteOffset,J.byteLength)}(this.bytes),this.pos=0},H.prototype.appendBuffer=function(N){if(this.headByte!==-1||this.hasRemaining()){var W=this.bytes.subarray(this.pos),J=$(N),K=new Uint8Array(W.length+J.length);K.set(W),K.set(J,W.length),this.setBuffer(K)}else this.setBuffer(N)},H.prototype.hasRemaining=function(N){return N===void 0&&(N=1),this.view.byteLength-this.pos>=N},H.prototype.createNoExtraBytesError=function(N){var W=this.view,J=this.pos;return new RangeError("Extra "+(W.byteLength-J)+" of "+W.byteLength+" byte(s) found at buffer["+N+"]")},H.prototype.decode=function(N){return this.reinitializeState(),this.setBuffer(N),this.doDecodeSingleSync()},H.prototype.doDecodeSingleSync=function(){var N=this.doDecodeSync();if(this.hasRemaining())throw this.createNoExtraBytesError(this.pos);return N},H.prototype.decodeAsync=function(N){var W,J,K,se;return Ne(this,void 0,void 0,function(){var xe,D,E,P,U,oe,ve,Fe;return me(this,function(Qe){switch(Qe.label){case 0:xe=!1,Qe.label=1;case 1:Qe.trys.push([1,6,7,12]),W=ge(N),Qe.label=2;case 2:return[4,W.next()];case 3:if((J=Qe.sent()).done)return[3,5];if(E=J.value,xe)throw this.createNoExtraBytesError(this.totalPos);this.appendBuffer(E);try{D=this.doDecodeSync(),xe=!0}catch(ct){if(!(ct instanceof ie))throw ct}this.totalPos+=this.pos,Qe.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return P=Qe.sent(),K={error:P},[3,12];case 7:return Qe.trys.push([7,,10,11]),J&&!J.done&&(se=W.return)?[4,se.call(W)]:[3,9];case 8:Qe.sent(),Qe.label=9;case 9:return[3,11];case 10:if(K)throw K.error;return[7];case 11:return[7];case 12:if(xe){if(this.hasRemaining())throw this.createNoExtraBytesError(this.totalPos);return[2,D]}throw oe=(U=this).headByte,ve=U.pos,Fe=U.totalPos,new RangeError("Insufficient data in parcing "+he(oe)+" at "+Fe+" ("+ve+" in the current buffer)")}})})},H.prototype.decodeArrayStream=function(N){return this.decodeMultiAsync(N,!0)},H.prototype.decodeStream=function(N){return this.decodeMultiAsync(N,!1)},H.prototype.decodeMultiAsync=function(N,W){return le(this,arguments,function(){var J,K,se,xe,D,E,P,U,oe;return me(this,function(ve){switch(ve.label){case 0:J=W,K=-1,ve.label=1;case 1:ve.trys.push([1,13,14,19]),se=ge(N),ve.label=2;case 2:return[4,fe(se.next())];case 3:if((xe=ve.sent()).done)return[3,12];if(D=xe.value,W&&K===0)throw this.createNoExtraBytesError(this.totalPos);this.appendBuffer(D),J&&(K=this.readArraySize(),J=!1,this.complete()),ve.label=4;case 4:ve.trys.push([4,9,,10]),ve.label=5;case 5:return[4,fe(this.doDecodeSync())];case 6:return[4,ve.sent()];case 7:return ve.sent(),--K==0?[3,8]:[3,5];case 8:return[3,10];case 9:if(!((E=ve.sent())instanceof ie))throw E;return[3,10];case 10:this.totalPos+=this.pos,ve.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return P=ve.sent(),U={error:P},[3,19];case 14:return ve.trys.push([14,,17,18]),xe&&!xe.done&&(oe=se.return)?[4,fe(oe.call(se))]:[3,16];case 15:ve.sent(),ve.label=16;case 16:return[3,18];case 17:if(U)throw U.error;return[7];case 18:return[7];case 19:return[2]}})})},H.prototype.doDecodeSync=function(){e:for(;;){var N=this.readHeadByte(),W=void 0;if(N>=224)W=N-256;else if(N<192)if(N<128)W=N;else if(N<144){if((K=N-128)!==0){this.pushMapState(K),this.complete();continue e}W={}}else if(N<160){if((K=N-144)!==0){this.pushArrayState(K),this.complete();continue e}W=[]}else{var J=N-160;W=this.decodeUtf8String(J,0)}else if(N===192)W=null;else if(N===194)W=!1;else if(N===195)W=!0;else if(N===202)W=this.readF32();else if(N===203)W=this.readF64();else if(N===204)W=this.readU8();else if(N===205)W=this.readU16();else if(N===206)W=this.readU32();else if(N===207)W=this.readU64();else if(N===208)W=this.readI8();else if(N===209)W=this.readI16();else if(N===210)W=this.readI32();else if(N===211)W=this.readI64();else if(N===217)J=this.lookU8(),W=this.decodeUtf8String(J,1);else if(N===218)J=this.lookU16(),W=this.decodeUtf8String(J,2);else if(N===219)J=this.lookU32(),W=this.decodeUtf8String(J,4);else if(N===220){if((K=this.readU16())!==0){this.pushArrayState(K),this.complete();continue e}W=[]}else if(N===221){if((K=this.readU32())!==0){this.pushArrayState(K),this.complete();continue e}W=[]}else if(N===222){if((K=this.readU16())!==0){this.pushMapState(K),this.complete();continue e}W={}}else if(N===223){if((K=this.readU32())!==0){this.pushMapState(K),this.complete();continue e}W={}}else if(N===196){var K=this.lookU8();W=this.decodeBinary(K,1)}else if(N===197)K=this.lookU16(),W=this.decodeBinary(K,2);else if(N===198)K=this.lookU32(),W=this.decodeBinary(K,4);else if(N===212)W=this.decodeExtension(1,0);else if(N===213)W=this.decodeExtension(2,0);else if(N===214)W=this.decodeExtension(4,0);else if(N===215)W=this.decodeExtension(8,0);else if(N===216)W=this.decodeExtension(16,0);else if(N===199)K=this.lookU8(),W=this.decodeExtension(K,1);else if(N===200)K=this.lookU16(),W=this.decodeExtension(K,2);else{if(N!==201)throw new Error("Unrecognized type byte: "+he(N));K=this.lookU32(),W=this.decodeExtension(K,4)}this.complete();for(var se=this.stack;se.length>0;){var xe=se[se.length-1];if(xe.type===0){if(xe.array[xe.position]=W,xe.position++,xe.position!==xe.size)continue e;se.pop(),W=xe.array}else{if(xe.type===1){if(D=void 0,(D=typeof W)!="string"&&D!=="number")throw new Error("The type of key must be string or number but "+typeof W);xe.key=W,xe.type=2;continue e}if(xe.map[xe.key]=W,xe.readCount++,xe.readCount!==xe.size){xe.key=null,xe.type=1;continue e}se.pop(),W=xe.map}}return W}var D},H.prototype.readHeadByte=function(){return this.headByte===-1&&(this.headByte=this.readU8()),this.headByte},H.prototype.complete=function(){this.headByte=-1},H.prototype.readArraySize=function(){var N=this.readHeadByte();switch(N){case 220:return this.readU16();case 221:return this.readU32();default:if(N<160)return N-144;throw new Error("Unrecognized array type byte: "+he(N))}},H.prototype.pushMapState=function(N){if(N>this.maxMapLength)throw new Error("Max length exceeded: map length ("+N+") > maxMapLengthLength ("+this.maxMapLength+")");this.stack.push({type:1,size:N,key:null,readCount:0,map:{}})},H.prototype.pushArrayState=function(N){if(N>this.maxArrayLength)throw new Error("Max length exceeded: array length ("+N+") > maxArrayLength ("+this.maxArrayLength+")");this.stack.push({type:0,size:N,array:new Array(N),position:0})},H.prototype.decodeUtf8String=function(N,W){var J;if(N>this.maxStrLength)throw new Error("Max length exceeded: UTF-8 byte length ("+N+") > maxStrLength ("+this.maxStrLength+")");if(this.bytes.byteLength<this.pos+W+N)throw Te;var K,se=this.pos+W;return K=this.stateIsMapKey()&&(!((J=this.keyDecoder)===null||J===void 0)&&J.canBeCached(N))?this.keyDecoder.decode(this.bytes,se,N):l&&N>_?function(xe,D,E){var P=xe.subarray(D,D+E);return y.decode(P)}(this.bytes,se,N):g(this.bytes,se,N),this.pos+=W+N,K},H.prototype.stateIsMapKey=function(){return this.stack.length>0&&this.stack[this.stack.length-1].type===1},H.prototype.decodeBinary=function(N,W){if(N>this.maxBinLength)throw new Error("Max length exceeded: bin length ("+N+") > maxBinLength ("+this.maxBinLength+")");if(!this.hasRemaining(N+W))throw Te;var J=this.pos+W,K=this.bytes.subarray(J,J+N);return this.pos+=W+N,K},H.prototype.decodeExtension=function(N,W){if(N>this.maxExtLength)throw new Error("Max length exceeded: ext length ("+N+") > maxExtLength ("+this.maxExtLength+")");var J=this.view.getInt8(this.pos+W),K=this.decodeBinary(N,W+1);return this.extensionCodec.decode(K,J,this.context)},H.prototype.lookU8=function(){return this.view.getUint8(this.pos)},H.prototype.lookU16=function(){return this.view.getUint16(this.pos)},H.prototype.lookU32=function(){return this.view.getUint32(this.pos)},H.prototype.readU8=function(){var N=this.view.getUint8(this.pos);return this.pos++,N},H.prototype.readI8=function(){var N=this.view.getInt8(this.pos);return this.pos++,N},H.prototype.readU16=function(){var N=this.view.getUint16(this.pos);return this.pos+=2,N},H.prototype.readI16=function(){var N=this.view.getInt16(this.pos);return this.pos+=2,N},H.prototype.readU32=function(){var N=this.view.getUint32(this.pos);return this.pos+=4,N},H.prototype.readI32=function(){var N=this.view.getInt32(this.pos);return this.pos+=4,N},H.prototype.readU64=function(){var N,W,J,K,se=(N=this.view,W=this.pos,J=N.getUint32(W),K=N.getUint32(W+4),J>Math.floor(Number.MAX_SAFE_INTEGER/4294967296)?BigInt(J)*BigInt(4294967296)+BigInt(K):4294967296*J+K);return this.pos+=8,se},H.prototype.readI64=function(){var N=k(this.view,this.pos);return this.pos+=8,N},H.prototype.readF32=function(){var N=this.view.getFloat32(this.pos);return this.pos+=4,N},H.prototype.readF64=function(){var N=this.view.getFloat64(this.pos);return this.pos+=8,N},H}(),Be={};function We(H,N){return N===void 0&&(N=Be),new Ze(N.extensionCodec,N.context,N.maxStrLength,N.maxBinLength,N.maxArrayLength,N.maxMapLength,N.maxExtLength).decode(H)}var V=function(H,N){var W,J,K,se,xe={label:0,sent:function(){if(1&K[0])throw K[1];return K[1]},trys:[],ops:[]};return se={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(se[Symbol.iterator]=function(){return this}),se;function D(E){return function(P){return function(U){if(W)throw new TypeError("Generator is already executing.");for(;xe;)try{if(W=1,J&&(K=2&U[0]?J.return:U[0]?J.throw||((K=J.return)&&K.call(J),0):J.next)&&!(K=K.call(J,U[1])).done)return K;switch(J=0,K&&(U=[2&U[0],K.value]),U[0]){case 0:case 1:K=U;break;case 4:return xe.label++,{value:U[1],done:!1};case 5:xe.label++,J=U[1],U=[0];continue;case 7:U=xe.ops.pop(),xe.trys.pop();continue;default:if(K=xe.trys,!((K=K.length>0&&K[K.length-1])||U[0]!==6&&U[0]!==2)){xe=0;continue}if(U[0]===3&&(!K||U[1]>K[0]&&U[1]<K[3])){xe.label=U[1];break}if(U[0]===6&&xe.label<K[1]){xe.label=K[1],K=U;break}if(K&&xe.label<K[2]){xe.label=K[2],xe.ops.push(U);break}K[2]&&xe.ops.pop(),xe.trys.pop();continue}U=N.call(H,xe)}catch(oe){U=[6,oe],J=0}finally{W=K=0}if(5&U[0])throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}([E,P])}}},ee=function(H){return this instanceof ee?(this.v=H,this):new ee(H)},ce=function(H,N,W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,K=W.apply(H,N||[]),se=[];return J={},xe("next"),xe("throw"),xe("return"),J[Symbol.asyncIterator]=function(){return this},J;function xe(oe){K[oe]&&(J[oe]=function(ve){return new Promise(function(Fe,Qe){se.push([oe,ve,Fe,Qe])>1||D(oe,ve)})})}function D(oe,ve){try{(Fe=K[oe](ve)).value instanceof ee?Promise.resolve(Fe.value.v).then(E,P):U(se[0][2],Fe)}catch(Qe){U(se[0][3],Qe)}var Fe}function E(oe){D("next",oe)}function P(oe){D("throw",oe)}function U(oe,ve){oe(ve),se.shift(),se.length&&D(se[0][0],se[0][1])}};function Ce(H){if(H==null)throw new Error("Assertion Failure: value must not be null nor undefined")}function _e(H){return H[Symbol.asyncIterator]!=null?H:function(N){return ce(this,arguments,function(){var W,J,K,se;return V(this,function(xe){switch(xe.label){case 0:W=N.getReader(),xe.label=1;case 1:xe.trys.push([1,,9,10]),xe.label=2;case 2:return[4,ee(W.read())];case 3:return J=xe.sent(),K=J.done,se=J.value,K?[4,ee(void 0)]:[3,5];case 4:return[2,xe.sent()];case 5:return Ce(se),[4,ee(se)];case 6:return[4,xe.sent()];case 7:return xe.sent(),[3,2];case 8:return[3,10];case 9:return W.releaseLock(),[7];case 10:return[2]}})})}(H)}var je=function(H,N,W,J){return new(W||(W=Promise))(function(K,se){function xe(P){try{E(J.next(P))}catch(U){se(U)}}function D(P){try{E(J.throw(P))}catch(U){se(U)}}function E(P){var U;P.done?K(P.value):(U=P.value,U instanceof W?U:new W(function(oe){oe(U)})).then(xe,D)}E((J=J.apply(H,[])).next())})},Me=function(H,N){var W,J,K,se,xe={label:0,sent:function(){if(1&K[0])throw K[1];return K[1]},trys:[],ops:[]};return se={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(se[Symbol.iterator]=function(){return this}),se;function D(E){return function(P){return function(U){if(W)throw new TypeError("Generator is already executing.");for(;xe;)try{if(W=1,J&&(K=2&U[0]?J.return:U[0]?J.throw||((K=J.return)&&K.call(J),0):J.next)&&!(K=K.call(J,U[1])).done)return K;switch(J=0,K&&(U=[2&U[0],K.value]),U[0]){case 0:case 1:K=U;break;case 4:return xe.label++,{value:U[1],done:!1};case 5:xe.label++,J=U[1],U=[0];continue;case 7:U=xe.ops.pop(),xe.trys.pop();continue;default:if(K=xe.trys,!((K=K.length>0&&K[K.length-1])||U[0]!==6&&U[0]!==2)){xe=0;continue}if(U[0]===3&&(!K||U[1]>K[0]&&U[1]<K[3])){xe.label=U[1];break}if(U[0]===6&&xe.label<K[1]){xe.label=K[1],K=U;break}if(K&&xe.label<K[2]){xe.label=K[2],xe.ops.push(U);break}K[2]&&xe.ops.pop(),xe.trys.pop();continue}U=N.call(H,xe)}catch(oe){U=[6,oe],J=0}finally{W=K=0}if(5&U[0])throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}([E,P])}}};function we(H,N){return N===void 0&&(N=Be),je(this,void 0,void 0,function(){var W;return Me(this,function(J){return W=_e(H),[2,new Ze(N.extensionCodec,N.context,N.maxStrLength,N.maxBinLength,N.maxArrayLength,N.maxMapLength,N.maxExtLength).decodeAsync(W)]})})}function ke(H,N){N===void 0&&(N=Be);var W=_e(H);return new Ze(N.extensionCodec,N.context,N.maxStrLength,N.maxBinLength,N.maxArrayLength,N.maxMapLength,N.maxExtLength).decodeArrayStream(W)}function Re(H,N){N===void 0&&(N=Be);var W=_e(H);return new Ze(N.extensionCodec,N.context,N.maxStrLength,N.maxBinLength,N.maxArrayLength,N.maxMapLength,N.maxExtLength).decodeStream(W)}}])})})(m4);var g4=m4.exports;const aD="The object contains empty or 0 values. First empty or 0 value encountered during encoding: ";function lD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&(!t[e]||t[e].length===0))return{containsEmpty:!0,firstEmptyKey:e};return{containsEmpty:!1,firstEmptyKey:void 0}}function x4(t){const e={sortKeys:!0};return g4.encode(t,e)}function Pr(t){const e=lD(t);if(e.containsEmpty)throw new Error(aD+e.firstEmptyKey);return x4(t)}function pr(t){return g4.decode(t)}function cD(t,e,n){const r=t.appIndex,i=t.name,s=r===0||r===n;let o=0;if(e!=null&&(o=e.indexOf(r)+1),o===0&&!s)throw new Error(`Box ref with appId ${r} not in foreign-apps`);return{i:o,n:i}}function uD(t,e,n){return t==null?[]:t.map(r=>cD(r,e,n))}var xn;(function(t){t.pay="pay",t.keyreg="keyreg",t.acfg="acfg",t.axfer="axfer",t.afrz="afrz",t.appl="appl",t.stpf="stpf",t.hb="hb"})(xn||(xn={}));function dD(t){return t===xn.pay||t===xn.keyreg||t===xn.acfg||t===xn.axfer||t===xn.afrz||t===xn.appl||t===xn.stpf||t===xn.hb}var Yi;(function(t){t[t.NoOpOC=0]="NoOpOC",t[t.OptInOC=1]="OptInOC",t[t.CloseOutOC=2]="CloseOutOC",t[t.ClearStateOC=3]="ClearStateOC",t[t.UpdateApplicationOC=4]="UpdateApplicationOC",t[t.DeleteApplicationOC=5]="DeleteApplicationOC"})(Yi||(Yi={}));const hD=52,wv=1e3,su=32,gS=19,fD=75,pD=5,mD=32,gD=5,xS=32,xD=32,yD=32,vD=64;class yS{constructor(e,n,r,i,s){this.s=e,this.p=n,this.p2=r,this.p1s=i,this.p2s=s}static from_obj_for_encoding(e){const n=Object.create(this.prototype);return n.s=e.s,n.p=e.p,n.p2=e.p2,n.p1s=e.p1s,n.p2s=e.p2s,n}get_obj_for_encoding(){return{s:this.s,p:this.p,p2:this.p2,p1s:this.p1s,p2s:this.p2s}}}class vS{constructor(e,n,r,i,s){this.a=e,this.prf=yS.from_obj_for_encoding(n),this.sd=r,this.vid=i,this.kd=s}static from_obj_for_encoding(e){const n=Object.create(this.prototype);return n.a=Wt(Nt(e.a)),n.prf=yS.from_obj_for_encoding(e.prf),n.sd=Se.Buffer.from(e.sd),n.vid=Se.Buffer.from(e.vid),n.kd=e.kd,n}get_obj_for_encoding(){return{a:Se.Buffer.from(this.a.publicKey),prf:this.prf.get_obj_for_encoding(),sd:this.sd,vid:this.vid,kd:this.kd}}}function Xg(t,e,n){if(t==null)return;let r;if(typeof t=="string"?r=Se.Buffer.from(t,"base64"):t.constructor===Uint8Array?r=Se.Buffer.from(t):Se.Buffer.isBuffer(t)&&(r=t),r==null||r.byteLength!==n)throw Error(`${e} must be a ${n} byte Uint8Array or Buffer or base64 string.`);return r}let $n=class{constructor({...e}){this.name="Transaction",this.tag=Se.Buffer.from("TX");const n={type:xn.pay,flatFee:!1,nonParticipation:!1};if(typeof e.type>"u"&&(e.type=n.type),typeof e.flatFee>"u"&&(e.flatFee=n.flatFee),e.type===xn.keyreg&&typeof e.voteKey<"u"&&typeof e.nonParticipation>"u"&&(e.nonParticipation=n.nonParticipation),e.suggestedParams!==void 0){const i=e;i.genesisHash=i.suggestedParams.genesisHash,i.fee=i.suggestedParams.fee,i.suggestedParams.flatFee!==void 0&&(i.flatFee=i.suggestedParams.flatFee),i.firstRound=i.suggestedParams.firstRound,i.lastRound=i.suggestedParams.lastRound,i.genesisID=i.suggestedParams.genesisID}const r=e;if(r.from=Wt(r.from),r.to!==void 0&&(r.to=Wt(r.to)),r.closeRemainderTo!==void 0&&(r.closeRemainderTo=Wt(r.closeRemainderTo)),r.assetManager!==void 0&&(r.assetManager=Wt(r.assetManager)),r.assetReserve!==void 0&&(r.assetReserve=Wt(r.assetReserve)),r.assetFreeze!==void 0&&(r.assetFreeze=Wt(r.assetFreeze)),r.assetClawback!==void 0&&(r.assetClawback=Wt(r.assetClawback)),r.assetRevocationTarget!==void 0&&(r.assetRevocationTarget=Wt(r.assetRevocationTarget)),r.freezeAccount!==void 0&&(r.freezeAccount=Wt(r.freezeAccount)),r.reKeyTo!==void 0&&(r.reKeyTo=Wt(r.reKeyTo)),r.genesisHash===void 0)throw Error("genesis hash must be specified and in a base64 string.");if(r.genesisHash=Se.Buffer.from(r.genesisHash,"base64"),r.amount!==void 0&&(!(Number.isSafeInteger(r.amount)||typeof r.amount=="bigint"&&r.amount<=BigInt("0xffffffffffffffff"))||r.amount<0))throw Error("Amount must be a positive number and smaller than 2^64-1. If the number is larger than 2^53-1, use bigint.");if(!Number.isSafeInteger(r.fee)||r.fee<0)throw Error("fee must be a positive number and smaller than 2^53-1");if(!Number.isSafeInteger(r.firstRound)||r.firstRound<0)throw Error("firstRound must be a positive number");if(!Number.isSafeInteger(r.lastRound)||r.lastRound<0)throw Error("lastRound must be a positive number");if(r.extraPages!==void 0&&(!Number.isInteger(r.extraPages)||r.extraPages<0||r.extraPages>3))throw Error("extraPages must be an Integer between and including 0 to 3");if(r.assetTotal!==void 0&&(!(Number.isSafeInteger(r.assetTotal)||typeof r.assetTotal=="bigint"&&r.assetTotal<=BigInt("0xffffffffffffffff"))||r.assetTotal<0))throw Error("Total asset issuance must be a positive number and smaller than 2^64-1. If the number is larger than 2^53-1, use bigint.");if(r.assetDecimals!==void 0&&(!Number.isSafeInteger(r.assetDecimals)||r.assetDecimals<0||r.assetDecimals>gS))throw Error(`assetDecimals must be a positive number and smaller than ${gS.toString()}`);if(r.assetIndex!==void 0&&(!Number.isSafeInteger(r.assetIndex)||r.assetIndex<0))throw Error("Asset index must be a positive number and smaller than 2^53-1");if(r.appIndex!==void 0&&(!Number.isSafeInteger(r.appIndex)||r.appIndex<0))throw Error("Application index must be a positive number and smaller than 2^53-1");if(r.appLocalInts!==void 0&&(!Number.isSafeInteger(r.appLocalInts)||r.appLocalInts<0))throw Error("Application local ints count must be a positive number and smaller than 2^53-1");if(r.appLocalByteSlices!==void 0&&(!Number.isSafeInteger(r.appLocalByteSlices)||r.appLocalByteSlices<0))throw Error("Application local byte slices count must be a positive number and smaller than 2^53-1");if(r.appGlobalInts!==void 0&&(!Number.isSafeInteger(r.appGlobalInts)||r.appGlobalInts<0))throw Error("Application global ints count must be a positive number and smaller than 2^53-1");if(r.appGlobalByteSlices!==void 0&&(!Number.isSafeInteger(r.appGlobalByteSlices)||r.appGlobalByteSlices<0))throw Error("Application global byte slices count must be a positive number and smaller than 2^53-1");if(r.appApprovalProgram!==void 0&&r.appApprovalProgram.constructor!==Uint8Array)throw Error("appApprovalProgram must be a Uint8Array.");if(r.appClearProgram!==void 0&&r.appClearProgram.constructor!==Uint8Array)throw Error("appClearProgram must be a Uint8Array.");if(r.appArgs!==void 0){if(!Array.isArray(r.appArgs))throw Error("appArgs must be an Array of Uint8Array.");r.appArgs=r.appArgs.slice(),r.appArgs.forEach(i=>{if(i.constructor!==Uint8Array)throw Error("each element of AppArgs must be a Uint8Array.")})}else r.appArgs=[];if(r.appAccounts!==void 0){if(!Array.isArray(r.appAccounts))throw Error("appAccounts must be an Array of addresses.");r.appAccounts=r.appAccounts.map(i=>Wt(i))}if(r.appForeignApps!==void 0){if(!Array.isArray(r.appForeignApps))throw Error("appForeignApps must be an Array of integers.");r.appForeignApps=r.appForeignApps.slice(),r.appForeignApps.forEach(i=>{if(!Number.isSafeInteger(i)||i<0)throw Error("each foreign application index must be a positive number and smaller than 2^53-1")})}if(r.appForeignAssets!==void 0){if(!Array.isArray(r.appForeignAssets))throw Error("appForeignAssets must be an Array of integers.");r.appForeignAssets=r.appForeignAssets.slice(),r.appForeignAssets.forEach(i=>{if(!Number.isSafeInteger(i)||i<0)throw Error("each foreign asset index must be a positive number and smaller than 2^53-1")})}if(r.boxes!==void 0){if(!Array.isArray(r.boxes))throw Error("boxes must be an Array of BoxReference.");r.boxes=r.boxes.slice(),r.boxes.forEach(i=>{if(!Number.isSafeInteger(i.appIndex)||i.name.constructor!==Uint8Array)throw Error("box app index must be a number and name must be an Uint8Array.")})}if(r.assetMetadataHash!==void 0&&r.assetMetadataHash.length!==0){if(typeof r.assetMetadataHash=="string"&&(r.assetMetadataHash=new Uint8Array(Se.Buffer.from(r.assetMetadataHash))),r.assetMetadataHash.constructor!==Uint8Array||r.assetMetadataHash.byteLength!==xS)throw Error(`assetMetadataHash must be a ${xS} byte Uint8Array or string.`);r.assetMetadataHash.every(i=>i===0)&&(r.assetMetadataHash=void 0)}else r.assetMetadataHash=void 0;if(r.note!==void 0){if(r.note.constructor!==Uint8Array)throw Error("note must be a Uint8Array.")}else r.note=new Uint8Array(0);if(r.lease!==void 0){if(r.lease.constructor!==Uint8Array)throw Error("lease must be a Uint8Array.");if(r.lease.length!==su)throw Error(`lease must be of length ${su.toString()}.`);r.lease.every(i=>i===0)&&(r.lease=new Uint8Array(0))}else r.lease=new Uint8Array(0);if(r.voteKey=Xg(r.voteKey,"voteKey",xD),r.selectionKey=Xg(r.selectionKey,"selectionKey",yD),r.stateProofKey=Xg(r.stateProofKey,"stateProofKey",vD),r.nonParticipation&&(r.voteKey||r.selectionKey||r.voteFirst||r.stateProofKey||r.voteLast||r.voteKeyDilution))throw new Error("nonParticipation is true but participation params are present.");if(!r.nonParticipation&&(r.voteKey||r.selectionKey||r.stateProofKey||r.voteFirst||r.voteLast||r.voteKeyDilution)&&!(r.voteKey&&r.selectionKey&&r.voteFirst&&r.voteLast&&r.voteKeyDilution))throw new Error("online key registration missing at least one of the following fields: voteKey, selectionKey, voteFirst, voteLast, voteKeyDilution");if(delete r.suggestedParams,Object.assign(this,GB(r)),r.flatFee||(this.fee*=this.estimateSize(),this.fee<wv&&(this.fee=wv)),this.group=void 0,r.stateProofType!==void 0&&(!Number.isSafeInteger(r.stateProofType)||r.stateProofType<0))throw Error("State Proof type must be a positive number and smaller than 2^53-1");if(r.stateProofMessage!==void 0){if(r.stateProofMessage.constructor!==Uint8Array)throw Error("stateProofMessage must be a Uint8Array.")}else r.stateProofMessage=new Uint8Array(0);if(r.stateProof!==void 0){if(r.stateProof.constructor!==Uint8Array)throw Error("stateProof must be a Uint8Array.")}else r.stateProof=new Uint8Array(0);if(r.heartbeatFields!==void 0&&r.heartbeatFields.constructor!==vS)throw Error("heartbeatFields must be a HeartbeatFields.")}get_obj_for_encoding(){if(this.type==="pay"){const e={amt:this.amount,fee:this.fee,fv:this.firstRound,lv:this.lastRound,note:Se.Buffer.from(this.note),snd:Se.Buffer.from(this.from.publicKey),type:"pay",gen:this.genesisID,gh:this.genesisHash,lx:Se.Buffer.from(this.lease),grp:this.group};return this.closeRemainderTo!==void 0&&Nt(this.closeRemainderTo.publicKey)!==eD&&(e.close=Se.Buffer.from(this.closeRemainderTo.publicKey)),this.reKeyTo!==void 0&&(e.rekey=Se.Buffer.from(this.reKeyTo.publicKey)),this.to!==void 0&&(e.rcv=Se.Buffer.from(this.to.publicKey)),e.note.length||delete e.note,e.amt||delete e.amt,e.fee||delete e.fee,e.fv||delete e.fv,e.gen||delete e.gen,e.grp===void 0&&delete e.grp,e.lx.length||delete e.lx,e.rekey||delete e.rekey,e}if(this.type==="keyreg"){const e={fee:this.fee,fv:this.firstRound,lv:this.lastRound,note:Se.Buffer.from(this.note),snd:Se.Buffer.from(this.from.publicKey),type:this.type,gen:this.genesisID,gh:this.genesisHash,lx:Se.Buffer.from(this.lease),grp:this.group,votekey:this.voteKey,selkey:this.selectionKey,sprfkey:this.stateProofKey,votefst:this.voteFirst,votelst:this.voteLast,votekd:this.voteKeyDilution};return e.note.length||delete e.note,e.lx.length||delete e.lx,e.fee||delete e.fee,e.fv||delete e.fv,e.gen||delete e.gen,e.grp===void 0&&delete e.grp,this.reKeyTo!==void 0&&(e.rekey=Se.Buffer.from(this.reKeyTo.publicKey)),this.nonParticipation&&(e.nonpart=!0),e.selkey||delete e.selkey,e.votekey||delete e.votekey,e.sprfkey||delete e.sprfkey,e.votefst||delete e.votefst,e.votelst||delete e.votelst,e.votekd||delete e.votekd,e}if(this.type==="acfg"){const e={fee:this.fee,fv:this.firstRound,lv:this.lastRound,note:Se.Buffer.from(this.note),snd:Se.Buffer.from(this.from.publicKey),type:this.type,gen:this.genesisID,gh:this.genesisHash,lx:Se.Buffer.from(this.lease),grp:this.group,caid:this.assetIndex,apar:{t:this.assetTotal,df:this.assetDefaultFrozen,dc:this.assetDecimals}};return this.assetManager!==void 0&&(e.apar.m=Se.Buffer.from(this.assetManager.publicKey)),this.assetReserve!==void 0&&(e.apar.r=Se.Buffer.from(this.assetReserve.publicKey)),this.assetFreeze!==void 0&&(e.apar.f=Se.Buffer.from(this.assetFreeze.publicKey)),this.assetClawback!==void 0&&(e.apar.c=Se.Buffer.from(this.assetClawback.publicKey)),this.assetName!==void 0&&(e.apar.an=this.assetName),this.assetUnitName!==void 0&&(e.apar.un=this.assetUnitName),this.assetURL!==void 0&&(e.apar.au=this.assetURL),this.assetMetadataHash!==void 0&&(e.apar.am=Se.Buffer.from(this.assetMetadataHash)),e.note.length||delete e.note,e.lx.length||delete e.lx,e.amt||delete e.amt,e.fee||delete e.fee,e.fv||delete e.fv,e.gen||delete e.gen,this.reKeyTo!==void 0&&(e.rekey=Se.Buffer.from(this.reKeyTo.publicKey)),e.caid||delete e.caid,!e.apar.t&&!e.apar.un&&!e.apar.an&&!e.apar.df&&!e.apar.m&&!e.apar.r&&!e.apar.f&&!e.apar.c&&!e.apar.au&&!e.apar.am&&!e.apar.dc?delete e.apar:(e.apar.t||delete e.apar.t,e.apar.dc||delete e.apar.dc,e.apar.un||delete e.apar.un,e.apar.an||delete e.apar.an,e.apar.df||delete e.apar.df,e.apar.m||delete e.apar.m,e.apar.r||delete e.apar.r,e.apar.f||delete e.apar.f,e.apar.c||delete e.apar.c,e.apar.au||delete e.apar.au,e.apar.am||delete e.apar.am),e.grp===void 0&&delete e.grp,e}if(this.type==="axfer"){const e={aamt:this.amount,fee:this.fee,fv:this.firstRound,lv:this.lastRound,note:Se.Buffer.from(this.note),snd:Se.Buffer.from(this.from.publicKey),arcv:Se.Buffer.from(this.to.publicKey),type:this.type,gen:this.genesisID,gh:this.genesisHash,lx:Se.Buffer.from(this.lease),grp:this.group,xaid:this.assetIndex};return this.closeRemainderTo!==void 0&&(e.aclose=Se.Buffer.from(this.closeRemainderTo.publicKey)),this.assetRevocationTarget!==void 0&&(e.asnd=Se.Buffer.from(this.assetRevocationTarget.publicKey)),e.note.length||delete e.note,e.lx.length||delete e.lx,e.aamt||delete e.aamt,e.amt||delete e.amt,e.fee||delete e.fee,e.fv||delete e.fv,e.gen||delete e.gen,e.grp===void 0&&delete e.grp,e.aclose||delete e.aclose,e.asnd||delete e.asnd,e.rekey||delete e.rekey,this.reKeyTo!==void 0&&(e.rekey=Se.Buffer.from(this.reKeyTo.publicKey)),e}if(this.type==="afrz"){const e={fee:this.fee,fv:this.firstRound,lv:this.lastRound,note:Se.Buffer.from(this.note),snd:Se.Buffer.from(this.from.publicKey),type:this.type,gen:this.genesisID,gh:this.genesisHash,lx:Se.Buffer.from(this.lease),grp:this.group,faid:this.assetIndex,afrz:this.freezeState};return this.freezeAccount!==void 0&&(e.fadd=Se.Buffer.from(this.freezeAccount.publicKey)),e.note.length||delete e.note,e.lx.length||delete e.lx,e.amt||delete e.amt,e.fee||delete e.fee,e.fv||delete e.fv,e.gen||delete e.gen,e.afrz||delete e.afrz,e.grp===void 0&&delete e.grp,this.reKeyTo!==void 0&&(e.rekey=Se.Buffer.from(this.reKeyTo.publicKey)),e}if(this.type==="appl"){const e={fee:this.fee,fv:this.firstRound,lv:this.lastRound,note:Se.Buffer.from(this.note),snd:Se.Buffer.from(this.from.publicKey),type:this.type,gen:this.genesisID,gh:this.genesisHash,lx:Se.Buffer.from(this.lease),grp:this.group,apid:this.appIndex,apan:this.appOnComplete,apls:{nui:this.appLocalInts,nbs:this.appLocalByteSlices},apgs:{nui:this.appGlobalInts,nbs:this.appGlobalByteSlices},apfa:this.appForeignApps,apas:this.appForeignAssets,apep:this.extraPages,apbx:uD(this.boxes,this.appForeignApps,this.appIndex)};this.reKeyTo!==void 0&&(e.rekey=Se.Buffer.from(this.reKeyTo.publicKey)),this.appApprovalProgram!==void 0&&(e.apap=Se.Buffer.from(this.appApprovalProgram)),this.appClearProgram!==void 0&&(e.apsu=Se.Buffer.from(this.appClearProgram)),this.appArgs!==void 0&&(e.apaa=this.appArgs.map(n=>Se.Buffer.from(n))),this.appAccounts!==void 0&&(e.apat=this.appAccounts.map(n=>Se.Buffer.from(n.publicKey))),e.note.length||delete e.note,e.lx.length||delete e.lx,e.amt||delete e.amt,e.fee||delete e.fee,e.fv||delete e.fv,e.gen||delete e.gen,e.apid||delete e.apid,e.apls.nui||delete e.apls.nui,e.apls.nbs||delete e.apls.nbs,!e.apls.nui&&!e.apls.nbs&&delete e.apls,e.apgs.nui||delete e.apgs.nui,e.apgs.nbs||delete e.apgs.nbs,(!e.apaa||!e.apaa.length)&&delete e.apaa,!e.apgs.nui&&!e.apgs.nbs&&delete e.apgs,e.apap||delete e.apap,e.apsu||delete e.apsu,e.apan||delete e.apan,(!e.apfa||!e.apfa.length)&&delete e.apfa,(!e.apas||!e.apas.length)&&delete e.apas;for(const n of e.apbx)n.i||delete n.i,(!n.n||!n.n.length)&&delete n.n;return(!e.apbx||!e.apbx.length)&&delete e.apbx,(!e.apat||!e.apat.length)&&delete e.apat,e.apep||delete e.apep,e.grp===void 0&&delete e.grp,e}if(this.type==="stpf"){const e={fee:this.fee,fv:this.firstRound,lv:this.lastRound,note:Se.Buffer.from(this.note),snd:Se.Buffer.from(this.from.publicKey),type:this.type,gen:this.genesisID,gh:this.genesisHash,lx:Se.Buffer.from(this.lease),sptype:this.stateProofType,spmsg:Se.Buffer.from(this.stateProofMessage),sp:Se.Buffer.from(this.stateProof)};return e.sptype||delete e.sptype,e.note.length||delete e.note,e.lx.length||delete e.lx,e.amt||delete e.amt,e.fee||delete e.fee,e.fv||delete e.fv,e.gen||delete e.gen,e.apid||delete e.apid,(!e.apaa||!e.apaa.length)&&delete e.apaa,e.apap||delete e.apap,e.apsu||delete e.apsu,e.apan||delete e.apan,(!e.apfa||!e.apfa.length)&&delete e.apfa,(!e.apas||!e.apas.length)&&delete e.apas,(!e.apat||!e.apat.length)&&delete e.apat,e.apep||delete e.apep,e.grp===void 0&&delete e.grp,e}if(this.type==="hb"){const e={fee:this.fee,fv:this.firstRound,lv:this.lastRound,note:Se.Buffer.from(this.note),snd:Se.Buffer.from(this.from.publicKey),type:this.type,gen:this.genesisID,gh:this.genesisHash,lx:Se.Buffer.from(this.lease),hb:this.heartbeatFields.get_obj_for_encoding()};return e.note.length||delete e.note,e.lx.length||delete e.lx,e.fee||delete e.fee,e.gen||delete e.gen,e.grp===void 0&&delete e.grp,e}}static from_obj_for_encoding(e){const n=Object.create(this.prototype);if(n.name="Transaction",n.tag=Se.Buffer.from("TX"),n.genesisID=e.gen,n.genesisHash=Se.Buffer.from(e.gh),!dD(e.type))throw new Error(`Unrecognized transaction type: ${e.type}`);return n.type=e.type,n.fee=e.fee,n.firstRound=e.fv,n.lastRound=e.lv,n.note=new Uint8Array(e.note),n.lease=new Uint8Array(e.lx),n.from=Wt(Nt(new Uint8Array(e.snd))),e.grp!==void 0&&(n.group=Se.Buffer.from(e.grp)),e.rekey!==void 0&&(n.reKeyTo=Wt(Nt(new Uint8Array(e.rekey)))),e.type==="pay"?(n.amount=e.amt,n.to=Wt(Nt(new Uint8Array(e.rcv))),e.close!==void 0&&(n.closeRemainderTo=Wt(Nt(e.close)))):e.type==="keyreg"?(e.votekey!==void 0&&(n.voteKey=Se.Buffer.from(e.votekey)),e.selkey!==void 0&&(n.selectionKey=Se.Buffer.from(e.selkey)),e.sprfkey!==void 0&&(n.stateProofKey=Se.Buffer.from(e.sprfkey)),e.votekd!==void 0&&(n.voteKeyDilution=e.votekd),e.votefst!==void 0&&(n.voteFirst=e.votefst),e.votelst!==void 0&&(n.voteLast=e.votelst),e.nonpart!==void 0&&(n.nonParticipation=e.nonpart)):e.type==="acfg"?(e.caid!==void 0&&(n.assetIndex=e.caid),e.apar!==void 0&&(n.assetTotal=e.apar.t,n.assetDefaultFrozen=e.apar.df,e.apar.dc!==void 0&&(n.assetDecimals=e.apar.dc),e.apar.m!==void 0&&(n.assetManager=Wt(Nt(new Uint8Array(e.apar.m)))),e.apar.r!==void 0&&(n.assetReserve=Wt(Nt(new Uint8Array(e.apar.r)))),e.apar.f!==void 0&&(n.assetFreeze=Wt(Nt(new Uint8Array(e.apar.f)))),e.apar.c!==void 0&&(n.assetClawback=Wt(Nt(new Uint8Array(e.apar.c)))),e.apar.un!==void 0&&(n.assetUnitName=e.apar.un),e.apar.an!==void 0&&(n.assetName=e.apar.an),e.apar.au!==void 0&&(n.assetURL=e.apar.au),e.apar.am!==void 0&&(n.assetMetadataHash=e.apar.am))):e.type==="axfer"?(e.xaid!==void 0&&(n.assetIndex=e.xaid),e.aamt!==void 0&&(n.amount=e.aamt),e.aclose!==void 0&&(n.closeRemainderTo=Wt(Nt(new Uint8Array(e.aclose)))),e.asnd!==void 0&&(n.assetRevocationTarget=Wt(Nt(new Uint8Array(e.asnd)))),n.to=Wt(Nt(new Uint8Array(e.arcv)))):e.type==="afrz"?(e.afrz!==void 0&&(n.freezeState=e.afrz),e.faid!==void 0&&(n.assetIndex=e.faid),n.freezeAccount=Wt(Nt(new Uint8Array(e.fadd)))):e.type==="appl"?(e.apid!==void 0&&(n.appIndex=e.apid),e.apan!==void 0&&(n.appOnComplete=e.apan),e.apls!==void 0&&(e.apls.nui!==void 0&&(n.appLocalInts=e.apls.nui),e.apls.nbs!==void 0&&(n.appLocalByteSlices=e.apls.nbs)),e.apgs!==void 0&&(e.apgs.nui!==void 0&&(n.appGlobalInts=e.apgs.nui),e.apgs.nbs!==void 0&&(n.appGlobalByteSlices=e.apgs.nbs)),e.apep!==void 0&&(n.extraPages=e.apep),e.apap!==void 0&&(n.appApprovalProgram=new Uint8Array(e.apap)),e.apsu!==void 0&&(n.appClearProgram=new Uint8Array(e.apsu)),e.apaa!==void 0&&(n.appArgs=e.apaa.map(r=>new Uint8Array(r))),e.apat!==void 0&&(n.appAccounts=e.apat.map(r=>Wt(Nt(new Uint8Array(r))))),e.apfa!==void 0&&(n.appForeignApps=e.apfa),e.apas!==void 0&&(n.appForeignAssets=e.apas),e.apbx!==void 0&&(n.boxes=e.apbx.map(r=>({appIndex:r.i?n.appForeignApps[r.i-1]:0,name:r.n})))):e.type==="stpf"?(e.sptype!==void 0&&(n.stateProofType=e.sptype),e.sp!==void 0&&(n.stateProof=e.sp),e.spmsg!==void 0&&(n.stateProofMessage=e.spmsg)):e.type==="hb"&&e.hb!==void 0&&(n.heartbeatFields=vS.from_obj_for_encoding(e.hb)),n}estimateSize(){return this.toByte().length+fD}bytesToSign(){const e=this.toByte();return Se.Buffer.from(ar(this.tag,e))}toByte(){return Pr(this.get_obj_for_encoding())}rawSignTxn(e){const n=this.bytesToSign(),r=Td(n,e);return Se.Buffer.from(r)}signTxn(e){const n={sig:this.rawSignTxn(e),txn:this.get_obj_for_encoding()},i=jd(e).publicKey;return Nt(i)!==Nt(this.from.publicKey)&&(n.sgnr=Se.Buffer.from(i)),new Uint8Array(Pr(n))}attachSignature(e,n){if(!l4(n.length))throw new Error("Invalid signature length");const r={sig:Se.Buffer.from(n),txn:this.get_obj_for_encoding()};if(e!==Nt(this.from.publicKey)){const i=Wt(e).publicKey;r.sgnr=Se.Buffer.from(i)}return new Uint8Array(Pr(r))}rawTxID(){const e=this.toByte(),n=Se.Buffer.from(ar(this.tag,e));return Se.Buffer.from(ms(n))}txID(){const e=this.rawTxID();return x1.encode(e).slice(0,hD)}addLease(e,n=0){let r;if(e!==void 0){if(e.constructor!==Uint8Array)throw Error("lease must be a Uint8Array.");if(e.length!==su)throw Error(`lease must be of length ${su.toString()}.`);r=new Uint8Array(e)}else r=new Uint8Array(0);this.lease=r,n!==0&&(this.fee+=(pD+su)*n)}addRekey(e,n=0){e!==void 0&&(this.reKeyTo=Wt(e)),n!==0&&(this.fee+=(gD+mD)*n)}_getDictForDisplay(){const e={...this};return e.tag=e.tag.toString(),e.from=Nt(e.from.publicKey),e.to!==void 0&&(e.to=Nt(e.to.publicKey)),e.freezeAccount!==void 0&&(e.freezeAccount=Nt(e.freezeAccount.publicKey)),e.closeRemainderTo!==void 0&&(e.closeRemainderTo=Nt(e.closeRemainderTo.publicKey)),e.assetManager!==void 0&&(e.assetManager=Nt(e.assetManager.publicKey)),e.assetReserve!==void 0&&(e.assetReserve=Nt(e.assetReserve.publicKey)),e.assetFreeze!==void 0&&(e.assetFreeze=Nt(e.assetFreeze.publicKey)),e.assetClawback!==void 0&&(e.assetClawback=Nt(e.assetClawback.publicKey)),e.assetRevocationTarget!==void 0&&(e.assetRevocationTarget=Nt(e.assetRevocationTarget.publicKey)),e.reKeyTo!==void 0&&(e.reKeyTo=Nt(e.reKeyTo.publicKey)),e.genesisHash=e.genesisHash.toString("base64"),e}prettyPrint(){console.log(this._getDictForDisplay())}toString(){return JSON.stringify(this._getDictForDisplay())}};function y4(t){const e={txn:t.get_obj_for_encoding()};return Pr(e)}function wD(t){const e=t.get_obj_for_encoding();return Pr(e)}function bD(t){const e=pr(t);return $n.from_obj_for_encoding(e)}function v4(t){const e=pr(t);return{...e,txn:$n.from_obj_for_encoding(e.txn)}}function Po(t){return t instanceof $n?t:new $n(t)}class _D{constructor({bidderKey:e,bidAmount:n,bidID:r,auctionKey:i,auctionID:s,maxPrice:o}){this.name="Bid",this.tag=Se.Buffer.from([97,66]);const l=Wt(e),u=Wt(i);if(!Number.isSafeInteger(n)||n<0)throw Error("Bid amount must be positive and 2^53-1");if(!Number.isSafeInteger(r)||r<0)throw Error("BidID must be positive and 2^53-1");if(!Number.isSafeInteger(s)||s<0)throw Error("auctionID must be positive");Object.assign(this,{bidderKey:l,bidAmount:n,bidID:r,auctionKey:u,auctionID:s,maxPrice:o})}get_obj_for_encoding(){return{bidder:Se.Buffer.from(this.bidderKey.publicKey),cur:this.bidAmount,price:this.maxPrice,id:this.bidID,auc:Se.Buffer.from(this.auctionKey.publicKey),aid:this.auctionID}}signBid(e){const n=Pr(this.get_obj_for_encoding()),r=Se.Buffer.from(ar(this.tag,n)),i=Td(r,e),o={t:"b",b:{sig:Se.Buffer.from(i),bid:this.get_obj_for_encoding()}};return new Uint8Array(Pr(o))}}const w4=1e6,y1="Microalgos should be positive and less than 2^53 - 1.";function SD(t){if(t<0||!Number.isSafeInteger(t))throw new Error(y1);return t/w4}function kD(t){const e=t*w4;return Math.round(e)}class ED extends Error{constructor(e,n){super(e),this.response=n,this.name="URLTokenBaseHTTPError",this.response=n}}class pa{constructor(e,n,r,i={}){this.defaultHeaders=i;const s=n.endsWith("/")?n:`${n}/`,o=new URL(s);if(typeof r<"u"&&(o.port=r.toString()),o.protocol.length===0)throw new Error("Invalid base server URL, protocol must be defined.");this.baseURL=o,this.tokenHeader=e}getURL(e,n){let r;e.startsWith("./")?r=e:e.startsWith("/")?r=`.${e}`:r=`./${e}`;const i=new URL(r,this.baseURL);if(n)for(const[s,o]of Object.entries(n))i.searchParams.set(s,o);return i.toString()}static formatFetchResponseHeaders(e){const n={};return e.forEach((r,i)=>{n[r]=i}),n}static async checkHttpError(e){if(e.ok)return;let n=null,r=null;try{n=new Uint8Array(await e.arrayBuffer());const s=JSON.parse(Se.Buffer.from(n).toString());s.message&&(r=s.message)}catch{}let i=`Network request error. Received status ${e.status} (${e.statusText})`;throw r&&(i+=`: ${r}`),new ED(i,{body:n,status:e.status,headers:pa.formatFetchResponseHeaders(e.headers)})}static async formatFetchResponse(e){return await this.checkHttpError(e),{body:new Uint8Array(await e.arrayBuffer()),status:e.status,headers:pa.formatFetchResponseHeaders(e.headers)}}async get(e,n,r={}){const i={...this.tokenHeader,...this.defaultHeaders,...r},s=await fetch(this.getURL(e,n),{headers:i});return pa.formatFetchResponse(s)}async post(e,n,r,i={}){const s={...this.tokenHeader,...this.defaultHeaders,...i},o=await fetch(this.getURL(e,r),{method:"POST",body:n,headers:s});return pa.formatFetchResponse(o)}async delete(e,n,r,i={}){const s={...this.tokenHeader,...this.defaultHeaders,...i},o=await fetch(this.getURL(e,r),{method:"DELETE",body:n,headers:s});return pa.formatFetchResponse(o)}}function AD(t){for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(!t[e]||t[e].length===0)&&delete t[e];return t}function wS(t){return Object.keys(t).reduce((e,n)=>(e[n.toLowerCase()]=t[n],e),{})}function CD(t){if(t!==void 0&&Object.prototype.hasOwnProperty.call(t,"format"))switch(t.format){case"msgpack":return"application/msgpack";case"json":default:return"application/json"}else return"application/json"}class Ei{constructor(e,n,r,i={}){n!==void 0?this.bc=new pa(e,n,r,i):this.bc=e}static parseJSON(e,n,r={}){try{return Object.keys(r).length===0?e&&JSON.parse(e):e&&KB(e,r)}catch(i){const s=i;throw s.rawResponse=e||null,s.statusCode=n,s}}static serializeData(e,n){if(!e)return new Uint8Array(0);if(n["content-type"]==="application/json")return new Uint8Array(Se.Buffer.from(JSON.stringify(e)));if(typeof e=="string")return new Uint8Array(Se.Buffer.from(e));if(e instanceof Uint8Array)return e;throw new Error("provided data is neither a string nor a Uint8Array and content-type is not application/json")}static prepareResponse(e,n,r,i={}){let{body:s}=e,o;return n!=="application/msgpack"&&(o=s&&Se.Buffer.from(s).toString()||""),r&&n==="application/json"&&(s=Ei.parseJSON(o,e.status,i)),{...e,body:s,text:o,ok:Math.trunc(e.status/100)===2}}static prepareResponseError(e){return e.response&&(e.response=Ei.prepareResponse(e.response,"application/json",!0),e.status=e.response.status),e}async get(e,n,r={},i={},s=!0){const o=CD(n),l={...r,accept:o};try{const u=await this.bc.get(e,AD(n),l);return Ei.prepareResponse(u,o,s,i)}catch(u){throw Ei.prepareResponseError(u)}}async post(e,n,r={},i,s=!0){const o={"content-type":"application/json",...wS(r)};try{const l=await this.bc.post(e,Ei.serializeData(n,o),i,o);return Ei.prepareResponse(l,"application/json",s)}catch(l){throw Ei.prepareResponseError(l)}}async delete(e,n,r={},i=!0){const s={"content-type":"application/json",...wS(r)},o=await this.bc.delete(e,Ei.serializeData(n,s),void 0,s);return Ei.prepareResponse(o,"application/json",i)}}function jD(t="",e){const n={};return t===""||(n[e]=t),n}function TD(t){return typeof t.get=="function"}class v1{constructor(e,n,r,i,s={}){if(TD(n))this.c=new Ei(n);else{let o;typeof n=="string"?o=jD(n,e):o=n,this.c=new Ei(o,r,i,s)}this.intDecoding=i0.DEFAULT}setIntEncoding(e){this.intDecoding=e}getIntEncoding(){return this.intDecoding}}function PD(t){return t===void 0||t==null||typeof t!="object"&&typeof t!="function"}function bv(t,e){let n;if(t instanceof Uint8Array)n=e?t:Se.Buffer.from(t).toString("base64");else if(typeof t.get_obj_for_encoding=="function")n=t.get_obj_for_encoding(e);else if(Array.isArray(t)){n=[];for(const r of t)n.push(bv(r,e))}else if(typeof t=="object"){const r={};for(const i of Object.keys(t))r[i]=bv(t[i],e);n=r}else if(PD(t))n=t;else throw new Error(`Unsupported value: ${String(t)}`);return n}class Ve{get_obj_for_encoding(e=!1){const n={};for(const r of Object.keys(this.attribute_map)){const i=this.attribute_map[r],s=this[r];typeof s<"u"&&(n[i]=s===null?null:bv(s,e))}return n}}let b4=class _4 extends Ve{constructor({address:e,amount:n,amountWithoutPendingRewards:r,minBalance:i,pendingRewards:s,rewards:o,round:l,status:u,totalAppsOptedIn:h,totalAssetsOptedIn:f,totalCreatedApps:p,totalCreatedAssets:g,appsLocalState:y,appsTotalExtraPages:_,appsTotalSchema:w,assets:b,authAddr:k,createdApps:x,createdAssets:v,incentiveEligible:C,lastHeartbeat:F,lastProposed:j,participation:R,rewardBase:z,sigType:Q,totalBoxBytes:$,totalBoxes:X}){super(),this.address=e,this.amount=n,this.amountWithoutPendingRewards=r,this.minBalance=i,this.pendingRewards=s,this.rewards=o,this.round=l,this.status=u,this.totalAppsOptedIn=h,this.totalAssetsOptedIn=f,this.totalCreatedApps=p,this.totalCreatedAssets=g,this.appsLocalState=y,this.appsTotalExtraPages=_,this.appsTotalSchema=w,this.assets=b,this.authAddr=k,this.createdApps=x,this.createdAssets=v,this.incentiveEligible=C,this.lastHeartbeat=F,this.lastProposed=j,this.participation=R,this.rewardBase=z,this.sigType=Q,this.totalBoxBytes=$,this.totalBoxes=X,this.attribute_map={address:"address",amount:"amount",amountWithoutPendingRewards:"amount-without-pending-rewards",minBalance:"min-balance",pendingRewards:"pending-rewards",rewards:"rewards",round:"round",status:"status",totalAppsOptedIn:"total-apps-opted-in",totalAssetsOptedIn:"total-assets-opted-in",totalCreatedApps:"total-created-apps",totalCreatedAssets:"total-created-assets",appsLocalState:"apps-local-state",appsTotalExtraPages:"apps-total-extra-pages",appsTotalSchema:"apps-total-schema",assets:"assets",authAddr:"auth-addr",createdApps:"created-apps",createdAssets:"created-assets",incentiveEligible:"incentive-eligible",lastHeartbeat:"last-heartbeat",lastProposed:"last-proposed",participation:"participation",rewardBase:"reward-base",sigType:"sig-type",totalBoxBytes:"total-box-bytes",totalBoxes:"total-boxes"}}static from_obj_for_encoding(e){if(typeof e.address>"u")throw new Error(`Response is missing required field 'address': ${e}`);if(typeof e.amount>"u")throw new Error(`Response is missing required field 'amount': ${e}`);if(typeof e["amount-without-pending-rewards"]>"u")throw new Error(`Response is missing required field 'amount-without-pending-rewards': ${e}`);if(typeof e["min-balance"]>"u")throw new Error(`Response is missing required field 'min-balance': ${e}`);if(typeof e["pending-rewards"]>"u")throw new Error(`Response is missing required field 'pending-rewards': ${e}`);if(typeof e.rewards>"u")throw new Error(`Response is missing required field 'rewards': ${e}`);if(typeof e.round>"u")throw new Error(`Response is missing required field 'round': ${e}`);if(typeof e.status>"u")throw new Error(`Response is missing required field 'status': ${e}`);if(typeof e["total-apps-opted-in"]>"u")throw new Error(`Response is missing required field 'total-apps-opted-in': ${e}`);if(typeof e["total-assets-opted-in"]>"u")throw new Error(`Response is missing required field 'total-assets-opted-in': ${e}`);if(typeof e["total-created-apps"]>"u")throw new Error(`Response is missing required field 'total-created-apps': ${e}`);if(typeof e["total-created-assets"]>"u")throw new Error(`Response is missing required field 'total-created-assets': ${e}`);return new _4({address:e.address,amount:e.amount,amountWithoutPendingRewards:e["amount-without-pending-rewards"],minBalance:e["min-balance"],pendingRewards:e["pending-rewards"],rewards:e.rewards,round:e.round,status:e.status,totalAppsOptedIn:e["total-apps-opted-in"],totalAssetsOptedIn:e["total-assets-opted-in"],totalCreatedApps:e["total-created-apps"],totalCreatedAssets:e["total-created-assets"],appsLocalState:typeof e["apps-local-state"]<"u"?e["apps-local-state"].map(k1.from_obj_for_encoding):void 0,appsTotalExtraPages:e["apps-total-extra-pages"],appsTotalSchema:typeof e["apps-total-schema"]<"u"?Ia.from_obj_for_encoding(e["apps-total-schema"]):void 0,assets:typeof e.assets<"u"?e.assets.map(f0.from_obj_for_encoding):void 0,authAddr:e["auth-addr"],createdApps:typeof e["created-apps"]<"u"?e["created-apps"].map(l0.from_obj_for_encoding):void 0,createdAssets:typeof e["created-assets"]<"u"?e["created-assets"].map(P4.from_obj_for_encoding):void 0,incentiveEligible:e["incentive-eligible"],lastHeartbeat:e["last-heartbeat"],lastProposed:e["last-proposed"],participation:typeof e.participation<"u"?S4.from_obj_for_encoding(e.participation):void 0,rewardBase:e["reward-base"],sigType:e["sig-type"],totalBoxBytes:e["total-box-bytes"],totalBoxes:e["total-boxes"]})}};class w1 extends Ve{constructor({round:e,appLocalState:n,createdApp:r}){super(),this.round=e,this.appLocalState=n,this.createdApp=r,this.attribute_map={round:"round",appLocalState:"app-local-state",createdApp:"created-app"}}static from_obj_for_encoding(e){if(typeof e.round>"u")throw new Error(`Response is missing required field 'round': ${e}`);return new w1({round:e.round,appLocalState:typeof e["app-local-state"]<"u"?k1.from_obj_for_encoding(e["app-local-state"]):void 0,createdApp:typeof e["created-app"]<"u"?d0.from_obj_for_encoding(e["created-app"]):void 0})}}class o0 extends Ve{constructor({assetHolding:e,assetParams:n}){super(),this.assetHolding=e,this.assetParams=n,this.attribute_map={assetHolding:"asset-holding",assetParams:"asset-params"}}static from_obj_for_encoding(e){if(typeof e["asset-holding"]>"u")throw new Error(`Response is missing required field 'asset-holding': ${e}`);return new o0({assetHolding:f0.from_obj_for_encoding(e["asset-holding"]),assetParams:typeof e["asset-params"]<"u"?m0.from_obj_for_encoding(e["asset-params"]):void 0})}}class b1 extends Ve{constructor({round:e,assetHolding:n,createdAsset:r}){super(),this.round=e,this.assetHolding=n,this.createdAsset=r,this.attribute_map={round:"round",assetHolding:"asset-holding",createdAsset:"created-asset"}}static from_obj_for_encoding(e){if(typeof e.round>"u")throw new Error(`Response is missing required field 'round': ${e}`);return new b1({round:e.round,assetHolding:typeof e["asset-holding"]<"u"?f0.from_obj_for_encoding(e["asset-holding"]):void 0,createdAsset:typeof e["created-asset"]<"u"?m0.from_obj_for_encoding(e["created-asset"]):void 0})}}class _1 extends Ve{constructor({round:e,assetHoldings:n,nextToken:r}){super(),this.round=e,this.assetHoldings=n,this.nextToken=r,this.attribute_map={round:"round",assetHoldings:"asset-holdings",nextToken:"next-token"}}static from_obj_for_encoding(e){if(typeof e.round>"u")throw new Error(`Response is missing required field 'round': ${e}`);return new _1({round:e.round,assetHoldings:typeof e["asset-holdings"]<"u"?e["asset-holdings"].map(o0.from_obj_for_encoding):void 0,nextToken:e["next-token"]})}}let S4=class k4 extends Ve{constructor({selectionParticipationKey:e,voteFirstValid:n,voteKeyDilution:r,voteLastValid:i,voteParticipationKey:s,stateProofKey:o}){super(),this.selectionParticipationKey=typeof e=="string"?new Uint8Array(Se.Buffer.from(e,"base64")):e,this.voteFirstValid=n,this.voteKeyDilution=r,this.voteLastValid=i,this.voteParticipationKey=typeof s=="string"?new Uint8Array(Se.Buffer.from(s,"base64")):s,this.stateProofKey=typeof o=="string"?new Uint8Array(Se.Buffer.from(o,"base64")):o,this.attribute_map={selectionParticipationKey:"selection-participation-key",voteFirstValid:"vote-first-valid",voteKeyDilution:"vote-key-dilution",voteLastValid:"vote-last-valid",voteParticipationKey:"vote-participation-key",stateProofKey:"state-proof-key"}}static from_obj_for_encoding(e){if(typeof e["selection-participation-key"]>"u")throw new Error(`Response is missing required field 'selection-participation-key': ${e}`);if(typeof e["vote-first-valid"]>"u")throw new Error(`Response is missing required field 'vote-first-valid': ${e}`);if(typeof e["vote-key-dilution"]>"u")throw new Error(`Response is missing required field 'vote-key-dilution': ${e}`);if(typeof e["vote-last-valid"]>"u")throw new Error(`Response is missing required field 'vote-last-valid': ${e}`);if(typeof e["vote-participation-key"]>"u")throw new Error(`Response is missing required field 'vote-participation-key': ${e}`);return new k4({selectionParticipationKey:e["selection-participation-key"],voteFirstValid:e["vote-first-valid"],voteKeyDilution:e["vote-key-dilution"],voteLastValid:e["vote-last-valid"],voteParticipationKey:e["vote-participation-key"],stateProofKey:e["state-proof-key"]})}},S1=class E4 extends Ve{constructor({address:e,delta:n}){super(),this.address=e,this.delta=n,this.attribute_map={address:"address",delta:"delta"}}static from_obj_for_encoding(e){if(typeof e.address>"u")throw new Error(`Response is missing required field 'address': ${e}`);if(!Array.isArray(e.delta))throw new Error(`Response is missing required array field 'delta': ${e}`);return new E4({address:e.address,delta:e.delta.map(_0.from_obj_for_encoding)})}};class a0 extends Ve{constructor({applicationIndex:e,logs:n,txid:r}){super(),this.applicationIndex=e,this.logs=n,this.txid=r,this.attribute_map={applicationIndex:"application-index",logs:"logs",txid:"txId"}}static from_obj_for_encoding(e){if(typeof e["application-index"]>"u")throw new Error(`Response is missing required field 'application-index': ${e}`);if(!Array.isArray(e.logs))throw new Error(`Response is missing required array field 'logs': ${e}`);if(typeof e.txId>"u")throw new Error(`Response is missing required field 'txId': ${e}`);return new a0({applicationIndex:e["application-index"],logs:e.logs,txid:e.txId})}}let l0=class A4 extends Ve{constructor({id:e,params:n}){super(),this.id=e,this.params=n,this.attribute_map={id:"id",params:"params"}}static from_obj_for_encoding(e){if(typeof e.id>"u")throw new Error(`Response is missing required field 'id': ${e}`);if(typeof e.params>"u")throw new Error(`Response is missing required field 'params': ${e}`);return new A4({id:e.id,params:d0.from_obj_for_encoding(e.params)})}};class c0 extends Ve{constructor({id:e,appBoxes:n,appGlobals:r,appLocals:i}){super(),this.id=e,this.appBoxes=n,this.appGlobals=r,this.appLocals=i,this.attribute_map={id:"id",appBoxes:"app-boxes",appGlobals:"app-globals",appLocals:"app-locals"}}static from_obj_for_encoding(e){if(typeof e.id>"u")throw new Error(`Response is missing required field 'id': ${e}`);return new c0({id:e.id,appBoxes:typeof e["app-boxes"]<"u"?Zl.from_obj_for_encoding(e["app-boxes"]):void 0,appGlobals:typeof e["app-globals"]<"u"?Zl.from_obj_for_encoding(e["app-globals"]):void 0,appLocals:typeof e["app-locals"]<"u"?e["app-locals"].map(Zl.from_obj_for_encoding):void 0})}}class Zl extends Ve{constructor({kvs:e,account:n}){super(),this.kvs=e,this.account=n,this.attribute_map={kvs:"kvs",account:"account"}}static from_obj_for_encoding(e){if(!Array.isArray(e.kvs))throw new Error(`Response is missing required array field 'kvs': ${e}`);return new Zl({kvs:e.kvs.map(g0.from_obj_for_encoding),account:e.account})}}class u0 extends Ve{constructor({account:e,app:n}){super(),this.account=e,this.app=n,this.attribute_map={account:"account",app:"app"}}static from_obj_for_encoding(e){if(typeof e.account>"u")throw new Error(`Response is missing required field 'account': ${e}`);if(typeof e.app>"u")throw new Error(`Response is missing required field 'app': ${e}`);return new u0({account:e.account,app:e.app})}}let k1=class C4 extends Ve{constructor({id:e,schema:n,keyValue:r}){super(),this.id=e,this.schema=n,this.keyValue=r,this.attribute_map={id:"id",schema:"schema",keyValue:"key-value"}}static from_obj_for_encoding(e){if(typeof e.id>"u")throw new Error(`Response is missing required field 'id': ${e}`);if(typeof e.schema>"u")throw new Error(`Response is missing required field 'schema': ${e}`);return new C4({id:e.id,schema:Ia.from_obj_for_encoding(e.schema),keyValue:typeof e["key-value"]<"u"?e["key-value"].map(L1.from_obj_for_encoding):void 0})}},d0=class j4 extends Ve{constructor({approvalProgram:e,clearStateProgram:n,creator:r,extraProgramPages:i,globalState:s,globalStateSchema:o,localStateSchema:l}){super(),this.approvalProgram=typeof e=="string"?new Uint8Array(Se.Buffer.from(e,"base64")):e,this.clearStateProgram=typeof n=="string"?new Uint8Array(Se.Buffer.from(n,"base64")):n,this.creator=r,this.extraProgramPages=i,this.globalState=s,this.globalStateSchema=o,this.localStateSchema=l,this.attribute_map={approvalProgram:"approval-program",clearStateProgram:"clear-state-program",creator:"creator",extraProgramPages:"extra-program-pages",globalState:"global-state",globalStateSchema:"global-state-schema",localStateSchema:"local-state-schema"}}static from_obj_for_encoding(e){if(typeof e["approval-program"]>"u")throw new Error(`Response is missing required field 'approval-program': ${e}`);if(typeof e["clear-state-program"]>"u")throw new Error(`Response is missing required field 'clear-state-program': ${e}`);if(typeof e.creator>"u")throw new Error(`Response is missing required field 'creator': ${e}`);return new j4({approvalProgram:e["approval-program"],clearStateProgram:e["clear-state-program"],creator:e.creator,extraProgramPages:e["extra-program-pages"],globalState:typeof e["global-state"]<"u"?e["global-state"].map(L1.from_obj_for_encoding):void 0,globalStateSchema:typeof e["global-state-schema"]<"u"?Ia.from_obj_for_encoding(e["global-state-schema"]):void 0,localStateSchema:typeof e["local-state-schema"]<"u"?Ia.from_obj_for_encoding(e["local-state-schema"]):void 0})}};class h0 extends Ve{constructor({appStateType:e,key:n,operation:r,account:i,newValue:s}){super(),this.appStateType=e,this.key=typeof n=="string"?new Uint8Array(Se.Buffer.from(n,"base64")):n,this.operation=r,this.account=i,this.newValue=s,this.attribute_map={appStateType:"app-state-type",key:"key",operation:"operation",account:"account",newValue:"new-value"}}static from_obj_for_encoding(e){if(typeof e["app-state-type"]>"u")throw new Error(`Response is missing required field 'app-state-type': ${e}`);if(typeof e.key>"u")throw new Error(`Response is missing required field 'key': ${e}`);if(typeof e.operation>"u")throw new Error(`Response is missing required field 'operation': ${e}`);return new h0({appStateType:e["app-state-type"],key:e.key,operation:e.operation,account:e.account,newValue:typeof e["new-value"]<"u"?Ka.from_obj_for_encoding(e["new-value"]):void 0})}}let Ia=class T4 extends Ve{constructor({numUint:e,numByteSlice:n}){super(),this.numUint=e,this.numByteSlice=n,this.attribute_map={numUint:"num-uint",numByteSlice:"num-byte-slice"}}static from_obj_for_encoding(e){if(typeof e["num-uint"]>"u")throw new Error(`Response is missing required field 'num-uint': ${e}`);if(typeof e["num-byte-slice"]>"u")throw new Error(`Response is missing required field 'num-byte-slice': ${e}`);return new T4({numUint:e["num-uint"],numByteSlice:e["num-byte-slice"]})}},P4=class F4 extends Ve{constructor({index:e,params:n}){super(),this.index=e,this.params=n,this.attribute_map={index:"index",params:"params"}}static from_obj_for_encoding(e){if(typeof e.index>"u")throw new Error(`Response is missing required field 'index': ${e}`);if(typeof e.params>"u")throw new Error(`Response is missing required field 'params': ${e}`);return new F4({index:e.index,params:m0.from_obj_for_encoding(e.params)})}},f0=class N4 extends Ve{constructor({amount:e,assetId:n,isFrozen:r}){super(),this.amount=e,this.assetId=n,this.isFrozen=r,this.attribute_map={amount:"amount",assetId:"asset-id",isFrozen:"is-frozen"}}static from_obj_for_encoding(e){if(typeof e.amount>"u")throw new Error(`Response is missing required field 'amount': ${e}`);if(typeof e["asset-id"]>"u")throw new Error(`Response is missing required field 'asset-id': ${e}`);if(typeof e["is-frozen"]>"u")throw new Error(`Response is missing required field 'is-frozen': ${e}`);return new N4({amount:e.amount,assetId:e["asset-id"],isFrozen:e["is-frozen"]})}};class p0 extends Ve{constructor({account:e,asset:n}){super(),this.account=e,this.asset=n,this.attribute_map={account:"account",asset:"asset"}}static from_obj_for_encoding(e){if(typeof e.account>"u")throw new Error(`Response is missing required field 'account': ${e}`);if(typeof e.asset>"u")throw new Error(`Response is missing required field 'asset': ${e}`);return new p0({account:e.account,asset:e.asset})}}let m0=class R4 extends Ve{constructor({creator:e,decimals:n,total:r,clawback:i,defaultFrozen:s,freeze:o,manager:l,metadataHash:u,name:h,nameB64:f,reserve:p,unitName:g,unitNameB64:y,url:_,urlB64:w}){super(),this.creator=e,this.decimals=n,this.total=r,this.clawback=i,this.defaultFrozen=s,this.freeze=o,this.manager=l,this.metadataHash=typeof u=="string"?new Uint8Array(Se.Buffer.from(u,"base64")):u,this.name=h,this.nameB64=typeof f=="string"?new Uint8Array(Se.Buffer.from(f,"base64")):f,this.reserve=p,this.unitName=g,this.unitNameB64=typeof y=="string"?new Uint8Array(Se.Buffer.from(y,"base64")):y,this.url=_,this.urlB64=typeof w=="string"?new Uint8Array(Se.Buffer.from(w,"base64")):w,this.attribute_map={creator:"creator",decimals:"decimals",total:"total",clawback:"clawback",defaultFrozen:"default-frozen",freeze:"freeze",manager:"manager",metadataHash:"metadata-hash",name:"name",nameB64:"name-b64",reserve:"reserve",unitName:"unit-name",unitNameB64:"unit-name-b64",url:"url",urlB64:"url-b64"}}static from_obj_for_encoding(e){if(typeof e.creator>"u")throw new Error(`Response is missing required field 'creator': ${e}`);if(typeof e.decimals>"u")throw new Error(`Response is missing required field 'decimals': ${e}`);if(typeof e.total>"u")throw new Error(`Response is missing required field 'total': ${e}`);return new R4({creator:e.creator,decimals:e.decimals,total:e.total,clawback:e.clawback,defaultFrozen:e["default-frozen"],freeze:e.freeze,manager:e.manager,metadataHash:e["metadata-hash"],name:e.name,nameB64:e["name-b64"],reserve:e.reserve,unitName:e["unit-name"],unitNameB64:e["unit-name-b64"],url:e.url,urlB64:e["url-b64"]})}};class g0 extends Ve{constructor({key:e,value:n}){super(),this.key=typeof e=="string"?new Uint8Array(Se.Buffer.from(e,"base64")):e,this.value=n,this.attribute_map={key:"key",value:"value"}}static from_obj_for_encoding(e){if(typeof e.key>"u")throw new Error(`Response is missing required field 'key': ${e}`);if(typeof e.value>"u")throw new Error(`Response is missing required field 'value': ${e}`);return new g0({key:e.key,value:Ka.from_obj_for_encoding(e.value)})}}class Ka extends Ve{constructor({type:e,bytes:n,uint:r}){super(),this.type=e,this.bytes=typeof n=="string"?new Uint8Array(Se.Buffer.from(n,"base64")):n,this.uint=r,this.attribute_map={type:"type",bytes:"bytes",uint:"uint"}}static from_obj_for_encoding(e){if(typeof e.type>"u")throw new Error(`Response is missing required field 'type': ${e}`);return new Ka({type:e.type,bytes:e.bytes,uint:e.uint})}}class E1 extends Ve{constructor({blockhash:e}){super(),this.blockhash=e,this.attribute_map={blockhash:"blockHash"}}static from_obj_for_encoding(e){if(typeof e.blockHash>"u")throw new Error(`Response is missing required field 'blockHash': ${e}`);return new E1({blockhash:e.blockHash})}}class A1 extends Ve{constructor({logs:e}){super(),this.logs=e,this.attribute_map={logs:"logs"}}static from_obj_for_encoding(e){if(!Array.isArray(e.logs))throw new Error(`Response is missing required array field 'logs': ${e}`);return new A1({logs:e.logs.map(a0.from_obj_for_encoding)})}}class C1 extends Ve{constructor({block:e,cert:n}){super(),this.block=e,this.cert=n,this.attribute_map={block:"block",cert:"cert"}}static from_obj_for_encoding(e){if(typeof e.block>"u")throw new Error(`Response is missing required field 'block': ${e}`);return new C1({block:e.block,cert:e.cert})}}class j1 extends Ve{constructor({blocktxids:e}){super(),this.blocktxids=e,this.attribute_map={blocktxids:"blockTxids"}}static from_obj_for_encoding(e){if(!Array.isArray(e.blockTxids))throw new Error(`Response is missing required array field 'blockTxids': ${e}`);return new j1({blocktxids:e.blockTxids})}}let B4=class D4 extends Ve{constructor({name:e,round:n,value:r}){super(),this.name=typeof e=="string"?new Uint8Array(Se.Buffer.from(e,"base64")):e,this.round=n,this.value=typeof r=="string"?new Uint8Array(Se.Buffer.from(r,"base64")):r,this.attribute_map={name:"name",round:"round",value:"value"}}static from_obj_for_encoding(e){if(typeof e.name>"u")throw new Error(`Response is missing required field 'name': ${e}`);if(typeof e.round>"u")throw new Error(`Response is missing required field 'round': ${e}`);if(typeof e.value>"u")throw new Error(`Response is missing required field 'value': ${e}`);return new D4({name:e.name,round:e.round,value:e.value})}},I4=class L4 extends Ve{constructor({name:e}){super(),this.name=typeof e=="string"?new Uint8Array(Se.Buffer.from(e,"base64")):e,this.attribute_map={name:"name"}}static from_obj_for_encoding(e){if(typeof e.name>"u")throw new Error(`Response is missing required field 'name': ${e}`);return new L4({name:e.name})}};class x0 extends Ve{constructor({app:e,name:n}){super(),this.app=e,this.name=typeof n=="string"?new Uint8Array(Se.Buffer.from(n,"base64")):n,this.attribute_map={app:"app",name:"name"}}static from_obj_for_encoding(e){if(typeof e.app>"u")throw new Error(`Response is missing required field 'app': ${e}`);if(typeof e.name>"u")throw new Error(`Response is missing required field 'name': ${e}`);return new x0({app:e.app,name:e.name})}}let M4=class O4 extends Ve{constructor({boxes:e}){super(),this.boxes=e,this.attribute_map={boxes:"boxes"}}static from_obj_for_encoding(e){if(!Array.isArray(e.boxes))throw new Error(`Response is missing required array field 'boxes': ${e}`);return new O4({boxes:e.boxes.map(I4.from_obj_for_encoding)})}};class y0 extends Ve{constructor({branch:e,buildNumber:n,channel:r,commitHash:i,major:s,minor:o}){super(),this.branch=e,this.buildNumber=n,this.channel=r,this.commitHash=i,this.major=s,this.minor=o,this.attribute_map={branch:"branch",buildNumber:"build_number",channel:"channel",commitHash:"commit_hash",major:"major",minor:"minor"}}static from_obj_for_encoding(e){if(typeof e.branch>"u")throw new Error(`Response is missing required field 'branch': ${e}`);if(typeof e.build_number>"u")throw new Error(`Response is missing required field 'build_number': ${e}`);if(typeof e.channel>"u")throw new Error(`Response is missing required field 'channel': ${e}`);if(typeof e.commit_hash>"u")throw new Error(`Response is missing required field 'commit_hash': ${e}`);if(typeof e.major>"u")throw new Error(`Response is missing required field 'major': ${e}`);if(typeof e.minor>"u")throw new Error(`Response is missing required field 'minor': ${e}`);return new y0({branch:e.branch,buildNumber:e.build_number,channel:e.channel,commitHash:e.commit_hash,major:e.major,minor:e.minor})}}class T1 extends Ve{constructor({hash:e,result:n,sourcemap:r}){super(),this.hash=e,this.result=n,this.sourcemap=r,this.attribute_map={hash:"hash",result:"result",sourcemap:"sourcemap"}}static from_obj_for_encoding(e){if(typeof e.hash>"u")throw new Error(`Response is missing required field 'hash': ${e}`);if(typeof e.result>"u")throw new Error(`Response is missing required field 'result': ${e}`);return new T1({hash:e.hash,result:e.result,sourcemap:e.sourcemap})}}class P1 extends Ve{constructor({result:e}){super(),this.result=e,this.attribute_map={result:"result"}}static from_obj_for_encoding(e){if(typeof e.result>"u")throw new Error(`Response is missing required field 'result': ${e}`);return new P1({result:e.result})}}class v0 extends Ve{constructor({accounts:e,apps:n,latestTimestamp:r,protocolVersion:i,round:s,sources:o,txns:l}){super(),this.accounts=e,this.apps=n,this.latestTimestamp=r,this.protocolVersion=i,this.round=s,this.sources=o,this.txns=l,this.attribute_map={accounts:"accounts",apps:"apps",latestTimestamp:"latest-timestamp",protocolVersion:"protocol-version",round:"round",sources:"sources",txns:"txns"}}static from_obj_for_encoding(e){if(!Array.isArray(e.accounts))throw new Error(`Response is missing required array field 'accounts': ${e}`);if(!Array.isArray(e.apps))throw new Error(`Response is missing required array field 'apps': ${e}`);if(typeof e["latest-timestamp"]>"u")throw new Error(`Response is missing required field 'latest-timestamp': ${e}`);if(typeof e["protocol-version"]>"u")throw new Error(`Response is missing required field 'protocol-version': ${e}`);if(typeof e.round>"u")throw new Error(`Response is missing required field 'round': ${e}`);if(!Array.isArray(e.sources))throw new Error(`Response is missing required array field 'sources': ${e}`);if(!Array.isArray(e.txns))throw new Error(`Response is missing required array field 'txns': ${e}`);return new v0({accounts:e.accounts.map(b4.from_obj_for_encoding),apps:e.apps.map(l0.from_obj_for_encoding),latestTimestamp:e["latest-timestamp"],protocolVersion:e["protocol-version"],round:e.round,sources:e.sources.map(w0.from_obj_for_encoding),txns:e.txns})}}class F1 extends Ve{constructor({error:e,protocolVersion:n,txns:r}){super(),this.error=e,this.protocolVersion=n,this.txns=r,this.attribute_map={error:"error",protocolVersion:"protocol-version",txns:"txns"}}static from_obj_for_encoding(e){if(typeof e.error>"u")throw new Error(`Response is missing required field 'error': ${e}`);if(typeof e["protocol-version"]>"u")throw new Error(`Response is missing required field 'protocol-version': ${e}`);if(!Array.isArray(e.txns))throw new Error(`Response is missing required array field 'txns': ${e}`);return new F1({error:e.error,protocolVersion:e["protocol-version"],txns:e.txns.map(b0.from_obj_for_encoding)})}}class w0 extends Ve{constructor({fieldName:e,source:n,txnIndex:r,appIndex:i}){super(),this.fieldName=e,this.source=n,this.txnIndex=r,this.appIndex=i,this.attribute_map={fieldName:"field-name",source:"source",txnIndex:"txn-index",appIndex:"app-index"}}static from_obj_for_encoding(e){if(typeof e["field-name"]>"u")throw new Error(`Response is missing required field 'field-name': ${e}`);if(typeof e.source>"u")throw new Error(`Response is missing required field 'source': ${e}`);if(typeof e["txn-index"]>"u")throw new Error(`Response is missing required field 'txn-index': ${e}`);if(typeof e["app-index"]>"u")throw new Error(`Response is missing required field 'app-index': ${e}`);return new w0({fieldName:e["field-name"],source:e.source,txnIndex:e["txn-index"],appIndex:e["app-index"]})}}class cd extends Ve{constructor({line:e,pc:n,stack:r,error:i,scratch:s}){super(),this.line=e,this.pc=n,this.stack=r,this.error=i,this.scratch=s,this.attribute_map={line:"line",pc:"pc",stack:"stack",error:"error",scratch:"scratch"}}static from_obj_for_encoding(e){if(typeof e.line>"u")throw new Error(`Response is missing required field 'line': ${e}`);if(typeof e.pc>"u")throw new Error(`Response is missing required field 'pc': ${e}`);if(!Array.isArray(e.stack))throw new Error(`Response is missing required array field 'stack': ${e}`);return new cd({line:e.line,pc:e.pc,stack:e.stack.map(dp.from_obj_for_encoding),error:e.error,scratch:typeof e.scratch<"u"?e.scratch.map(dp.from_obj_for_encoding):void 0})}}class b0 extends Ve{constructor({disassembly:e,appCallMessages:n,appCallTrace:r,budgetAdded:i,budgetConsumed:s,globalDelta:o,localDeltas:l,logicSigDisassembly:u,logicSigMessages:h,logicSigTrace:f,logs:p}){super(),this.disassembly=e,this.appCallMessages=n,this.appCallTrace=r,this.budgetAdded=i,this.budgetConsumed=s,this.globalDelta=o,this.localDeltas=l,this.logicSigDisassembly=u,this.logicSigMessages=h,this.logicSigTrace=f,this.logs=p,this.attribute_map={disassembly:"disassembly",appCallMessages:"app-call-messages",appCallTrace:"app-call-trace",budgetAdded:"budget-added",budgetConsumed:"budget-consumed",globalDelta:"global-delta",localDeltas:"local-deltas",logicSigDisassembly:"logic-sig-disassembly",logicSigMessages:"logic-sig-messages",logicSigTrace:"logic-sig-trace",logs:"logs"}}static from_obj_for_encoding(e){if(!Array.isArray(e.disassembly))throw new Error(`Response is missing required array field 'disassembly': ${e}`);return new b0({disassembly:e.disassembly,appCallMessages:e["app-call-messages"],appCallTrace:typeof e["app-call-trace"]<"u"?e["app-call-trace"].map(cd.from_obj_for_encoding):void 0,budgetAdded:e["budget-added"],budgetConsumed:e["budget-consumed"],globalDelta:typeof e["global-delta"]<"u"?e["global-delta"].map(_0.from_obj_for_encoding):void 0,localDeltas:typeof e["local-deltas"]<"u"?e["local-deltas"].map(S1.from_obj_for_encoding):void 0,logicSigDisassembly:e["logic-sig-disassembly"],logicSigMessages:e["logic-sig-messages"],logicSigTrace:typeof e["logic-sig-trace"]<"u"?e["logic-sig-trace"].map(cd.from_obj_for_encoding):void 0,logs:e.logs})}}let FD=class $4 extends Ve{constructor({message:e,data:n}){super(),this.message=e,this.data=n,this.attribute_map={message:"message",data:"data"}}static from_obj_for_encoding(e){if(typeof e.message>"u")throw new Error(`Response is missing required field 'message': ${e}`);return new $4({message:e.message,data:e.data})}},U4=class z4 extends Ve{constructor({action:e,bytes:n,uint:r}){super(),this.action=e,this.bytes=n,this.uint=r,this.attribute_map={action:"action",bytes:"bytes",uint:"uint"}}static from_obj_for_encoding(e){if(typeof e.action>"u")throw new Error(`Response is missing required field 'action': ${e}`);return new z4({action:e.action,bytes:e.bytes,uint:e.uint})}},_0=class q4 extends Ve{constructor({key:e,value:n}){super(),this.key=e,this.value=n,this.attribute_map={key:"key",value:"value"}}static from_obj_for_encoding(e){if(typeof e.key>"u")throw new Error(`Response is missing required field 'key': ${e}`);if(typeof e.value>"u")throw new Error(`Response is missing required field 'value': ${e}`);return new q4({key:e.key,value:U4.from_obj_for_encoding(e.value)})}};class S0 extends Ve{constructor({offset:e}){super(),this.offset=e,this.attribute_map={offset:"offset"}}static from_obj_for_encoding(e){if(typeof e.offset>"u")throw new Error(`Response is missing required field 'offset': ${e}`);return new S0({offset:e.offset})}}class k0 extends Ve{constructor({round:e}){super(),this.round=e,this.attribute_map={round:"round"}}static from_obj_for_encoding(e){if(typeof e.round>"u")throw new Error(`Response is missing required field 'round': ${e}`);return new k0({round:e.round})}}class N1 extends Ve{constructor({key:e,value:n}){super(),this.key=typeof e=="string"?new Uint8Array(Se.Buffer.from(e,"base64")):e,this.value=typeof n=="string"?new Uint8Array(Se.Buffer.from(n,"base64")):n,this.attribute_map={key:"key",value:"value"}}static from_obj_for_encoding(e){return new N1({key:e.key,value:e.value})}}class E0 extends Ve{constructor({delta:e,ids:n}){super(),this.delta=e,this.ids=n,this.attribute_map={delta:"Delta",ids:"Ids"}}static from_obj_for_encoding(e){if(typeof e.Delta>"u")throw new Error(`Response is missing required field 'Delta': ${e}`);if(!Array.isArray(e.Ids))throw new Error(`Response is missing required array field 'Ids': ${e}`);return new E0({delta:e.Delta,ids:e.Ids})}}let ND=class V4 extends Ve{constructor({index:e,proof:n,treedepth:r}){super(),this.index=e,this.proof=typeof n=="string"?new Uint8Array(Se.Buffer.from(n,"base64")):n,this.treedepth=r,this.attribute_map={index:"index",proof:"proof",treedepth:"treedepth"}}static from_obj_for_encoding(e){if(typeof e.index>"u")throw new Error(`Response is missing required field 'index': ${e}`);if(typeof e.proof>"u")throw new Error(`Response is missing required field 'proof': ${e}`);if(typeof e.treedepth>"u")throw new Error(`Response is missing required field 'treedepth': ${e}`);return new V4({index:e.index,proof:e.proof,treedepth:e.treedepth})}};class R1 extends Ve{constructor({catchupTime:e,lastRound:n,lastVersion:r,nextVersion:i,nextVersionRound:s,nextVersionSupported:o,stoppedAtUnsupportedRound:l,timeSinceLastRound:u,catchpoint:h,catchpointAcquiredBlocks:f,catchpointProcessedAccounts:p,catchpointProcessedKvs:g,catchpointTotalAccounts:y,catchpointTotalBlocks:_,catchpointTotalKvs:w,catchpointVerifiedAccounts:b,catchpointVerifiedKvs:k,lastCatchpoint:x,upgradeDelay:v,upgradeNextProtocolVoteBefore:C,upgradeNoVotes:F,upgradeNodeVote:j,upgradeVoteRounds:R,upgradeVotes:z,upgradeVotesRequired:Q,upgradeYesVotes:$}){super(),this.catchupTime=e,this.lastRound=n,this.lastVersion=r,this.nextVersion=i,this.nextVersionRound=s,this.nextVersionSupported=o,this.stoppedAtUnsupportedRound=l,this.timeSinceLastRound=u,this.catchpoint=h,this.catchpointAcquiredBlocks=f,this.catchpointProcessedAccounts=p,this.catchpointProcessedKvs=g,this.catchpointTotalAccounts=y,this.catchpointTotalBlocks=_,this.catchpointTotalKvs=w,this.catchpointVerifiedAccounts=b,this.catchpointVerifiedKvs=k,this.lastCatchpoint=x,this.upgradeDelay=v,this.upgradeNextProtocolVoteBefore=C,this.upgradeNoVotes=F,this.upgradeNodeVote=j,this.upgradeVoteRounds=R,this.upgradeVotes=z,this.upgradeVotesRequired=Q,this.upgradeYesVotes=$,this.attribute_map={catchupTime:"catchup-time",lastRound:"last-round",lastVersion:"last-version",nextVersion:"next-version",nextVersionRound:"next-version-round",nextVersionSupported:"next-version-supported",stoppedAtUnsupportedRound:"stopped-at-unsupported-round",timeSinceLastRound:"time-since-last-round",catchpoint:"catchpoint",catchpointAcquiredBlocks:"catchpoint-acquired-blocks",catchpointProcessedAccounts:"catchpoint-processed-accounts",catchpointProcessedKvs:"catchpoint-processed-kvs",catchpointTotalAccounts:"catchpoint-total-accounts",catchpointTotalBlocks:"catchpoint-total-blocks",catchpointTotalKvs:"catchpoint-total-kvs",catchpointVerifiedAccounts:"catchpoint-verified-accounts",catchpointVerifiedKvs:"catchpoint-verified-kvs",lastCatchpoint:"last-catchpoint",upgradeDelay:"upgrade-delay",upgradeNextProtocolVoteBefore:"upgrade-next-protocol-vote-before",upgradeNoVotes:"upgrade-no-votes",upgradeNodeVote:"upgrade-node-vote",upgradeVoteRounds:"upgrade-vote-rounds",upgradeVotes:"upgrade-votes",upgradeVotesRequired:"upgrade-votes-required",upgradeYesVotes:"upgrade-yes-votes"}}static from_obj_for_encoding(e){if(typeof e["catchup-time"]>"u")throw new Error(`Response is missing required field 'catchup-time': ${e}`);if(typeof e["last-round"]>"u")throw new Error(`Response is missing required field 'last-round': ${e}`);if(typeof e["last-version"]>"u")throw new Error(`Response is missing required field 'last-version': ${e}`);if(typeof e["next-version"]>"u")throw new Error(`Response is missing required field 'next-version': ${e}`);if(typeof e["next-version-round"]>"u")throw new Error(`Response is missing required field 'next-version-round': ${e}`);if(typeof e["next-version-supported"]>"u")throw new Error(`Response is missing required field 'next-version-supported': ${e}`);if(typeof e["stopped-at-unsupported-round"]>"u")throw new Error(`Response is missing required field 'stopped-at-unsupported-round': ${e}`);if(typeof e["time-since-last-round"]>"u")throw new Error(`Response is missing required field 'time-since-last-round': ${e}`);return new R1({catchupTime:e["catchup-time"],lastRound:e["last-round"],lastVersion:e["last-version"],nextVersion:e["next-version"],nextVersionRound:e["next-version-round"],nextVersionSupported:e["next-version-supported"],stoppedAtUnsupportedRound:e["stopped-at-unsupported-round"],timeSinceLastRound:e["time-since-last-round"],catchpoint:e.catchpoint,catchpointAcquiredBlocks:e["catchpoint-acquired-blocks"],catchpointProcessedAccounts:e["catchpoint-processed-accounts"],catchpointProcessedKvs:e["catchpoint-processed-kvs"],catchpointTotalAccounts:e["catchpoint-total-accounts"],catchpointTotalBlocks:e["catchpoint-total-blocks"],catchpointTotalKvs:e["catchpoint-total-kvs"],catchpointVerifiedAccounts:e["catchpoint-verified-accounts"],catchpointVerifiedKvs:e["catchpoint-verified-kvs"],lastCatchpoint:e["last-catchpoint"],upgradeDelay:e["upgrade-delay"],upgradeNextProtocolVoteBefore:e["upgrade-next-protocol-vote-before"],upgradeNoVotes:e["upgrade-no-votes"],upgradeNodeVote:e["upgrade-node-vote"],upgradeVoteRounds:e["upgrade-vote-rounds"],upgradeVotes:e["upgrade-votes"],upgradeVotesRequired:e["upgrade-votes-required"],upgradeYesVotes:e["upgrade-yes-votes"]})}}class ud extends Ve{constructor({poolError:e,txn:n,applicationIndex:r,assetClosingAmount:i,assetIndex:s,closeRewards:o,closingAmount:l,confirmedRound:u,globalStateDelta:h,innerTxns:f,localStateDelta:p,logs:g,receiverRewards:y,senderRewards:_}){super(),this.poolError=e,this.txn=n,this.applicationIndex=r,this.assetClosingAmount=i,this.assetIndex=s,this.closeRewards=o,this.closingAmount=l,this.confirmedRound=u,this.globalStateDelta=h,this.innerTxns=f,this.localStateDelta=p,this.logs=g,this.receiverRewards=y,this.senderRewards=_,this.attribute_map={poolError:"pool-error",txn:"txn",applicationIndex:"application-index",assetClosingAmount:"asset-closing-amount",assetIndex:"asset-index",closeRewards:"close-rewards",closingAmount:"closing-amount",confirmedRound:"confirmed-round",globalStateDelta:"global-state-delta",innerTxns:"inner-txns",localStateDelta:"local-state-delta",logs:"logs",receiverRewards:"receiver-rewards",senderRewards:"sender-rewards"}}static from_obj_for_encoding(e){if(typeof e["pool-error"]>"u")throw new Error(`Response is missing required field 'pool-error': ${e}`);if(typeof e.txn>"u")throw new Error(`Response is missing required field 'txn': ${e}`);return new ud({poolError:e["pool-error"],txn:e.txn,applicationIndex:e["application-index"],assetClosingAmount:e["asset-closing-amount"],assetIndex:e["asset-index"],closeRewards:e["close-rewards"],closingAmount:e["closing-amount"],confirmedRound:e["confirmed-round"],globalStateDelta:typeof e["global-state-delta"]<"u"?e["global-state-delta"].map(_0.from_obj_for_encoding):void 0,innerTxns:typeof e["inner-txns"]<"u"?e["inner-txns"].map(ud.from_obj_for_encoding):void 0,localStateDelta:typeof e["local-state-delta"]<"u"?e["local-state-delta"].map(S1.from_obj_for_encoding):void 0,logs:e.logs,receiverRewards:e["receiver-rewards"],senderRewards:e["sender-rewards"]})}}class B1 extends Ve{constructor({topTransactions:e,totalTransactions:n}){super(),this.topTransactions=e,this.totalTransactions=n,this.attribute_map={topTransactions:"top-transactions",totalTransactions:"total-transactions"}}static from_obj_for_encoding(e){if(!Array.isArray(e["top-transactions"]))throw new Error(`Response is missing required array field 'top-transactions': ${e}`);if(typeof e["total-transactions"]>"u")throw new Error(`Response is missing required field 'total-transactions': ${e}`);return new B1({topTransactions:e["top-transactions"],totalTransactions:e["total-transactions"]})}}class D1 extends Ve{constructor({txid:e}){super(),this.txid=e,this.attribute_map={txid:"txId"}}static from_obj_for_encoding(e){if(typeof e.txId>"u")throw new Error(`Response is missing required field 'txId': ${e}`);return new D1({txid:e.txId})}}class A0 extends Ve{constructor({newValue:e,slot:n}){super(),this.newValue=e,this.slot=n,this.attribute_map={newValue:"new-value",slot:"slot"}}static from_obj_for_encoding(e){if(typeof e["new-value"]>"u")throw new Error(`Response is missing required field 'new-value': ${e}`);if(typeof e.slot>"u")throw new Error(`Response is missing required field 'slot': ${e}`);return new A0({newValue:Ka.from_obj_for_encoding(e["new-value"]),slot:e.slot})}}class C0 extends Ve{constructor({appInitialStates:e}){super(),this.appInitialStates=e,this.attribute_map={appInitialStates:"app-initial-states"}}static from_obj_for_encoding(e){return new C0({appInitialStates:typeof e["app-initial-states"]<"u"?e["app-initial-states"].map(c0.from_obj_for_encoding):void 0})}}class Pd extends Ve{constructor({txnGroups:e,allowEmptySignatures:n,allowMoreLogging:r,allowUnnamedResources:i,execTraceConfig:s,extraOpcodeBudget:o,fixSigners:l,round:u}){super(),this.txnGroups=e,this.allowEmptySignatures=n,this.allowMoreLogging=r,this.allowUnnamedResources=i,this.execTraceConfig=s,this.extraOpcodeBudget=o,this.fixSigners=l,this.round=u,this.attribute_map={txnGroups:"txn-groups",allowEmptySignatures:"allow-empty-signatures",allowMoreLogging:"allow-more-logging",allowUnnamedResources:"allow-unnamed-resources",execTraceConfig:"exec-trace-config",extraOpcodeBudget:"extra-opcode-budget",fixSigners:"fix-signers",round:"round"}}static from_obj_for_encoding(e){if(!Array.isArray(e["txn-groups"]))throw new Error(`Response is missing required array field 'txn-groups': ${e}`);return new Pd({txnGroups:e["txn-groups"].map(Ec.from_obj_for_encoding),allowEmptySignatures:e["allow-empty-signatures"],allowMoreLogging:e["allow-more-logging"],allowUnnamedResources:e["allow-unnamed-resources"],execTraceConfig:typeof e["exec-trace-config"]<"u"?Fd.from_obj_for_encoding(e["exec-trace-config"]):void 0,extraOpcodeBudget:e["extra-opcode-budget"],fixSigners:e["fix-signers"],round:e.round})}}class Ec extends Ve{constructor({txns:e}){super(),this.txns=e,this.attribute_map={txns:"txns"}}static from_obj_for_encoding(e){if(!Array.isArray(e.txns))throw new Error(`Response is missing required array field 'txns': ${e}`);return new Ec({txns:e.txns})}}class j0 extends Ve{constructor({lastRound:e,txnGroups:n,version:r,evalOverrides:i,execTraceConfig:s,initialStates:o}){super(),this.lastRound=e,this.txnGroups=n,this.version=r,this.evalOverrides=i,this.execTraceConfig=s,this.initialStates=o,this.attribute_map={lastRound:"last-round",txnGroups:"txn-groups",version:"version",evalOverrides:"eval-overrides",execTraceConfig:"exec-trace-config",initialStates:"initial-states"}}static from_obj_for_encoding(e){if(typeof e["last-round"]>"u")throw new Error(`Response is missing required field 'last-round': ${e}`);if(!Array.isArray(e["txn-groups"]))throw new Error(`Response is missing required array field 'txn-groups': ${e}`);if(typeof e.version>"u")throw new Error(`Response is missing required field 'version': ${e}`);return new j0({lastRound:e["last-round"],txnGroups:e["txn-groups"].map(T0.from_obj_for_encoding),version:e.version,evalOverrides:typeof e["eval-overrides"]<"u"?F0.from_obj_for_encoding(e["eval-overrides"]):void 0,execTraceConfig:typeof e["exec-trace-config"]<"u"?Fd.from_obj_for_encoding(e["exec-trace-config"]):void 0,initialStates:typeof e["initial-states"]<"u"?C0.from_obj_for_encoding(e["initial-states"]):void 0})}}class Fd extends Ve{constructor({enable:e,scratchChange:n,stackChange:r,stateChange:i}){super(),this.enable=e,this.scratchChange=n,this.stackChange=r,this.stateChange=i,this.attribute_map={enable:"enable",scratchChange:"scratch-change",stackChange:"stack-change",stateChange:"state-change"}}static from_obj_for_encoding(e){return new Fd({enable:e.enable,scratchChange:e["scratch-change"],stackChange:e["stack-change"],stateChange:e["state-change"]})}}class T0 extends Ve{constructor({txnResults:e,appBudgetAdded:n,appBudgetConsumed:r,failedAt:i,failureMessage:s,unnamedResourcesAccessed:o}){super(),this.txnResults=e,this.appBudgetAdded=n,this.appBudgetConsumed=r,this.failedAt=i,this.failureMessage=s,this.unnamedResourcesAccessed=o,this.attribute_map={txnResults:"txn-results",appBudgetAdded:"app-budget-added",appBudgetConsumed:"app-budget-consumed",failedAt:"failed-at",failureMessage:"failure-message",unnamedResourcesAccessed:"unnamed-resources-accessed"}}static from_obj_for_encoding(e){if(!Array.isArray(e["txn-results"]))throw new Error(`Response is missing required array field 'txn-results': ${e}`);return new T0({txnResults:e["txn-results"].map(P0.from_obj_for_encoding),appBudgetAdded:e["app-budget-added"],appBudgetConsumed:e["app-budget-consumed"],failedAt:e["failed-at"],failureMessage:e["failure-message"],unnamedResourcesAccessed:typeof e["unnamed-resources-accessed"]<"u"?Nd.from_obj_for_encoding(e["unnamed-resources-accessed"]):void 0})}}class P0 extends Ve{constructor({txnResult:e,appBudgetConsumed:n,execTrace:r,fixedSigner:i,logicSigBudgetConsumed:s,unnamedResourcesAccessed:o}){super(),this.txnResult=e,this.appBudgetConsumed=n,this.execTrace=r,this.fixedSigner=i,this.logicSigBudgetConsumed=s,this.unnamedResourcesAccessed=o,this.attribute_map={txnResult:"txn-result",appBudgetConsumed:"app-budget-consumed",execTrace:"exec-trace",fixedSigner:"fixed-signer",logicSigBudgetConsumed:"logic-sig-budget-consumed",unnamedResourcesAccessed:"unnamed-resources-accessed"}}static from_obj_for_encoding(e){if(typeof e["txn-result"]>"u")throw new Error(`Response is missing required field 'txn-result': ${e}`);return new P0({txnResult:ud.from_obj_for_encoding(e["txn-result"]),appBudgetConsumed:e["app-budget-consumed"],execTrace:typeof e["exec-trace"]<"u"?dd.from_obj_for_encoding(e["exec-trace"]):void 0,fixedSigner:e["fixed-signer"],logicSigBudgetConsumed:e["logic-sig-budget-consumed"],unnamedResourcesAccessed:typeof e["unnamed-resources-accessed"]<"u"?Nd.from_obj_for_encoding(e["unnamed-resources-accessed"]):void 0})}}class Nd extends Ve{constructor({accounts:e,appLocals:n,apps:r,assetHoldings:i,assets:s,boxes:o,extraBoxRefs:l}){super(),this.accounts=e,this.appLocals=n,this.apps=r,this.assetHoldings=i,this.assets=s,this.boxes=o,this.extraBoxRefs=l,this.attribute_map={accounts:"accounts",appLocals:"app-locals",apps:"apps",assetHoldings:"asset-holdings",assets:"assets",boxes:"boxes",extraBoxRefs:"extra-box-refs"}}static from_obj_for_encoding(e){return new Nd({accounts:e.accounts,appLocals:typeof e["app-locals"]<"u"?e["app-locals"].map(u0.from_obj_for_encoding):void 0,apps:e.apps,assetHoldings:typeof e["asset-holdings"]<"u"?e["asset-holdings"].map(p0.from_obj_for_encoding):void 0,assets:e.assets,boxes:typeof e.boxes<"u"?e.boxes.map(x0.from_obj_for_encoding):void 0,extraBoxRefs:e["extra-box-refs"]})}}class F0 extends Ve{constructor({allowEmptySignatures:e,allowUnnamedResources:n,extraOpcodeBudget:r,fixSigners:i,maxLogCalls:s,maxLogSize:o}){super(),this.allowEmptySignatures=e,this.allowUnnamedResources=n,this.extraOpcodeBudget=r,this.fixSigners=i,this.maxLogCalls=s,this.maxLogSize=o,this.attribute_map={allowEmptySignatures:"allow-empty-signatures",allowUnnamedResources:"allow-unnamed-resources",extraOpcodeBudget:"extra-opcode-budget",fixSigners:"fix-signers",maxLogCalls:"max-log-calls",maxLogSize:"max-log-size"}}static from_obj_for_encoding(e){return new F0({allowEmptySignatures:e["allow-empty-signatures"],allowUnnamedResources:e["allow-unnamed-resources"],extraOpcodeBudget:e["extra-opcode-budget"],fixSigners:e["fix-signers"],maxLogCalls:e["max-log-calls"],maxLogSize:e["max-log-size"]})}}class Yl extends Ve{constructor({pc:e,scratchChanges:n,spawnedInners:r,stackAdditions:i,stackPopCount:s,stateChanges:o}){super(),this.pc=e,this.scratchChanges=n,this.spawnedInners=r,this.stackAdditions=i,this.stackPopCount=s,this.stateChanges=o,this.attribute_map={pc:"pc",scratchChanges:"scratch-changes",spawnedInners:"spawned-inners",stackAdditions:"stack-additions",stackPopCount:"stack-pop-count",stateChanges:"state-changes"}}static from_obj_for_encoding(e){if(typeof e.pc>"u")throw new Error(`Response is missing required field 'pc': ${e}`);return new Yl({pc:e.pc,scratchChanges:typeof e["scratch-changes"]<"u"?e["scratch-changes"].map(A0.from_obj_for_encoding):void 0,spawnedInners:e["spawned-inners"],stackAdditions:typeof e["stack-additions"]<"u"?e["stack-additions"].map(Ka.from_obj_for_encoding):void 0,stackPopCount:e["stack-pop-count"],stateChanges:typeof e["state-changes"]<"u"?e["state-changes"].map(h0.from_obj_for_encoding):void 0})}}class dd extends Ve{constructor({approvalProgramHash:e,approvalProgramTrace:n,clearStateProgramHash:r,clearStateProgramTrace:i,clearStateRollback:s,clearStateRollbackError:o,innerTrace:l,logicSigHash:u,logicSigTrace:h}){super(),this.approvalProgramHash=typeof e=="string"?new Uint8Array(Se.Buffer.from(e,"base64")):e,this.approvalProgramTrace=n,this.clearStateProgramHash=typeof r=="string"?new Uint8Array(Se.Buffer.from(r,"base64")):r,this.clearStateProgramTrace=i,this.clearStateRollback=s,this.clearStateRollbackError=o,this.innerTrace=l,this.logicSigHash=typeof u=="string"?new Uint8Array(Se.Buffer.from(u,"base64")):u,this.logicSigTrace=h,this.attribute_map={approvalProgramHash:"approval-program-hash",approvalProgramTrace:"approval-program-trace",clearStateProgramHash:"clear-state-program-hash",clearStateProgramTrace:"clear-state-program-trace",clearStateRollback:"clear-state-rollback",clearStateRollbackError:"clear-state-rollback-error",innerTrace:"inner-trace",logicSigHash:"logic-sig-hash",logicSigTrace:"logic-sig-trace"}}static from_obj_for_encoding(e){return new dd({approvalProgramHash:e["approval-program-hash"],approvalProgramTrace:typeof e["approval-program-trace"]<"u"?e["approval-program-trace"].map(Yl.from_obj_for_encoding):void 0,clearStateProgramHash:e["clear-state-program-hash"],clearStateProgramTrace:typeof e["clear-state-program-trace"]<"u"?e["clear-state-program-trace"].map(Yl.from_obj_for_encoding):void 0,clearStateRollback:e["clear-state-rollback"],clearStateRollbackError:e["clear-state-rollback-error"],innerTrace:typeof e["inner-trace"]<"u"?e["inner-trace"].map(dd.from_obj_for_encoding):void 0,logicSigHash:e["logic-sig-hash"],logicSigTrace:typeof e["logic-sig-trace"]<"u"?e["logic-sig-trace"].map(Yl.from_obj_for_encoding):void 0})}}let RD=class H4 extends Ve{constructor({message:e,stateproof:n}){super(),this.message=e,this.stateproof=typeof n=="string"?new Uint8Array(Se.Buffer.from(n,"base64")):n,this.attribute_map={message:"Message",stateproof:"StateProof"}}static from_obj_for_encoding(e){if(typeof e.Message>"u")throw new Error(`Response is missing required field 'Message': ${e}`);if(typeof e.StateProof>"u")throw new Error(`Response is missing required field 'StateProof': ${e}`);return new H4({message:N0.from_obj_for_encoding(e.Message),stateproof:e.StateProof})}};class N0 extends Ve{constructor({blockheaderscommitment:e,firstattestedround:n,lastattestedround:r,lnprovenweight:i,voterscommitment:s}){super(),this.blockheaderscommitment=typeof e=="string"?new Uint8Array(Se.Buffer.from(e,"base64")):e,this.firstattestedround=n,this.lastattestedround=r,this.lnprovenweight=i,this.voterscommitment=typeof s=="string"?new Uint8Array(Se.Buffer.from(s,"base64")):s,this.attribute_map={blockheaderscommitment:"BlockHeadersCommitment",firstattestedround:"FirstAttestedRound",lastattestedround:"LastAttestedRound",lnprovenweight:"LnProvenWeight",voterscommitment:"VotersCommitment"}}static from_obj_for_encoding(e){if(typeof e.BlockHeadersCommitment>"u")throw new Error(`Response is missing required field 'BlockHeadersCommitment': ${e}`);if(typeof e.FirstAttestedRound>"u")throw new Error(`Response is missing required field 'FirstAttestedRound': ${e}`);if(typeof e.LastAttestedRound>"u")throw new Error(`Response is missing required field 'LastAttestedRound': ${e}`);if(typeof e.LnProvenWeight>"u")throw new Error(`Response is missing required field 'LnProvenWeight': ${e}`);if(typeof e.VotersCommitment>"u")throw new Error(`Response is missing required field 'VotersCommitment': ${e}`);return new N0({blockheaderscommitment:e.BlockHeadersCommitment,firstattestedround:e.FirstAttestedRound,lastattestedround:e.LastAttestedRound,lnprovenweight:e.LnProvenWeight,voterscommitment:e.VotersCommitment})}}class I1 extends Ve{constructor({currentRound:e,onlineMoney:n,totalMoney:r}){super(),this.currentRound=e,this.onlineMoney=n,this.totalMoney=r,this.attribute_map={currentRound:"current_round",onlineMoney:"online-money",totalMoney:"total-money"}}static from_obj_for_encoding(e){if(typeof e.current_round>"u")throw new Error(`Response is missing required field 'current_round': ${e}`);if(typeof e["online-money"]>"u")throw new Error(`Response is missing required field 'online-money': ${e}`);if(typeof e["total-money"]>"u")throw new Error(`Response is missing required field 'total-money': ${e}`);return new I1({currentRound:e.current_round,onlineMoney:e["online-money"],totalMoney:e["total-money"]})}}let L1=class W4 extends Ve{constructor({key:e,value:n}){super(),this.key=e,this.value=n,this.attribute_map={key:"key",value:"value"}}static from_obj_for_encoding(e){if(typeof e.key>"u")throw new Error(`Response is missing required field 'key': ${e}`);if(typeof e.value>"u")throw new Error(`Response is missing required field 'value': ${e}`);return new W4({key:e.key,value:dp.from_obj_for_encoding(e.value)})}},dp=class K4 extends Ve{constructor({type:e,bytes:n,uint:r}){super(),this.type=e,this.bytes=n,this.uint=r,this.attribute_map={type:"type",bytes:"bytes",uint:"uint"}}static from_obj_for_encoding(e){if(typeof e.type>"u")throw new Error(`Response is missing required field 'type': ${e}`);if(typeof e.bytes>"u")throw new Error(`Response is missing required field 'bytes': ${e}`);if(typeof e.uint>"u")throw new Error(`Response is missing required field 'uint': ${e}`);return new K4({type:e.type,bytes:e.bytes,uint:e.uint})}};class R0 extends Ve{constructor({deltas:e}){super(),this.deltas=e,this.attribute_map={deltas:"Deltas"}}static from_obj_for_encoding(e){if(!Array.isArray(e.Deltas))throw new Error(`Response is missing required array field 'Deltas': ${e}`);return new R0({deltas:e.Deltas.map(E0.from_obj_for_encoding)})}}class M1 extends Ve{constructor({consensusVersion:e,fee:n,genesisHash:r,genesisId:i,lastRound:s,minFee:o}){super(),this.consensusVersion=e,this.fee=n,this.genesisHash=typeof r=="string"?new Uint8Array(Se.Buffer.from(r,"base64")):r,this.genesisId=i,this.lastRound=s,this.minFee=o,this.attribute_map={consensusVersion:"consensus-version",fee:"fee",genesisHash:"genesis-hash",genesisId:"genesis-id",lastRound:"last-round",minFee:"min-fee"}}static from_obj_for_encoding(e){if(typeof e["consensus-version"]>"u")throw new Error(`Response is missing required field 'consensus-version': ${e}`);if(typeof e.fee>"u")throw new Error(`Response is missing required field 'fee': ${e}`);if(typeof e["genesis-hash"]>"u")throw new Error(`Response is missing required field 'genesis-hash': ${e}`);if(typeof e["genesis-id"]>"u")throw new Error(`Response is missing required field 'genesis-id': ${e}`);if(typeof e["last-round"]>"u")throw new Error(`Response is missing required field 'last-round': ${e}`);if(typeof e["min-fee"]>"u")throw new Error(`Response is missing required field 'min-fee': ${e}`);return new M1({consensusVersion:e["consensus-version"],fee:e.fee,genesisHash:e["genesis-hash"],genesisId:e["genesis-id"],lastRound:e["last-round"],minFee:e["min-fee"]})}}class O1 extends Ve{constructor({idx:e,proof:n,stibhash:r,treedepth:i,hashtype:s}){super(),this.idx=e,this.proof=typeof n=="string"?new Uint8Array(Se.Buffer.from(n,"base64")):n,this.stibhash=typeof r=="string"?new Uint8Array(Se.Buffer.from(r,"base64")):r,this.treedepth=i,this.hashtype=s,this.attribute_map={idx:"idx",proof:"proof",stibhash:"stibhash",treedepth:"treedepth",hashtype:"hashtype"}}static from_obj_for_encoding(e){if(typeof e.idx>"u")throw new Error(`Response is missing required field 'idx': ${e}`);if(typeof e.proof>"u")throw new Error(`Response is missing required field 'proof': ${e}`);if(typeof e.stibhash>"u")throw new Error(`Response is missing required field 'stibhash': ${e}`);if(typeof e.treedepth>"u")throw new Error(`Response is missing required field 'treedepth': ${e}`);return new O1({idx:e.idx,proof:e.proof,stibhash:e.stibhash,treedepth:e.treedepth,hashtype:e.hashtype})}}class $1 extends Ve{constructor({build:e,genesisHashB64:n,genesisId:r,versions:i}){super(),this.build=e,this.genesisHashB64=typeof n=="string"?new Uint8Array(Se.Buffer.from(n,"base64")):n,this.genesisId=r,this.versions=i,this.attribute_map={build:"build",genesisHashB64:"genesis_hash_b64",genesisId:"genesis_id",versions:"versions"}}static from_obj_for_encoding(e){if(typeof e.build>"u")throw new Error(`Response is missing required field 'build': ${e}`);if(typeof e.genesis_hash_b64>"u")throw new Error(`Response is missing required field 'genesis_hash_b64': ${e}`);if(typeof e.genesis_id>"u")throw new Error(`Response is missing required field 'genesis_id': ${e}`);if(!Array.isArray(e.versions))throw new Error(`Response is missing required array field 'versions': ${e}`);return new $1({build:y0.from_obj_for_encoding(e.build),genesisHashB64:e.genesis_hash_b64,genesisId:e.genesis_id,versions:e.versions})}}const BD=Object.freeze(Object.defineProperty({__proto__:null,Account:b4,AccountApplicationResponse:w1,AccountAssetHolding:o0,AccountAssetResponse:b1,AccountAssetsInformationResponse:_1,AccountParticipation:S4,AccountStateDelta:S1,AppCallLogs:a0,Application:l0,ApplicationInitialStates:c0,ApplicationKVStorage:Zl,ApplicationLocalReference:u0,ApplicationLocalState:k1,ApplicationParams:d0,ApplicationStateOperation:h0,ApplicationStateSchema:Ia,Asset:P4,AssetHolding:f0,AssetHoldingReference:p0,AssetParams:m0,AvmKeyValue:g0,AvmValue:Ka,BlockHashResponse:E1,BlockLogsResponse:A1,BlockResponse:C1,BlockTxidsResponse:j1,Box:B4,BoxDescriptor:I4,BoxReference:x0,BoxesResponse:M4,BuildVersion:y0,CompileResponse:T1,DisassembleResponse:P1,DryrunRequest:v0,DryrunResponse:F1,DryrunSource:w0,DryrunState:cd,DryrunTxnResult:b0,ErrorResponse:FD,EvalDelta:U4,EvalDeltaKeyValue:_0,GetBlockTimeStampOffsetResponse:S0,GetSyncRoundResponse:k0,KvDelta:N1,LedgerStateDeltaForTransactionGroup:E0,LightBlockHeaderProof:ND,NodeStatusResponse:R1,PendingTransactionResponse:ud,PendingTransactionsResponse:B1,PostTransactionsResponse:D1,ScratchChange:A0,SimulateInitialStates:C0,SimulateRequest:Pd,SimulateRequestTransactionGroup:Ec,SimulateResponse:j0,SimulateTraceConfig:Fd,SimulateTransactionGroupResult:T0,SimulateTransactionResult:P0,SimulateUnnamedResourcesAccessed:Nd,SimulationEvalOverrides:F0,SimulationOpcodeTraceUnit:Yl,SimulationTransactionExecTrace:dd,StateProof:RD,StateProofMessage:N0,SupplyResponse:I1,TealKeyValue:L1,TealValue:dp,TransactionGroupLedgerStateDeltasForRoundResponse:R0,TransactionParametersResponse:M1,TransactionProofResponse:O1,Version:$1},Symbol.toStringTag,{value:"Module"}));class kt{constructor(e,n){this.c=e,this.query={},this.intDecoding=n||i0.DEFAULT}prepare(e){return e}async do(e={}){const n={};this.intDecoding!=="default"&&(n.intDecoding=this.intDecoding);const r=await this.c.get(this.path(),this.query,e,n);return this.prepare(r.body)}async doRaw(e={}){return(await this.c.get(this.path(),this.query,e,{},!1)).body}setIntDecoding(e){if(e!=="default"&&e!=="safe"&&e!=="mixed"&&e!=="bigint")throw new Error(`Invalid method for int decoding: ${e}`);return this.intDecoding=e,this}}class DD extends kt{constructor(e,n,r){super(e,n),this.account=r,this.account=r}path(){return`/v2/accounts/${this.account}`}exclude(e){return this.query.exclude=e,this}}class ID extends kt{constructor(e,n,r,i){super(e,n),this.account=r,this.assetID=i,this.account=r,this.assetID=i}path(){return`/v2/accounts/${this.account}/assets/${this.assetID}`}}class LD extends kt{constructor(e,n,r,i){super(e,n),this.account=r,this.applicationID=i,this.account=r,this.applicationID=i}path(){return`/v2/accounts/${this.account}/applications/${this.applicationID}`}}let MD=class extends kt{constructor(e,n){if(super(e),!Number.isInteger(n))throw Error("roundNumber should be an integer");this.round=n,this.query={format:"msgpack"}}path(){return`/v2/blocks/${this.round}`}headerOnly(e){return this.query["header-only"]=e,this}prepare(e){if(e&&e.byteLength>0)return pr(e)}};function G4(t={}){let e=t;return Object.keys(e).every(n=>n.toLowerCase()!=="content-type")&&(e={...t},e["Content-Type"]="text/plain"),e}class OD extends kt{constructor(e,n){super(e),this.source=n,this.source=n}path(){return"/v2/teal/compile"}sourcemap(e=!0){return this.query.sourcemap=e,this}async do(e={}){const n=G4(e);return(await this.c.post(this.path(),Se.Buffer.from(this.source),n,this.query)).body}}class $D extends kt{constructor(e,n){super(e),this.blob=Pr(n.get_obj_for_encoding(!0))}path(){return"/v2/teal/dryrun"}async do(e={}){const n=G4(e);return(await this.c.post(this.path(),Se.Buffer.from(this.blob),n)).body}}class UD extends kt{path(){return"/genesis"}}class zD extends kt{constructor(e,n,r){super(e,n),this.index=r,this.index=r}path(){return`/v2/assets/${this.index}`}}class qD extends kt{constructor(e,n,r){super(e,n),this.index=r,this.index=r}path(){return`/v2/applications/${this.index}`}}class VD extends kt{constructor(e,n,r){if(super(e,n),!Number.isInteger(r))throw Error("roundNumber should be an integer");this.round=r}path(){return`/v2/blocks/${this.round}/hash`}}class HD extends kt{constructor(e,n,r){if(super(e,n),!Number.isInteger(r))throw Error("roundNumber should be an integer");this.round=r}path(){return`/v2/blocks/${this.round}/txids`}}class WD extends kt{constructor(e,n,r,i){super(e,n),this.index=r,this.index=r;const s=Se.Buffer.from(i).toString("base64");this.query.name=encodeURI(`b64:${s}`)}path(){return`/v2/applications/${this.index}/box`}prepare(e){return B4.from_obj_for_encoding(e)}}class KD extends kt{constructor(e,n,r){super(e,n),this.index=r,this.index=r,this.query.max=0}path(){return`/v2/applications/${this.index}/boxes`}max(e){return this.query.max=e,this}prepare(e){return M4.from_obj_for_encoding(e)}}let GD=class extends kt{path(){return"/health"}async do(e={}){const n=await this.c.get(this.path(),{},e);if(!n.ok)throw new Error(`Health response: ${n.status}`);return{}}};class ZD extends kt{constructor(e,n){super(e),this.txid=n,this.txid=n,this.query.format="msgpack"}prepare(e){if(e&&e.byteLength>0)return pr(e)}path(){return`/v2/transactions/pending/${this.txid}`}max(e){return this.query.max=e,this}}class YD extends kt{constructor(e){super(e),this.query.format="msgpack"}path(){return"/v2/transactions/pending"}prepare(e){if(e&&e.byteLength>0)return pr(e)}max(e){return this.query.max=e,this}}class XD extends kt{constructor(e,n){super(e),this.address=n,this.address=n,this.query.format="msgpack"}prepare(e){if(e&&e.byteLength>0)return pr(e)}path(){return`/v2/accounts/${this.address}/transactions/pending`}max(e){return this.query.max=e,this}}class JD extends kt{constructor(e,n,r,i){super(e,n),this.round=r,this.txID=i,this.round=r,this.txID=i}path(){return`/v2/blocks/${this.round}/transactions/${this.txID}/proof`}hashType(e){return this.query.hashtype=e,this}}function QD(t={}){let e=t;return Object.keys(e).every(n=>n.toLowerCase()!=="content-type")&&(e={...t},e["Content-Type"]="application/x-binary"),e}function bS(t){return t&&t.byteLength!==void 0}class eI extends kt{constructor(e,n){super(e);let r=n;if(Array.isArray(n)){if(!n.every(bS))throw new TypeError("Array elements must be byte arrays");r=ar(...n)}else if(!bS(r))throw new TypeError("Argument must be byte array");this.txnBytesToPost=r}path(){return"/v2/transactions"}async do(e={}){const n=QD(e);return(await this.c.post(this.path(),Se.Buffer.from(this.txnBytesToPost),n)).body}}class tI extends kt{path(){return"/v2/status"}}class nI extends kt{constructor(e,n,r){if(super(e,n),this.round=r,!Number.isInteger(r))throw Error("round should be an integer");this.round=r}path(){return`/v2/status/wait-for-block-after/${this.round}`}}class rI extends kt{path(){return"/v2/transactions/params"}prepare(e){return{flatFee:!1,fee:e.fee,firstRound:e["last-round"],lastRound:e["last-round"]+1e3,genesisID:e["genesis-id"],genesisHash:e["genesis-hash"],minFee:e["min-fee"]}}}class iI extends kt{path(){return"/v2/ledger/supply"}}class sI extends kt{path(){return"/versions"}}class oI extends kt{constructor(e,n,r){super(e,n),this.round=r,this.round=r}path(){return`/v2/blocks/${this.round}/lightheader/proof`}}class aI extends kt{constructor(e,n,r){super(e,n),this.round=r,this.round=r}path(){return`/v2/stateproofs/${this.round}`}}class lI extends kt{constructor(e,n,r){super(e,n),this.round=r,this.round=r}path(){return`/v2/ledger/sync/${this.round}`}async do(e={}){return(await this.c.post(this.path(),e)).body}}class cI extends kt{path(){return"/v2/ledger/sync"}prepare(e){return k0.from_obj_for_encoding(e)}}class uI extends kt{constructor(e,n,r){super(e,n),this.offset=r,this.offset=r}path(){return`/v2/devmode/blocks/offset/${this.offset}`}async do(e={}){return(await this.c.post(this.path(),e)).body}}class dI extends kt{path(){return"/v2/devmode/blocks/offset"}prepare(e){return S0.from_obj_for_encoding(e)}}function hI(t={}){let e=t;return Object.keys(e).every(n=>n.toLowerCase()!=="content-type")&&(e={...t},e["Content-Type"]="text/plain"),e}class fI extends kt{constructor(e,n){super(e),this.source=n,this.source=n}path(){return"/v2/teal/disassemble"}async do(e={}){const n=hI(e);return(await this.c.post(this.path(),Se.Buffer.from(this.source),n,this.query)).body}}function pI(t={}){let e=t;return Object.keys(e).every(n=>n.toLowerCase()!=="content-type")&&(e={...t},e["Content-Type"]="application/msgpack"),e}class mI extends kt{constructor(e,n){super(e),this.query.format="msgpack",this.requestBytes=x4(n.get_obj_for_encoding(!0))}path(){return"/v2/transactions/simulate"}async do(e={}){const n=pI(e),r=await this.c.post(this.path(),Se.Buffer.from(this.requestBytes),n,this.query,!1);return this.prepare(r.body)}prepare(e){const n=pr(e);return j0.from_obj_for_encoding(n)}}class gI extends kt{path(){return"/ready"}}class xI extends kt{path(){return"/v2/ledger/sync"}async do(e={}){return(await this.c.delete(this.path(),e)).body}}class yI extends kt{constructor(e,n,r){super(e,n),this.id=r,this.id=r,this.query={format:"json"}}path(){return`/v2/deltas/txn/group/${this.id}`}}class vI extends kt{constructor(e,n,r){super(e,n),this.round=r,this.round=r,this.query={format:"json"}}path(){return`/v2/deltas/${this.round}`}}class wI extends kt{constructor(e,n,r){super(e,n),this.round=r,this.round=r,this.query={format:"json"}}path(){return`/v2/deltas/${this.round}/txn/group`}prepare(e){return R0.from_obj_for_encoding(e)}}class bI extends v1{constructor(e,n,r,i={}){super("X-Algo-API-Token",e,n,r,i)}healthCheck(){return new GD(this.c)}versionsCheck(){return new sI(this.c)}sendRawTransaction(e){return new eI(this.c,e)}accountInformation(e){return new DD(this.c,this.intDecoding,e)}accountAssetInformation(e,n){return new ID(this.c,this.intDecoding,e,n)}accountApplicationInformation(e,n){return new LD(this.c,this.intDecoding,e,n)}block(e){return new MD(this.c,e)}getBlockHash(e){return new VD(this.c,this.intDecoding,e)}getBlockTxids(e){return new HD(this.c,this.intDecoding,e)}pendingTransactionInformation(e){return new ZD(this.c,e)}pendingTransactionsInformation(){return new YD(this.c)}pendingTransactionByAddress(e){return new XD(this.c,e)}status(){return new tI(this.c,this.intDecoding)}statusAfterBlock(e){return new nI(this.c,this.intDecoding,e)}getTransactionParams(){return new rI(this.c)}supply(){return new iI(this.c,this.intDecoding)}compile(e){return new OD(this.c,e)}disassemble(e){return new fI(this.c,e)}dryrun(e){return new $D(this.c,e)}getAssetByID(e){return new zD(this.c,this.intDecoding,e)}getApplicationByID(e){return new qD(this.c,this.intDecoding,e)}getApplicationBoxByName(e,n){return new WD(this.c,this.intDecoding,e,n)}getApplicationBoxes(e){return new KD(this.c,this.intDecoding,e)}genesis(){return new UD(this.c,this.intDecoding)}getTransactionProof(e,n){return new JD(this.c,this.intDecoding,e,n)}getLightBlockHeaderProof(e){return new oI(this.c,this.intDecoding,e)}getStateProof(e){return new aI(this.c,this.intDecoding,e)}simulateRawTransactions(e){const n=[];if(Array.isArray(e))for(const i of e)n.push(pr(i));else n.push(pr(e));const r=new Pd({txnGroups:[new Ec({txns:n})]});return this.simulateTransactions(r)}simulateTransactions(e){return new mI(this.c,e)}setBlockOffsetTimestamp(e){return new uI(this.c,this.intDecoding,e)}getBlockOffsetTimestamp(){return new dI(this.c,this.intDecoding)}setSyncRound(e){return new lI(this.c,this.intDecoding,e)}unsetSyncRound(){return new xI(this.c,this.intDecoding)}getSyncRound(){return new cI(this.c,this.intDecoding)}ready(){return new gI(this.c,this.intDecoding)}getLedgerStateDeltaForTransactionGroup(e){return new yI(this.c,this.intDecoding,e)}getLedgerStateDelta(e){return new vI(this.c,this.intDecoding,e)}getTransactionGroupLedgerStateDeltasForRound(e){return new wI(this.c,this.intDecoding,e)}}class _I extends v1{constructor(e,n="http://127.0.0.1",r=7833,i={}){super("X-KMD-API-Token",e,n,r,i)}async versions(){return(await this.c.get("/versions")).body}async listWallets(){return(await this.c.get("/v1/wallets")).body}async createWallet(e,n,r=new Uint8Array,i="sqlite"){const s={wallet_name:e,wallet_driver_name:i,wallet_password:n,master_derivation_key:Se.Buffer.from(r).toString("base64")};return(await this.c.post("/v1/wallet",s)).body}async initWalletHandle(e,n){const r={wallet_id:e,wallet_password:n};return(await this.c.post("/v1/wallet/init",r)).body}async releaseWalletHandle(e){const n={wallet_handle_token:e};return(await this.c.post("/v1/wallet/release",n)).body}async renewWalletHandle(e){const n={wallet_handle_token:e};return(await this.c.post("/v1/wallet/renew",n)).body}async renameWallet(e,n,r){const i={wallet_id:e,wallet_password:n,wallet_name:r};return(await this.c.post("/v1/wallet/rename",i)).body}async getWallet(e){const n={wallet_handle_token:e};return(await this.c.post("/v1/wallet/info",n)).body}async exportMasterDerivationKey(e,n){const r={wallet_handle_token:e,wallet_password:n},i=await this.c.post("/v1/master-key/export",r);return{master_derivation_key:Se.Buffer.from(i.body.master_derivation_key,"base64")}}async importKey(e,n){const r={wallet_handle_token:e,private_key:Se.Buffer.from(n).toString("base64")};return(await this.c.post("/v1/key/import",r)).body}async exportKey(e,n,r){const i={wallet_handle_token:e,address:r,wallet_password:n},s=await this.c.post("/v1/key/export",i);return{private_key:Se.Buffer.from(s.body.private_key,"base64")}}async generateKey(e){const n={wallet_handle_token:e,display_mnemonic:!1};return(await this.c.post("/v1/key",n)).body}async deleteKey(e,n,r){const i={wallet_handle_token:e,address:r,wallet_password:n};return(await this.c.delete("/v1/key",i)).body}async listKeys(e){const n={wallet_handle_token:e};return(await this.c.post("/v1/key/list",n)).body}async signTransaction(e,n,r){const i=Po(r),s={wallet_handle_token:e,wallet_password:n,transaction:Se.Buffer.from(i.toByte()).toString("base64")},o=await this.c.post("/v1/transaction/sign",s);return o.status===200?Se.Buffer.from(o.body.signed_transaction,"base64"):o.body}async signTransactionWithSpecificPublicKey(e,n,r,i){const s=Po(r),o={wallet_handle_token:e,wallet_password:n,transaction:Se.Buffer.from(s.toByte()).toString("base64"),public_key:Se.Buffer.from(i).toString("base64")},l=await this.c.post("/v1/transaction/sign",o);return l.status===200?Se.Buffer.from(l.body.signed_transaction,"base64"):l.body}async listMultisig(e){const n={wallet_handle_token:e};return(await this.c.post("/v1/multisig/list",n)).body}async importMultisig(e,n,r,i){const s={wallet_handle_token:e,multisig_version:n,threshold:r,pks:i};return(await this.c.post("/v1/multisig/import",s)).body}async exportMultisig(e,n){const r={wallet_handle_token:e,address:n};return(await this.c.post("/v1/multisig/export",r)).body}async signMultisigTransaction(e,n,r,i,s){const o=Po(r),l={wallet_handle_token:e,transaction:Se.Buffer.from(o.toByte()).toString("base64"),public_key:Se.Buffer.from(i).toString("base64"),partial_multisig:s,wallet_password:n};return(await this.c.post("/v1/multisig/sign",l)).body}async deleteMultisig(e,n,r){const i={wallet_handle_token:e,address:r,wallet_password:n};return(await this.c.delete("/v1/multisig",i)).body}}class SI extends kt{path(){return"/health"}}class kI extends kt{constructor(e,n,r){super(e,n),this.index=r,this.index=r}path(){return`/v2/assets/${this.index}/balances`}limit(e){return this.query.limit=e,this}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}}function U1(t){return typeof t=="string"?t:Se.Buffer.from(t).toString("base64")}class EI extends kt{constructor(e,n,r){super(e,n),this.account=r,this.account=r}path(){return`/v2/accounts/${this.account}/transactions`}notePrefix(e){return this.query["note-prefix"]=U1(e),this}txType(e){return this.query["tx-type"]=e,this}sigType(e){return this.query["sig-type"]=e,this}txid(e){return this.query.txid=e,this}round(e){return this.query.round=e,this}minRound(e){return this.query["min-round"]=e,this}maxRound(e){return this.query["max-round"]=e,this}assetID(e){return this.query["asset-id"]=e,this}limit(e){return this.query.limit=e,this}beforeTime(e){return this.query["before-time"]=e,this}afterTime(e){return this.query["after-time"]=e,this}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}nextToken(e){return this.query.next=e,this}rekeyTo(e){return this.query["rekey-to"]=e,this}}class AI extends kt{constructor(e,n,r){super(e,n),this.index=r,this.index=r}path(){return`/v2/assets/${this.index}/transactions`}notePrefix(e){return this.query["note-prefix"]=U1(e),this}txType(e){return this.query["tx-type"]=e,this}sigType(e){return this.query["sig-type"]=e,this}txid(e){return this.query.txid=e,this}round(e){return this.query.round=e,this}minRound(e){return this.query["min-round"]=e,this}maxRound(e){return this.query["max-round"]=e,this}limit(e){return this.query.limit=e,this}beforeTime(e){return this.query["before-time"]=e,this}afterTime(e){return this.query["after-time"]=e,this}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}addressRole(e){return this.query["address-role"]=e,this}address(e){return this.query.address=e,this}excludeCloseTo(e){return this.query["exclude-close-to"]=e,this}nextToken(e){return this.query.next=e,this}rekeyTo(e){return this.query["rekey-to"]=e,this}}class CI extends kt{constructor(e,n,r){super(e,n),this.round=r,this.round=r}path(){return`/v2/blocks/${this.round}`}headerOnly(e){return this.query["header-only"]=e,this}}class jI extends kt{constructor(e,n,r){super(e,n),this.txID=r,this.txID=r}path(){return`/v2/transactions/${this.txID}`}}class TI extends kt{constructor(e,n,r){super(e,n),this.account=r,this.account=r}path(){return`/v2/accounts/${this.account}`}round(e){return this.query.round=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}exclude(e){return this.query.exclude=e,this}}class PI extends kt{constructor(e,n,r){super(e,n),this.account=r,this.account=r}path(){return`/v2/accounts/${this.account}/assets`}limit(e){return this.query.limit=e,this}round(e){return this.query.round=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}assetId(e){return this.query["asset-id"]=e,this}}class FI extends kt{constructor(e,n,r){super(e,n),this.account=r,this.account=r}path(){return`/v2/accounts/${this.account}/created-assets`}limit(e){return this.query.limit=e,this}round(e){return this.query.round=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}assetID(e){return this.query["asset-id"]=e,this}}class NI extends kt{constructor(e,n,r){super(e,n),this.account=r,this.account=r}path(){return`/v2/accounts/${this.account}/apps-local-state`}limit(e){return this.query.limit=e,this}round(e){return this.query.round=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}applicationID(e){return this.query["application-id"]=e,this}}class RI extends kt{constructor(e,n,r){super(e,n),this.account=r,this.account=r}path(){return`/v2/accounts/${this.account}/created-applications`}limit(e){return this.query.limit=e,this}round(e){return this.query.round=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}applicationID(e){return this.query["application-id"]=e,this}}class BI extends kt{constructor(e,n,r){super(e,n),this.index=r,this.index=r}path(){return`/v2/assets/${this.index}`}includeAll(e=!0){return this.query["include-all"]=e,this}}class DI extends kt{constructor(e,n,r){super(e,n),this.index=r,this.index=r}path(){return`/v2/applications/${this.index}`}includeAll(e=!0){return this.query["include-all"]=e,this}}class II extends kt{constructor(e,n,r){super(e,n),this.appID=r,this.appID=r}path(){return`/v2/applications/${this.appID}/logs`}limit(e){return this.query.limit=e,this}minRound(e){return this.query["min-round"]=e,this}maxRound(e){return this.query["max-round"]=e,this}nextToken(e){return this.query.next=e,this}sender(e){return this.query["sender-address"]=e,this}txid(e){return this.query.txid=e,this}}class Rd extends Ve{constructor({address:e,amount:n,amountWithoutPendingRewards:r,minBalance:i,pendingRewards:s,rewards:o,round:l,status:u,totalAppsOptedIn:h,totalAssetsOptedIn:f,totalBoxBytes:p,totalBoxes:g,totalCreatedApps:y,totalCreatedAssets:_,appsLocalState:w,appsTotalExtraPages:b,appsTotalSchema:k,assets:x,authAddr:v,closedAtRound:C,createdApps:F,createdAssets:j,createdAtRound:R,deleted:z,incentiveEligible:Q,lastHeartbeat:$,lastProposed:X,participation:te,rewardBase:ae,sigType:Ae}){super(),this.address=e,this.amount=n,this.amountWithoutPendingRewards=r,this.minBalance=i,this.pendingRewards=s,this.rewards=o,this.round=l,this.status=u,this.totalAppsOptedIn=h,this.totalAssetsOptedIn=f,this.totalBoxBytes=p,this.totalBoxes=g,this.totalCreatedApps=y,this.totalCreatedAssets=_,this.appsLocalState=w,this.appsTotalExtraPages=b,this.appsTotalSchema=k,this.assets=x,this.authAddr=v,this.closedAtRound=C,this.createdApps=F,this.createdAssets=j,this.createdAtRound=R,this.deleted=z,this.incentiveEligible=Q,this.lastHeartbeat=$,this.lastProposed=X,this.participation=te,this.rewardBase=ae,this.sigType=Ae,this.attribute_map={address:"address",amount:"amount",amountWithoutPendingRewards:"amount-without-pending-rewards",minBalance:"min-balance",pendingRewards:"pending-rewards",rewards:"rewards",round:"round",status:"status",totalAppsOptedIn:"total-apps-opted-in",totalAssetsOptedIn:"total-assets-opted-in",totalBoxBytes:"total-box-bytes",totalBoxes:"total-boxes",totalCreatedApps:"total-created-apps",totalCreatedAssets:"total-created-assets",appsLocalState:"apps-local-state",appsTotalExtraPages:"apps-total-extra-pages",appsTotalSchema:"apps-total-schema",assets:"assets",authAddr:"auth-addr",closedAtRound:"closed-at-round",createdApps:"created-apps",createdAssets:"created-assets",createdAtRound:"created-at-round",deleted:"deleted",incentiveEligible:"incentive-eligible",lastHeartbeat:"last-heartbeat",lastProposed:"last-proposed",participation:"participation",rewardBase:"reward-base",sigType:"sig-type"}}static from_obj_for_encoding(e){if(typeof e.address>"u")throw new Error(`Response is missing required field 'address': ${e}`);if(typeof e.amount>"u")throw new Error(`Response is missing required field 'amount': ${e}`);if(typeof e["amount-without-pending-rewards"]>"u")throw new Error(`Response is missing required field 'amount-without-pending-rewards': ${e}`);if(typeof e["min-balance"]>"u")throw new Error(`Response is missing required field 'min-balance': ${e}`);if(typeof e["pending-rewards"]>"u")throw new Error(`Response is missing required field 'pending-rewards': ${e}`);if(typeof e.rewards>"u")throw new Error(`Response is missing required field 'rewards': ${e}`);if(typeof e.round>"u")throw new Error(`Response is missing required field 'round': ${e}`);if(typeof e.status>"u")throw new Error(`Response is missing required field 'status': ${e}`);if(typeof e["total-apps-opted-in"]>"u")throw new Error(`Response is missing required field 'total-apps-opted-in': ${e}`);if(typeof e["total-assets-opted-in"]>"u")throw new Error(`Response is missing required field 'total-assets-opted-in': ${e}`);if(typeof e["total-box-bytes"]>"u")throw new Error(`Response is missing required field 'total-box-bytes': ${e}`);if(typeof e["total-boxes"]>"u")throw new Error(`Response is missing required field 'total-boxes': ${e}`);if(typeof e["total-created-apps"]>"u")throw new Error(`Response is missing required field 'total-created-apps': ${e}`);if(typeof e["total-created-assets"]>"u")throw new Error(`Response is missing required field 'total-created-assets': ${e}`);return new Rd({address:e.address,amount:e.amount,amountWithoutPendingRewards:e["amount-without-pending-rewards"],minBalance:e["min-balance"],pendingRewards:e["pending-rewards"],rewards:e.rewards,round:e.round,status:e.status,totalAppsOptedIn:e["total-apps-opted-in"],totalAssetsOptedIn:e["total-assets-opted-in"],totalBoxBytes:e["total-box-bytes"],totalBoxes:e["total-boxes"],totalCreatedApps:e["total-created-apps"],totalCreatedAssets:e["total-created-assets"],appsLocalState:typeof e["apps-local-state"]<"u"?e["apps-local-state"].map(Bd.from_obj_for_encoding):void 0,appsTotalExtraPages:e["apps-total-extra-pages"],appsTotalSchema:typeof e["apps-total-schema"]<"u"?La.from_obj_for_encoding(e["apps-total-schema"]):void 0,assets:typeof e.assets<"u"?e.assets.map(Dd.from_obj_for_encoding):void 0,authAddr:e["auth-addr"],closedAtRound:e["closed-at-round"],createdApps:typeof e["created-apps"]<"u"?e["created-apps"].map(Ac.from_obj_for_encoding):void 0,createdAssets:typeof e["created-assets"]<"u"?e["created-assets"].map(Cc.from_obj_for_encoding):void 0,createdAtRound:e["created-at-round"],deleted:e.deleted,incentiveEligible:e["incentive-eligible"],lastHeartbeat:e["last-heartbeat"],lastProposed:e["last-proposed"],participation:typeof e.participation<"u"?B0.from_obj_for_encoding(e.participation):void 0,rewardBase:e["reward-base"],sigType:e["sig-type"]})}}class B0 extends Ve{constructor({selectionParticipationKey:e,voteFirstValid:n,voteKeyDilution:r,voteLastValid:i,voteParticipationKey:s,stateProofKey:o}){super(),this.selectionParticipationKey=typeof e=="string"?new Uint8Array(Se.Buffer.from(e,"base64")):e,this.voteFirstValid=n,this.voteKeyDilution=r,this.voteLastValid=i,this.voteParticipationKey=typeof s=="string"?new Uint8Array(Se.Buffer.from(s,"base64")):s,this.stateProofKey=typeof o=="string"?new Uint8Array(Se.Buffer.from(o,"base64")):o,this.attribute_map={selectionParticipationKey:"selection-participation-key",voteFirstValid:"vote-first-valid",voteKeyDilution:"vote-key-dilution",voteLastValid:"vote-last-valid",voteParticipationKey:"vote-participation-key",stateProofKey:"state-proof-key"}}static from_obj_for_encoding(e){if(typeof e["selection-participation-key"]>"u")throw new Error(`Response is missing required field 'selection-participation-key': ${e}`);if(typeof e["vote-first-valid"]>"u")throw new Error(`Response is missing required field 'vote-first-valid': ${e}`);if(typeof e["vote-key-dilution"]>"u")throw new Error(`Response is missing required field 'vote-key-dilution': ${e}`);if(typeof e["vote-last-valid"]>"u")throw new Error(`Response is missing required field 'vote-last-valid': ${e}`);if(typeof e["vote-participation-key"]>"u")throw new Error(`Response is missing required field 'vote-participation-key': ${e}`);return new B0({selectionParticipationKey:e["selection-participation-key"],voteFirstValid:e["vote-first-valid"],voteKeyDilution:e["vote-key-dilution"],voteLastValid:e["vote-last-valid"],voteParticipationKey:e["vote-participation-key"],stateProofKey:e["state-proof-key"]})}}class z1 extends Ve{constructor({account:e,currentRound:n}){super(),this.account=e,this.currentRound=n,this.attribute_map={account:"account",currentRound:"current-round"}}static from_obj_for_encoding(e){if(typeof e.account>"u")throw new Error(`Response is missing required field 'account': ${e}`);if(typeof e["current-round"]>"u")throw new Error(`Response is missing required field 'current-round': ${e}`);return new z1({account:Rd.from_obj_for_encoding(e.account),currentRound:e["current-round"]})}}class D0 extends Ve{constructor({address:e,delta:n}){super(),this.address=e,this.delta=n,this.attribute_map={address:"address",delta:"delta"}}static from_obj_for_encoding(e){if(typeof e.address>"u")throw new Error(`Response is missing required field 'address': ${e}`);if(!Array.isArray(e.delta))throw new Error(`Response is missing required array field 'delta': ${e}`);return new D0({address:e.address,delta:e.delta.map(Ld.from_obj_for_encoding)})}}class q1 extends Ve{constructor({accounts:e,currentRound:n,nextToken:r}){super(),this.accounts=e,this.currentRound=n,this.nextToken=r,this.attribute_map={accounts:"accounts",currentRound:"current-round",nextToken:"next-token"}}static from_obj_for_encoding(e){if(!Array.isArray(e.accounts))throw new Error(`Response is missing required array field 'accounts': ${e}`);if(typeof e["current-round"]>"u")throw new Error(`Response is missing required field 'current-round': ${e}`);return new q1({accounts:e.accounts.map(Rd.from_obj_for_encoding),currentRound:e["current-round"],nextToken:e["next-token"]})}}class Ac extends Ve{constructor({id:e,params:n,createdAtRound:r,deleted:i,deletedAtRound:s}){super(),this.id=e,this.params=n,this.createdAtRound=r,this.deleted=i,this.deletedAtRound=s,this.attribute_map={id:"id",params:"params",createdAtRound:"created-at-round",deleted:"deleted",deletedAtRound:"deleted-at-round"}}static from_obj_for_encoding(e){if(typeof e.id>"u")throw new Error(`Response is missing required field 'id': ${e}`);if(typeof e.params>"u")throw new Error(`Response is missing required field 'params': ${e}`);return new Ac({id:e.id,params:L0.from_obj_for_encoding(e.params),createdAtRound:e["created-at-round"],deleted:e.deleted,deletedAtRound:e["deleted-at-round"]})}}class Bd extends Ve{constructor({id:e,schema:n,closedOutAtRound:r,deleted:i,keyValue:s,optedInAtRound:o}){super(),this.id=e,this.schema=n,this.closedOutAtRound=r,this.deleted=i,this.keyValue=s,this.optedInAtRound=o,this.attribute_map={id:"id",schema:"schema",closedOutAtRound:"closed-out-at-round",deleted:"deleted",keyValue:"key-value",optedInAtRound:"opted-in-at-round"}}static from_obj_for_encoding(e){if(typeof e.id>"u")throw new Error(`Response is missing required field 'id': ${e}`);if(typeof e.schema>"u")throw new Error(`Response is missing required field 'schema': ${e}`);return new Bd({id:e.id,schema:La.from_obj_for_encoding(e.schema),closedOutAtRound:e["closed-out-at-round"],deleted:e.deleted,keyValue:typeof e["key-value"]<"u"?e["key-value"].map(Md.from_obj_for_encoding):void 0,optedInAtRound:e["opted-in-at-round"]})}}class V1 extends Ve{constructor({appsLocalStates:e,currentRound:n,nextToken:r}){super(),this.appsLocalStates=e,this.currentRound=n,this.nextToken=r,this.attribute_map={appsLocalStates:"apps-local-states",currentRound:"current-round",nextToken:"next-token"}}static from_obj_for_encoding(e){if(!Array.isArray(e["apps-local-states"]))throw new Error(`Response is missing required array field 'apps-local-states': ${e}`);if(typeof e["current-round"]>"u")throw new Error(`Response is missing required field 'current-round': ${e}`);return new V1({appsLocalStates:e["apps-local-states"].map(Bd.from_obj_for_encoding),currentRound:e["current-round"],nextToken:e["next-token"]})}}class I0 extends Ve{constructor({logs:e,txid:n}){super(),this.logs=e,this.txid=n,this.attribute_map={logs:"logs",txid:"txid"}}static from_obj_for_encoding(e){if(!Array.isArray(e.logs))throw new Error(`Response is missing required array field 'logs': ${e}`);if(typeof e.txid>"u")throw new Error(`Response is missing required field 'txid': ${e}`);return new I0({logs:e.logs,txid:e.txid})}}class H1 extends Ve{constructor({applicationId:e,currentRound:n,logData:r,nextToken:i}){super(),this.applicationId=e,this.currentRound=n,this.logData=r,this.nextToken=i,this.attribute_map={applicationId:"application-id",currentRound:"current-round",logData:"log-data",nextToken:"next-token"}}static from_obj_for_encoding(e){if(typeof e["application-id"]>"u")throw new Error(`Response is missing required field 'application-id': ${e}`);if(typeof e["current-round"]>"u")throw new Error(`Response is missing required field 'current-round': ${e}`);return new H1({applicationId:e["application-id"],currentRound:e["current-round"],logData:typeof e["log-data"]<"u"?e["log-data"].map(I0.from_obj_for_encoding):void 0,nextToken:e["next-token"]})}}class L0 extends Ve{constructor({approvalProgram:e,clearStateProgram:n,creator:r,extraProgramPages:i,globalState:s,globalStateSchema:o,localStateSchema:l}){super(),this.approvalProgram=typeof e=="string"?new Uint8Array(Se.Buffer.from(e,"base64")):e,this.clearStateProgram=typeof n=="string"?new Uint8Array(Se.Buffer.from(n,"base64")):n,this.creator=r,this.extraProgramPages=i,this.globalState=s,this.globalStateSchema=o,this.localStateSchema=l,this.attribute_map={approvalProgram:"approval-program",clearStateProgram:"clear-state-program",creator:"creator",extraProgramPages:"extra-program-pages",globalState:"global-state",globalStateSchema:"global-state-schema",localStateSchema:"local-state-schema"}}static from_obj_for_encoding(e){if(typeof e["approval-program"]>"u")throw new Error(`Response is missing required field 'approval-program': ${e}`);if(typeof e["clear-state-program"]>"u")throw new Error(`Response is missing required field 'clear-state-program': ${e}`);return new L0({approvalProgram:e["approval-program"],clearStateProgram:e["clear-state-program"],creator:e.creator,extraProgramPages:e["extra-program-pages"],globalState:typeof e["global-state"]<"u"?e["global-state"].map(Md.from_obj_for_encoding):void 0,globalStateSchema:typeof e["global-state-schema"]<"u"?La.from_obj_for_encoding(e["global-state-schema"]):void 0,localStateSchema:typeof e["local-state-schema"]<"u"?La.from_obj_for_encoding(e["local-state-schema"]):void 0})}}class W1 extends Ve{constructor({currentRound:e,application:n}){super(),this.currentRound=e,this.application=n,this.attribute_map={currentRound:"current-round",application:"application"}}static from_obj_for_encoding(e){if(typeof e["current-round"]>"u")throw new Error(`Response is missing required field 'current-round': ${e}`);return new W1({currentRound:e["current-round"],application:typeof e.application<"u"?Ac.from_obj_for_encoding(e.application):void 0})}}class La extends Ve{constructor({numByteSlice:e,numUint:n}){super(),this.numByteSlice=e,this.numUint=n,this.attribute_map={numByteSlice:"num-byte-slice",numUint:"num-uint"}}static from_obj_for_encoding(e){if(typeof e["num-byte-slice"]>"u")throw new Error(`Response is missing required field 'num-byte-slice': ${e}`);if(typeof e["num-uint"]>"u")throw new Error(`Response is missing required field 'num-uint': ${e}`);return new La({numByteSlice:e["num-byte-slice"],numUint:e["num-uint"]})}}class K1 extends Ve{constructor({applications:e,currentRound:n,nextToken:r}){super(),this.applications=e,this.currentRound=n,this.nextToken=r,this.attribute_map={applications:"applications",currentRound:"current-round",nextToken:"next-token"}}static from_obj_for_encoding(e){if(!Array.isArray(e.applications))throw new Error(`Response is missing required array field 'applications': ${e}`);if(typeof e["current-round"]>"u")throw new Error(`Response is missing required field 'current-round': ${e}`);return new K1({applications:e.applications.map(Ac.from_obj_for_encoding),currentRound:e["current-round"],nextToken:e["next-token"]})}}class Cc extends Ve{constructor({index:e,params:n,createdAtRound:r,deleted:i,destroyedAtRound:s}){super(),this.index=e,this.params=n,this.createdAtRound=r,this.deleted=i,this.destroyedAtRound=s,this.attribute_map={index:"index",params:"params",createdAtRound:"created-at-round",deleted:"deleted",destroyedAtRound:"destroyed-at-round"}}static from_obj_for_encoding(e){if(typeof e.index>"u")throw new Error(`Response is missing required field 'index': ${e}`);if(typeof e.params>"u")throw new Error(`Response is missing required field 'params': ${e}`);return new Cc({index:e.index,params:Id.from_obj_for_encoding(e.params),createdAtRound:e["created-at-round"],deleted:e.deleted,destroyedAtRound:e["destroyed-at-round"]})}}class G1 extends Ve{constructor({balances:e,currentRound:n,nextToken:r}){super(),this.balances=e,this.currentRound=n,this.nextToken=r,this.attribute_map={balances:"balances",currentRound:"current-round",nextToken:"next-token"}}static from_obj_for_encoding(e){if(!Array.isArray(e.balances))throw new Error(`Response is missing required array field 'balances': ${e}`);if(typeof e["current-round"]>"u")throw new Error(`Response is missing required field 'current-round': ${e}`);return new G1({balances:e.balances.map(Z0.from_obj_for_encoding),currentRound:e["current-round"],nextToken:e["next-token"]})}}class Dd extends Ve{constructor({amount:e,assetId:n,isFrozen:r,deleted:i,optedInAtRound:s,optedOutAtRound:o}){super(),this.amount=e,this.assetId=n,this.isFrozen=r,this.deleted=i,this.optedInAtRound=s,this.optedOutAtRound=o,this.attribute_map={amount:"amount",assetId:"asset-id",isFrozen:"is-frozen",deleted:"deleted",optedInAtRound:"opted-in-at-round",optedOutAtRound:"opted-out-at-round"}}static from_obj_for_encoding(e){if(typeof e.amount>"u")throw new Error(`Response is missing required field 'amount': ${e}`);if(typeof e["asset-id"]>"u")throw new Error(`Response is missing required field 'asset-id': ${e}`);if(typeof e["is-frozen"]>"u")throw new Error(`Response is missing required field 'is-frozen': ${e}`);return new Dd({amount:e.amount,assetId:e["asset-id"],isFrozen:e["is-frozen"],deleted:e.deleted,optedInAtRound:e["opted-in-at-round"],optedOutAtRound:e["opted-out-at-round"]})}}class Z1 extends Ve{constructor({assets:e,currentRound:n,nextToken:r}){super(),this.assets=e,this.currentRound=n,this.nextToken=r,this.attribute_map={assets:"assets",currentRound:"current-round",nextToken:"next-token"}}static from_obj_for_encoding(e){if(!Array.isArray(e.assets))throw new Error(`Response is missing required array field 'assets': ${e}`);if(typeof e["current-round"]>"u")throw new Error(`Response is missing required field 'current-round': ${e}`);return new Z1({assets:e.assets.map(Dd.from_obj_for_encoding),currentRound:e["current-round"],nextToken:e["next-token"]})}}class Id extends Ve{constructor({creator:e,decimals:n,total:r,clawback:i,defaultFrozen:s,freeze:o,manager:l,metadataHash:u,name:h,nameB64:f,reserve:p,unitName:g,unitNameB64:y,url:_,urlB64:w}){super(),this.creator=e,this.decimals=n,this.total=r,this.clawback=i,this.defaultFrozen=s,this.freeze=o,this.manager=l,this.metadataHash=typeof u=="string"?new Uint8Array(Se.Buffer.from(u,"base64")):u,this.name=h,this.nameB64=typeof f=="string"?new Uint8Array(Se.Buffer.from(f,"base64")):f,this.reserve=p,this.unitName=g,this.unitNameB64=typeof y=="string"?new Uint8Array(Se.Buffer.from(y,"base64")):y,this.url=_,this.urlB64=typeof w=="string"?new Uint8Array(Se.Buffer.from(w,"base64")):w,this.attribute_map={creator:"creator",decimals:"decimals",total:"total",clawback:"clawback",defaultFrozen:"default-frozen",freeze:"freeze",manager:"manager",metadataHash:"metadata-hash",name:"name",nameB64:"name-b64",reserve:"reserve",unitName:"unit-name",unitNameB64:"unit-name-b64",url:"url",urlB64:"url-b64"}}static from_obj_for_encoding(e){if(typeof e.creator>"u")throw new Error(`Response is missing required field 'creator': ${e}`);if(typeof e.decimals>"u")throw new Error(`Response is missing required field 'decimals': ${e}`);if(typeof e.total>"u")throw new Error(`Response is missing required field 'total': ${e}`);return new Id({creator:e.creator,decimals:e.decimals,total:e.total,clawback:e.clawback,defaultFrozen:e["default-frozen"],freeze:e.freeze,manager:e.manager,metadataHash:e["metadata-hash"],name:e.name,nameB64:e["name-b64"],reserve:e.reserve,unitName:e["unit-name"],unitNameB64:e["unit-name-b64"],url:e.url,urlB64:e["url-b64"]})}}class Y1 extends Ve{constructor({asset:e,currentRound:n}){super(),this.asset=e,this.currentRound=n,this.attribute_map={asset:"asset",currentRound:"current-round"}}static from_obj_for_encoding(e){if(typeof e.asset>"u")throw new Error(`Response is missing required field 'asset': ${e}`);if(typeof e["current-round"]>"u")throw new Error(`Response is missing required field 'current-round': ${e}`);return new Y1({asset:Cc.from_obj_for_encoding(e.asset),currentRound:e["current-round"]})}}class X1 extends Ve{constructor({assets:e,currentRound:n,nextToken:r}){super(),this.assets=e,this.currentRound=n,this.nextToken=r,this.attribute_map={assets:"assets",currentRound:"current-round",nextToken:"next-token"}}static from_obj_for_encoding(e){if(!Array.isArray(e.assets))throw new Error(`Response is missing required array field 'assets': ${e}`);if(typeof e["current-round"]>"u")throw new Error(`Response is missing required field 'current-round': ${e}`);return new X1({assets:e.assets.map(Cc.from_obj_for_encoding),currentRound:e["current-round"],nextToken:e["next-token"]})}}class M0 extends Ve{constructor({genesisHash:e,genesisId:n,previousBlockHash:r,round:i,seed:s,timestamp:o,transactionsRoot:l,transactionsRootSha256:u,bonus:h,feesCollected:f,participationUpdates:p,proposer:g,proposerPayout:y,rewards:_,stateProofTracking:w,transactions:b,txnCounter:k,upgradeState:x,upgradeVote:v}){super(),this.genesisHash=typeof e=="string"?new Uint8Array(Se.Buffer.from(e,"base64")):e,this.genesisId=n,this.previousBlockHash=typeof r=="string"?new Uint8Array(Se.Buffer.from(r,"base64")):r,this.round=i,this.seed=typeof s=="string"?new Uint8Array(Se.Buffer.from(s,"base64")):s,this.timestamp=o,this.transactionsRoot=typeof l=="string"?new Uint8Array(Se.Buffer.from(l,"base64")):l,this.transactionsRootSha256=typeof u=="string"?new Uint8Array(Se.Buffer.from(u,"base64")):u,this.bonus=h,this.feesCollected=f,this.participationUpdates=p,this.proposer=g,this.proposerPayout=y,this.rewards=_,this.stateProofTracking=w,this.transactions=b,this.txnCounter=k,this.upgradeState=x,this.upgradeVote=v,this.attribute_map={genesisHash:"genesis-hash",genesisId:"genesis-id",previousBlockHash:"previous-block-hash",round:"round",seed:"seed",timestamp:"timestamp",transactionsRoot:"transactions-root",transactionsRootSha256:"transactions-root-sha256",bonus:"bonus",feesCollected:"fees-collected",participationUpdates:"participation-updates",proposer:"proposer",proposerPayout:"proposer-payout",rewards:"rewards",stateProofTracking:"state-proof-tracking",transactions:"transactions",txnCounter:"txn-counter",upgradeState:"upgrade-state",upgradeVote:"upgrade-vote"}}static from_obj_for_encoding(e){if(typeof e["genesis-hash"]>"u")throw new Error(`Response is missing required field 'genesis-hash': ${e}`);if(typeof e["genesis-id"]>"u")throw new Error(`Response is missing required field 'genesis-id': ${e}`);if(typeof e["previous-block-hash"]>"u")throw new Error(`Response is missing required field 'previous-block-hash': ${e}`);if(typeof e.round>"u")throw new Error(`Response is missing required field 'round': ${e}`);if(typeof e.seed>"u")throw new Error(`Response is missing required field 'seed': ${e}`);if(typeof e.timestamp>"u")throw new Error(`Response is missing required field 'timestamp': ${e}`);if(typeof e["transactions-root"]>"u")throw new Error(`Response is missing required field 'transactions-root': ${e}`);if(typeof e["transactions-root-sha256"]>"u")throw new Error(`Response is missing required field 'transactions-root-sha256': ${e}`);return new M0({genesisHash:e["genesis-hash"],genesisId:e["genesis-id"],previousBlockHash:e["previous-block-hash"],round:e.round,seed:e.seed,timestamp:e.timestamp,transactionsRoot:e["transactions-root"],transactionsRootSha256:e["transactions-root-sha256"],bonus:e.bonus,feesCollected:e["fees-collected"],participationUpdates:typeof e["participation-updates"]<"u"?Y0.from_obj_for_encoding(e["participation-updates"]):void 0,proposer:e.proposer,proposerPayout:e["proposer-payout"],rewards:typeof e.rewards<"u"?O0.from_obj_for_encoding(e.rewards):void 0,stateProofTracking:typeof e["state-proof-tracking"]<"u"?e["state-proof-tracking"].map(nm.from_obj_for_encoding):void 0,transactions:typeof e.transactions<"u"?e.transactions.map(Ma.from_obj_for_encoding):void 0,txnCounter:e["txn-counter"],upgradeState:typeof e["upgrade-state"]<"u"?$0.from_obj_for_encoding(e["upgrade-state"]):void 0,upgradeVote:typeof e["upgrade-vote"]<"u"?U0.from_obj_for_encoding(e["upgrade-vote"]):void 0})}}class J1 extends Ve{constructor({blocks:e,currentRound:n,nextToken:r}){super(),this.blocks=e,this.currentRound=n,this.nextToken=r,this.attribute_map={blocks:"blocks",currentRound:"current-round",nextToken:"next-token"}}static from_obj_for_encoding(e){return new J1({blocks:typeof e.blocks<"u"?e.blocks.map(M0.from_obj_for_encoding):void 0,currentRound:e["current-round"],nextToken:e["next-token"]})}}class O0 extends Ve{constructor({feeSink:e,rewardsCalculationRound:n,rewardsLevel:r,rewardsPool:i,rewardsRate:s,rewardsResidue:o}){super(),this.feeSink=e,this.rewardsCalculationRound=n,this.rewardsLevel=r,this.rewardsPool=i,this.rewardsRate=s,this.rewardsResidue=o,this.attribute_map={feeSink:"fee-sink",rewardsCalculationRound:"rewards-calculation-round",rewardsLevel:"rewards-level",rewardsPool:"rewards-pool",rewardsRate:"rewards-rate",rewardsResidue:"rewards-residue"}}static from_obj_for_encoding(e){if(typeof e["fee-sink"]>"u")throw new Error(`Response is missing required field 'fee-sink': ${e}`);if(typeof e["rewards-calculation-round"]>"u")throw new Error(`Response is missing required field 'rewards-calculation-round': ${e}`);if(typeof e["rewards-level"]>"u")throw new Error(`Response is missing required field 'rewards-level': ${e}`);if(typeof e["rewards-pool"]>"u")throw new Error(`Response is missing required field 'rewards-pool': ${e}`);if(typeof e["rewards-rate"]>"u")throw new Error(`Response is missing required field 'rewards-rate': ${e}`);if(typeof e["rewards-residue"]>"u")throw new Error(`Response is missing required field 'rewards-residue': ${e}`);return new O0({feeSink:e["fee-sink"],rewardsCalculationRound:e["rewards-calculation-round"],rewardsLevel:e["rewards-level"],rewardsPool:e["rewards-pool"],rewardsRate:e["rewards-rate"],rewardsResidue:e["rewards-residue"]})}}class $0 extends Ve{constructor({currentProtocol:e,nextProtocol:n,nextProtocolApprovals:r,nextProtocolSwitchOn:i,nextProtocolVoteBefore:s}){super(),this.currentProtocol=e,this.nextProtocol=n,this.nextProtocolApprovals=r,this.nextProtocolSwitchOn=i,this.nextProtocolVoteBefore=s,this.attribute_map={currentProtocol:"current-protocol",nextProtocol:"next-protocol",nextProtocolApprovals:"next-protocol-approvals",nextProtocolSwitchOn:"next-protocol-switch-on",nextProtocolVoteBefore:"next-protocol-vote-before"}}static from_obj_for_encoding(e){if(typeof e["current-protocol"]>"u")throw new Error(`Response is missing required field 'current-protocol': ${e}`);return new $0({currentProtocol:e["current-protocol"],nextProtocol:e["next-protocol"],nextProtocolApprovals:e["next-protocol-approvals"],nextProtocolSwitchOn:e["next-protocol-switch-on"],nextProtocolVoteBefore:e["next-protocol-vote-before"]})}}class U0 extends Ve{constructor({upgradeApprove:e,upgradeDelay:n,upgradePropose:r}){super(),this.upgradeApprove=e,this.upgradeDelay=n,this.upgradePropose=r,this.attribute_map={upgradeApprove:"upgrade-approve",upgradeDelay:"upgrade-delay",upgradePropose:"upgrade-propose"}}static from_obj_for_encoding(e){return new U0({upgradeApprove:e["upgrade-approve"],upgradeDelay:e["upgrade-delay"],upgradePropose:e["upgrade-propose"]})}}class z0 extends Ve{constructor({name:e,round:n,value:r}){super(),this.name=typeof e=="string"?new Uint8Array(Se.Buffer.from(e,"base64")):e,this.round=n,this.value=typeof r=="string"?new Uint8Array(Se.Buffer.from(r,"base64")):r,this.attribute_map={name:"name",round:"round",value:"value"}}static from_obj_for_encoding(e){if(typeof e.name>"u")throw new Error(`Response is missing required field 'name': ${e}`);if(typeof e.round>"u")throw new Error(`Response is missing required field 'round': ${e}`);if(typeof e.value>"u")throw new Error(`Response is missing required field 'value': ${e}`);return new z0({name:e.name,round:e.round,value:e.value})}}class q0 extends Ve{constructor({name:e}){super(),this.name=typeof e=="string"?new Uint8Array(Se.Buffer.from(e,"base64")):e,this.attribute_map={name:"name"}}static from_obj_for_encoding(e){if(typeof e.name>"u")throw new Error(`Response is missing required field 'name': ${e}`);return new q0({name:e.name})}}class V0 extends Ve{constructor({applicationId:e,boxes:n,nextToken:r}){super(),this.applicationId=e,this.boxes=n,this.nextToken=r,this.attribute_map={applicationId:"application-id",boxes:"boxes",nextToken:"next-token"}}static from_obj_for_encoding(e){if(typeof e["application-id"]>"u")throw new Error(`Response is missing required field 'application-id': ${e}`);if(!Array.isArray(e.boxes))throw new Error(`Response is missing required array field 'boxes': ${e}`);return new V0({applicationId:e["application-id"],boxes:e.boxes.map(q0.from_obj_for_encoding),nextToken:e["next-token"]})}}class Q1 extends Ve{constructor({message:e,data:n}){super(),this.message=e,this.data=n,this.attribute_map={message:"message",data:"data"}}static from_obj_for_encoding(e){if(typeof e.message>"u")throw new Error(`Response is missing required field 'message': ${e}`);return new Q1({message:e.message,data:e.data})}}class H0 extends Ve{constructor({action:e,bytes:n,uint:r}){super(),this.action=e,this.bytes=n,this.uint=r,this.attribute_map={action:"action",bytes:"bytes",uint:"uint"}}static from_obj_for_encoding(e){if(typeof e.action>"u")throw new Error(`Response is missing required field 'action': ${e}`);return new H0({action:e.action,bytes:e.bytes,uint:e.uint})}}class Ld extends Ve{constructor({key:e,value:n}){super(),this.key=e,this.value=n,this.attribute_map={key:"key",value:"value"}}static from_obj_for_encoding(e){if(typeof e.key>"u")throw new Error(`Response is missing required field 'key': ${e}`);if(typeof e.value>"u")throw new Error(`Response is missing required field 'value': ${e}`);return new Ld({key:e.key,value:H0.from_obj_for_encoding(e.value)})}}class W0 extends Ve{constructor({hashType:e}){super(),this.hashType=e,this.attribute_map={hashType:"hash-type"}}static from_obj_for_encoding(e){return new W0({hashType:e["hash-type"]})}}class K0 extends Ve{constructor({hbPk:e,hbPk1sig:n,hbPk2:r,hbPk2sig:i,hbSig:s}){super(),this.hbPk=typeof e=="string"?new Uint8Array(Se.Buffer.from(e,"base64")):e,this.hbPk1sig=typeof n=="string"?new Uint8Array(Se.Buffer.from(n,"base64")):n,this.hbPk2=typeof r=="string"?new Uint8Array(Se.Buffer.from(r,"base64")):r,this.hbPk2sig=typeof i=="string"?new Uint8Array(Se.Buffer.from(i,"base64")):i,this.hbSig=typeof s=="string"?new Uint8Array(Se.Buffer.from(s,"base64")):s,this.attribute_map={hbPk:"hb-pk",hbPk1sig:"hb-pk1sig",hbPk2:"hb-pk2",hbPk2sig:"hb-pk2sig",hbSig:"hb-sig"}}static from_obj_for_encoding(e){return new K0({hbPk:e["hb-pk"],hbPk1sig:e["hb-pk1sig"],hbPk2:e["hb-pk2"],hbPk2sig:e["hb-pk2sig"],hbSig:e["hb-sig"]})}}class eb extends Ve{constructor({dbAvailable:e,isMigrating:n,message:r,round:i,version:s,data:o,errors:l}){super(),this.dbAvailable=e,this.isMigrating=n,this.message=r,this.round=i,this.version=s,this.data=o,this.errors=l,this.attribute_map={dbAvailable:"db-available",isMigrating:"is-migrating",message:"message",round:"round",version:"version",data:"data",errors:"errors"}}static from_obj_for_encoding(e){if(typeof e["db-available"]>"u")throw new Error(`Response is missing required field 'db-available': ${e}`);if(typeof e["is-migrating"]>"u")throw new Error(`Response is missing required field 'is-migrating': ${e}`);if(typeof e.message>"u")throw new Error(`Response is missing required field 'message': ${e}`);if(typeof e.round>"u")throw new Error(`Response is missing required field 'round': ${e}`);if(typeof e.version>"u")throw new Error(`Response is missing required field 'version': ${e}`);return new eb({dbAvailable:e["db-available"],isMigrating:e["is-migrating"],message:e.message,round:e.round,version:e.version,data:e.data,errors:e.errors})}}class G0 extends Ve{constructor({blockHeadersCommitment:e,firstAttestedRound:n,latestAttestedRound:r,lnProvenWeight:i,votersCommitment:s}){super(),this.blockHeadersCommitment=typeof e=="string"?new Uint8Array(Se.Buffer.from(e,"base64")):e,this.firstAttestedRound=n,this.latestAttestedRound=r,this.lnProvenWeight=i,this.votersCommitment=typeof s=="string"?new Uint8Array(Se.Buffer.from(s,"base64")):s,this.attribute_map={blockHeadersCommitment:"block-headers-commitment",firstAttestedRound:"first-attested-round",latestAttestedRound:"latest-attested-round",lnProvenWeight:"ln-proven-weight",votersCommitment:"voters-commitment"}}static from_obj_for_encoding(e){return new G0({blockHeadersCommitment:e["block-headers-commitment"],firstAttestedRound:e["first-attested-round"],latestAttestedRound:e["latest-attested-round"],lnProvenWeight:e["ln-proven-weight"],votersCommitment:e["voters-commitment"]})}}class cc extends Ve{constructor({hashFactory:e,path:n,treeDepth:r}){super(),this.hashFactory=e,this.path=n,this.treeDepth=r,this.attribute_map={hashFactory:"hash-factory",path:"path",treeDepth:"tree-depth"}}static from_obj_for_encoding(e){return new cc({hashFactory:typeof e["hash-factory"]<"u"?W0.from_obj_for_encoding(e["hash-factory"]):void 0,path:e.path,treeDepth:e["tree-depth"]})}}class Z0 extends Ve{constructor({address:e,amount:n,isFrozen:r,deleted:i,optedInAtRound:s,optedOutAtRound:o}){super(),this.address=e,this.amount=n,this.isFrozen=r,this.deleted=i,this.optedInAtRound=s,this.optedOutAtRound=o,this.attribute_map={address:"address",amount:"amount",isFrozen:"is-frozen",deleted:"deleted",optedInAtRound:"opted-in-at-round",optedOutAtRound:"opted-out-at-round"}}static from_obj_for_encoding(e){if(typeof e.address>"u")throw new Error(`Response is missing required field 'address': ${e}`);if(typeof e.amount>"u")throw new Error(`Response is missing required field 'amount': ${e}`);if(typeof e["is-frozen"]>"u")throw new Error(`Response is missing required field 'is-frozen': ${e}`);return new Z0({address:e.address,amount:e.amount,isFrozen:e["is-frozen"],deleted:e.deleted,optedInAtRound:e["opted-in-at-round"],optedOutAtRound:e["opted-out-at-round"]})}}class Y0 extends Ve{constructor({absentParticipationAccounts:e,expiredParticipationAccounts:n}){super(),this.absentParticipationAccounts=e,this.expiredParticipationAccounts=n,this.attribute_map={absentParticipationAccounts:"absent-participation-accounts",expiredParticipationAccounts:"expired-participation-accounts"}}static from_obj_for_encoding(e){return new Y0({absentParticipationAccounts:e["absent-participation-accounts"],expiredParticipationAccounts:e["expired-participation-accounts"]})}}class X0 extends Ve{constructor({partProofs:e,positionsToReveal:n,reveals:r,saltVersion:i,sigCommit:s,sigProofs:o,signedWeight:l}){super(),this.partProofs=e,this.positionsToReveal=n,this.reveals=r,this.saltVersion=i,this.sigCommit=typeof s=="string"?new Uint8Array(Se.Buffer.from(s,"base64")):s,this.sigProofs=o,this.signedWeight=l,this.attribute_map={partProofs:"part-proofs",positionsToReveal:"positions-to-reveal",reveals:"reveals",saltVersion:"salt-version",sigCommit:"sig-commit",sigProofs:"sig-proofs",signedWeight:"signed-weight"}}static from_obj_for_encoding(e){return new X0({partProofs:typeof e["part-proofs"]<"u"?cc.from_obj_for_encoding(e["part-proofs"]):void 0,positionsToReveal:e["positions-to-reveal"],reveals:typeof e.reveals<"u"?e.reveals.map(Q0.from_obj_for_encoding):void 0,saltVersion:e["salt-version"],sigCommit:e["sig-commit"],sigProofs:typeof e["sig-proofs"]<"u"?cc.from_obj_for_encoding(e["sig-proofs"]):void 0,signedWeight:e["signed-weight"]})}}class J0 extends Ve{constructor({verifier:e,weight:n}){super(),this.verifier=e,this.weight=n,this.attribute_map={verifier:"verifier",weight:"weight"}}static from_obj_for_encoding(e){return new J0({verifier:typeof e.verifier<"u"?rm.from_obj_for_encoding(e.verifier):void 0,weight:e.weight})}}class Q0 extends Ve{constructor({participant:e,position:n,sigSlot:r}){super(),this.participant=e,this.position=n,this.sigSlot=r,this.attribute_map={participant:"participant",position:"position",sigSlot:"sig-slot"}}static from_obj_for_encoding(e){return new Q0({participant:typeof e.participant<"u"?J0.from_obj_for_encoding(e.participant):void 0,position:e.position,sigSlot:typeof e["sig-slot"]<"u"?em.from_obj_for_encoding(e["sig-slot"]):void 0})}}class em extends Ve{constructor({lowerSigWeight:e,signature:n}){super(),this.lowerSigWeight=e,this.signature=n,this.attribute_map={lowerSigWeight:"lower-sig-weight",signature:"signature"}}static from_obj_for_encoding(e){return new em({lowerSigWeight:e["lower-sig-weight"],signature:typeof e.signature<"u"?tm.from_obj_for_encoding(e.signature):void 0})}}class tm extends Ve{constructor({falconSignature:e,merkleArrayIndex:n,proof:r,verifyingKey:i}){super(),this.falconSignature=typeof e=="string"?new Uint8Array(Se.Buffer.from(e,"base64")):e,this.merkleArrayIndex=n,this.proof=r,this.verifyingKey=typeof i=="string"?new Uint8Array(Se.Buffer.from(i,"base64")):i,this.attribute_map={falconSignature:"falcon-signature",merkleArrayIndex:"merkle-array-index",proof:"proof",verifyingKey:"verifying-key"}}static from_obj_for_encoding(e){return new tm({falconSignature:e["falcon-signature"],merkleArrayIndex:e["merkle-array-index"],proof:typeof e.proof<"u"?cc.from_obj_for_encoding(e.proof):void 0,verifyingKey:e["verifying-key"]})}}class nm extends Ve{constructor({nextRound:e,onlineTotalWeight:n,type:r,votersCommitment:i}){super(),this.nextRound=e,this.onlineTotalWeight=n,this.type=r,this.votersCommitment=typeof i=="string"?new Uint8Array(Se.Buffer.from(i,"base64")):i,this.attribute_map={nextRound:"next-round",onlineTotalWeight:"online-total-weight",type:"type",votersCommitment:"voters-commitment"}}static from_obj_for_encoding(e){return new nm({nextRound:e["next-round"],onlineTotalWeight:e["online-total-weight"],type:e.type,votersCommitment:e["voters-commitment"]})}}class rm extends Ve{constructor({commitment:e,keyLifetime:n}){super(),this.commitment=typeof e=="string"?new Uint8Array(Se.Buffer.from(e,"base64")):e,this.keyLifetime=n,this.attribute_map={commitment:"commitment",keyLifetime:"key-lifetime"}}static from_obj_for_encoding(e){return new rm({commitment:e.commitment,keyLifetime:e["key-lifetime"]})}}class hd extends Ve{constructor({numByteSlice:e,numUint:n}){super(),this.numByteSlice=e,this.numUint=n,this.attribute_map={numByteSlice:"num-byte-slice",numUint:"num-uint"}}static from_obj_for_encoding(e){if(typeof e["num-byte-slice"]>"u")throw new Error(`Response is missing required field 'num-byte-slice': ${e}`);if(typeof e["num-uint"]>"u")throw new Error(`Response is missing required field 'num-uint': ${e}`);return new hd({numByteSlice:e["num-byte-slice"],numUint:e["num-uint"]})}}class Md extends Ve{constructor({key:e,value:n}){super(),this.key=e,this.value=n,this.attribute_map={key:"key",value:"value"}}static from_obj_for_encoding(e){if(typeof e.key>"u")throw new Error(`Response is missing required field 'key': ${e}`);if(typeof e.value>"u")throw new Error(`Response is missing required field 'value': ${e}`);return new Md({key:e.key,value:im.from_obj_for_encoding(e.value)})}}class im extends Ve{constructor({bytes:e,type:n,uint:r}){super(),this.bytes=e,this.type=n,this.uint=r,this.attribute_map={bytes:"bytes",type:"type",uint:"uint"}}static from_obj_for_encoding(e){if(typeof e.bytes>"u")throw new Error(`Response is missing required field 'bytes': ${e}`);if(typeof e.type>"u")throw new Error(`Response is missing required field 'type': ${e}`);if(typeof e.uint>"u")throw new Error(`Response is missing required field 'uint': ${e}`);return new im({bytes:e.bytes,type:e.type,uint:e.uint})}}class Ma extends Ve{constructor({fee:e,firstValid:n,lastValid:r,sender:i,applicationTransaction:s,assetConfigTransaction:o,assetFreezeTransaction:l,assetTransferTransaction:u,authAddr:h,closeRewards:f,closingAmount:p,confirmedRound:g,createdApplicationIndex:y,createdAssetIndex:_,genesisHash:w,genesisId:b,globalStateDelta:k,group:x,heartbeatTransaction:v,id:C,innerTxns:F,intraRoundOffset:j,keyregTransaction:R,lease:z,localStateDelta:Q,logs:$,note:X,paymentTransaction:te,receiverRewards:ae,rekeyTo:Ae,roundTime:he,senderRewards:Ee,signature:Ne,stateProofTransaction:me,txType:ge}){super(),this.fee=e,this.firstValid=n,this.lastValid=r,this.sender=i,this.applicationTransaction=s,this.assetConfigTransaction=o,this.assetFreezeTransaction=l,this.assetTransferTransaction=u,this.authAddr=h,this.closeRewards=f,this.closingAmount=p,this.confirmedRound=g,this.createdApplicationIndex=y,this.createdAssetIndex=_,this.genesisHash=typeof w=="string"?new Uint8Array(Se.Buffer.from(w,"base64")):w,this.genesisId=b,this.globalStateDelta=k,this.group=typeof x=="string"?new Uint8Array(Se.Buffer.from(x,"base64")):x,this.heartbeatTransaction=v,this.id=C,this.innerTxns=F,this.intraRoundOffset=j,this.keyregTransaction=R,this.lease=typeof z=="string"?new Uint8Array(Se.Buffer.from(z,"base64")):z,this.localStateDelta=Q,this.logs=$,this.note=typeof X=="string"?new Uint8Array(Se.Buffer.from(X,"base64")):X,this.paymentTransaction=te,this.receiverRewards=ae,this.rekeyTo=Ae,this.roundTime=he,this.senderRewards=Ee,this.signature=Ne,this.stateProofTransaction=me,this.txType=ge,this.attribute_map={fee:"fee",firstValid:"first-valid",lastValid:"last-valid",sender:"sender",applicationTransaction:"application-transaction",assetConfigTransaction:"asset-config-transaction",assetFreezeTransaction:"asset-freeze-transaction",assetTransferTransaction:"asset-transfer-transaction",authAddr:"auth-addr",closeRewards:"close-rewards",closingAmount:"closing-amount",confirmedRound:"confirmed-round",createdApplicationIndex:"created-application-index",createdAssetIndex:"created-asset-index",genesisHash:"genesis-hash",genesisId:"genesis-id",globalStateDelta:"global-state-delta",group:"group",heartbeatTransaction:"heartbeat-transaction",id:"id",innerTxns:"inner-txns",intraRoundOffset:"intra-round-offset",keyregTransaction:"keyreg-transaction",lease:"lease",localStateDelta:"local-state-delta",logs:"logs",note:"note",paymentTransaction:"payment-transaction",receiverRewards:"receiver-rewards",rekeyTo:"rekey-to",roundTime:"round-time",senderRewards:"sender-rewards",signature:"signature",stateProofTransaction:"state-proof-transaction",txType:"tx-type"}}static from_obj_for_encoding(e){if(typeof e.fee>"u")throw new Error(`Response is missing required field 'fee': ${e}`);if(typeof e["first-valid"]>"u")throw new Error(`Response is missing required field 'first-valid': ${e}`);if(typeof e["last-valid"]>"u")throw new Error(`Response is missing required field 'last-valid': ${e}`);if(typeof e.sender>"u")throw new Error(`Response is missing required field 'sender': ${e}`);return new Ma({fee:e.fee,firstValid:e["first-valid"],lastValid:e["last-valid"],sender:e.sender,applicationTransaction:typeof e["application-transaction"]<"u"?sm.from_obj_for_encoding(e["application-transaction"]):void 0,assetConfigTransaction:typeof e["asset-config-transaction"]<"u"?om.from_obj_for_encoding(e["asset-config-transaction"]):void 0,assetFreezeTransaction:typeof e["asset-freeze-transaction"]<"u"?am.from_obj_for_encoding(e["asset-freeze-transaction"]):void 0,assetTransferTransaction:typeof e["asset-transfer-transaction"]<"u"?lm.from_obj_for_encoding(e["asset-transfer-transaction"]):void 0,authAddr:e["auth-addr"],closeRewards:e["close-rewards"],closingAmount:e["closing-amount"],confirmedRound:e["confirmed-round"],createdApplicationIndex:e["created-application-index"],createdAssetIndex:e["created-asset-index"],genesisHash:e["genesis-hash"],genesisId:e["genesis-id"],globalStateDelta:typeof e["global-state-delta"]<"u"?e["global-state-delta"].map(Ld.from_obj_for_encoding):void 0,group:e.group,heartbeatTransaction:typeof e["heartbeat-transaction"]<"u"?cm.from_obj_for_encoding(e["heartbeat-transaction"]):void 0,id:e.id,innerTxns:typeof e["inner-txns"]<"u"?e["inner-txns"].map(Ma.from_obj_for_encoding):void 0,intraRoundOffset:e["intra-round-offset"],keyregTransaction:typeof e["keyreg-transaction"]<"u"?um.from_obj_for_encoding(e["keyreg-transaction"]):void 0,lease:e.lease,localStateDelta:typeof e["local-state-delta"]<"u"?e["local-state-delta"].map(D0.from_obj_for_encoding):void 0,logs:e.logs,note:e.note,paymentTransaction:typeof e["payment-transaction"]<"u"?dm.from_obj_for_encoding(e["payment-transaction"]):void 0,receiverRewards:e["receiver-rewards"],rekeyTo:e["rekey-to"],roundTime:e["round-time"],senderRewards:e["sender-rewards"],signature:typeof e.signature<"u"?hm.from_obj_for_encoding(e.signature):void 0,stateProofTransaction:typeof e["state-proof-transaction"]<"u"?mm.from_obj_for_encoding(e["state-proof-transaction"]):void 0,txType:e["tx-type"]})}}class sm extends Ve{constructor({applicationId:e,accounts:n,applicationArgs:r,approvalProgram:i,clearStateProgram:s,extraProgramPages:o,foreignApps:l,foreignAssets:u,globalStateSchema:h,localStateSchema:f,onCompletion:p}){super(),this.applicationId=e,this.accounts=n,this.applicationArgs=r,this.approvalProgram=typeof i=="string"?new Uint8Array(Se.Buffer.from(i,"base64")):i,this.clearStateProgram=typeof s=="string"?new Uint8Array(Se.Buffer.from(s,"base64")):s,this.extraProgramPages=o,this.foreignApps=l,this.foreignAssets=u,this.globalStateSchema=h,this.localStateSchema=f,this.onCompletion=p,this.attribute_map={applicationId:"application-id",accounts:"accounts",applicationArgs:"application-args",approvalProgram:"approval-program",clearStateProgram:"clear-state-program",extraProgramPages:"extra-program-pages",foreignApps:"foreign-apps",foreignAssets:"foreign-assets",globalStateSchema:"global-state-schema",localStateSchema:"local-state-schema",onCompletion:"on-completion"}}static from_obj_for_encoding(e){if(typeof e["application-id"]>"u")throw new Error(`Response is missing required field 'application-id': ${e}`);return new sm({applicationId:e["application-id"],accounts:e.accounts,applicationArgs:e["application-args"],approvalProgram:e["approval-program"],clearStateProgram:e["clear-state-program"],extraProgramPages:e["extra-program-pages"],foreignApps:e["foreign-apps"],foreignAssets:e["foreign-assets"],globalStateSchema:typeof e["global-state-schema"]<"u"?hd.from_obj_for_encoding(e["global-state-schema"]):void 0,localStateSchema:typeof e["local-state-schema"]<"u"?hd.from_obj_for_encoding(e["local-state-schema"]):void 0,onCompletion:e["on-completion"]})}}class om extends Ve{constructor({assetId:e,params:n}){super(),this.assetId=e,this.params=n,this.attribute_map={assetId:"asset-id",params:"params"}}static from_obj_for_encoding(e){return new om({assetId:e["asset-id"],params:typeof e.params<"u"?Id.from_obj_for_encoding(e.params):void 0})}}class am extends Ve{constructor({address:e,assetId:n,newFreezeStatus:r}){super(),this.address=e,this.assetId=n,this.newFreezeStatus=r,this.attribute_map={address:"address",assetId:"asset-id",newFreezeStatus:"new-freeze-status"}}static from_obj_for_encoding(e){if(typeof e.address>"u")throw new Error(`Response is missing required field 'address': ${e}`);if(typeof e["asset-id"]>"u")throw new Error(`Response is missing required field 'asset-id': ${e}`);if(typeof e["new-freeze-status"]>"u")throw new Error(`Response is missing required field 'new-freeze-status': ${e}`);return new am({address:e.address,assetId:e["asset-id"],newFreezeStatus:e["new-freeze-status"]})}}class lm extends Ve{constructor({amount:e,assetId:n,receiver:r,closeAmount:i,closeTo:s,sender:o}){super(),this.amount=e,this.assetId=n,this.receiver=r,this.closeAmount=i,this.closeTo=s,this.sender=o,this.attribute_map={amount:"amount",assetId:"asset-id",receiver:"receiver",closeAmount:"close-amount",closeTo:"close-to",sender:"sender"}}static from_obj_for_encoding(e){if(typeof e.amount>"u")throw new Error(`Response is missing required field 'amount': ${e}`);if(typeof e["asset-id"]>"u")throw new Error(`Response is missing required field 'asset-id': ${e}`);if(typeof e.receiver>"u")throw new Error(`Response is missing required field 'receiver': ${e}`);return new lm({amount:e.amount,assetId:e["asset-id"],receiver:e.receiver,closeAmount:e["close-amount"],closeTo:e["close-to"],sender:e.sender})}}class cm extends Ve{constructor({hbAddress:e,hbKeyDilution:n,hbProof:r,hbSeed:i,hbVoteId:s}){super(),this.hbAddress=e,this.hbKeyDilution=n,this.hbProof=r,this.hbSeed=typeof i=="string"?new Uint8Array(Se.Buffer.from(i,"base64")):i,this.hbVoteId=typeof s=="string"?new Uint8Array(Se.Buffer.from(s,"base64")):s,this.attribute_map={hbAddress:"hb-address",hbKeyDilution:"hb-key-dilution",hbProof:"hb-proof",hbSeed:"hb-seed",hbVoteId:"hb-vote-id"}}static from_obj_for_encoding(e){if(typeof e["hb-address"]>"u")throw new Error(`Response is missing required field 'hb-address': ${e}`);if(typeof e["hb-key-dilution"]>"u")throw new Error(`Response is missing required field 'hb-key-dilution': ${e}`);if(typeof e["hb-proof"]>"u")throw new Error(`Response is missing required field 'hb-proof': ${e}`);if(typeof e["hb-seed"]>"u")throw new Error(`Response is missing required field 'hb-seed': ${e}`);if(typeof e["hb-vote-id"]>"u")throw new Error(`Response is missing required field 'hb-vote-id': ${e}`);return new cm({hbAddress:e["hb-address"],hbKeyDilution:e["hb-key-dilution"],hbProof:K0.from_obj_for_encoding(e["hb-proof"]),hbSeed:e["hb-seed"],hbVoteId:e["hb-vote-id"]})}}class um extends Ve{constructor({nonParticipation:e,selectionParticipationKey:n,stateProofKey:r,voteFirstValid:i,voteKeyDilution:s,voteLastValid:o,voteParticipationKey:l}){super(),this.nonParticipation=e,this.selectionParticipationKey=typeof n=="string"?new Uint8Array(Se.Buffer.from(n,"base64")):n,this.stateProofKey=typeof r=="string"?new Uint8Array(Se.Buffer.from(r,"base64")):r,this.voteFirstValid=i,this.voteKeyDilution=s,this.voteLastValid=o,this.voteParticipationKey=typeof l=="string"?new Uint8Array(Se.Buffer.from(l,"base64")):l,this.attribute_map={nonParticipation:"non-participation",selectionParticipationKey:"selection-participation-key",stateProofKey:"state-proof-key",voteFirstValid:"vote-first-valid",voteKeyDilution:"vote-key-dilution",voteLastValid:"vote-last-valid",voteParticipationKey:"vote-participation-key"}}static from_obj_for_encoding(e){return new um({nonParticipation:e["non-participation"],selectionParticipationKey:e["selection-participation-key"],stateProofKey:e["state-proof-key"],voteFirstValid:e["vote-first-valid"],voteKeyDilution:e["vote-key-dilution"],voteLastValid:e["vote-last-valid"],voteParticipationKey:e["vote-participation-key"]})}}class dm extends Ve{constructor({amount:e,receiver:n,closeAmount:r,closeRemainderTo:i}){super(),this.amount=e,this.receiver=n,this.closeAmount=r,this.closeRemainderTo=i,this.attribute_map={amount:"amount",receiver:"receiver",closeAmount:"close-amount",closeRemainderTo:"close-remainder-to"}}static from_obj_for_encoding(e){if(typeof e.amount>"u")throw new Error(`Response is missing required field 'amount': ${e}`);if(typeof e.receiver>"u")throw new Error(`Response is missing required field 'receiver': ${e}`);return new dm({amount:e.amount,receiver:e.receiver,closeAmount:e["close-amount"],closeRemainderTo:e["close-remainder-to"]})}}class tb extends Ve{constructor({currentRound:e,transaction:n}){super(),this.currentRound=e,this.transaction=n,this.attribute_map={currentRound:"current-round",transaction:"transaction"}}static from_obj_for_encoding(e){if(typeof e["current-round"]>"u")throw new Error(`Response is missing required field 'current-round': ${e}`);if(typeof e.transaction>"u")throw new Error(`Response is missing required field 'transaction': ${e}`);return new tb({currentRound:e["current-round"],transaction:Ma.from_obj_for_encoding(e.transaction)})}}class hm extends Ve{constructor({logicsig:e,multisig:n,sig:r}){super(),this.logicsig=e,this.multisig=n,this.sig=typeof r=="string"?new Uint8Array(Se.Buffer.from(r,"base64")):r,this.attribute_map={logicsig:"logicsig",multisig:"multisig",sig:"sig"}}static from_obj_for_encoding(e){return new hm({logicsig:typeof e.logicsig<"u"?fm.from_obj_for_encoding(e.logicsig):void 0,multisig:typeof e.multisig<"u"?Od.from_obj_for_encoding(e.multisig):void 0,sig:e.sig})}}class fm extends Ve{constructor({logic:e,args:n,multisigSignature:r,signature:i}){super(),this.logic=typeof e=="string"?new Uint8Array(Se.Buffer.from(e,"base64")):e,this.args=n,this.multisigSignature=r,this.signature=typeof i=="string"?new Uint8Array(Se.Buffer.from(i,"base64")):i,this.attribute_map={logic:"logic",args:"args",multisigSignature:"multisig-signature",signature:"signature"}}static from_obj_for_encoding(e){if(typeof e.logic>"u")throw new Error(`Response is missing required field 'logic': ${e}`);return new fm({logic:e.logic,args:e.args,multisigSignature:typeof e["multisig-signature"]<"u"?Od.from_obj_for_encoding(e["multisig-signature"]):void 0,signature:e.signature})}}class Od extends Ve{constructor({subsignature:e,threshold:n,version:r}){super(),this.subsignature=e,this.threshold=n,this.version=r,this.attribute_map={subsignature:"subsignature",threshold:"threshold",version:"version"}}static from_obj_for_encoding(e){return new Od({subsignature:typeof e.subsignature<"u"?e.subsignature.map(pm.from_obj_for_encoding):void 0,threshold:e.threshold,version:e.version})}}class pm extends Ve{constructor({publicKey:e,signature:n}){super(),this.publicKey=typeof e=="string"?new Uint8Array(Se.Buffer.from(e,"base64")):e,this.signature=typeof n=="string"?new Uint8Array(Se.Buffer.from(n,"base64")):n,this.attribute_map={publicKey:"public-key",signature:"signature"}}static from_obj_for_encoding(e){return new pm({publicKey:e["public-key"],signature:e.signature})}}class mm extends Ve{constructor({message:e,stateProof:n,stateProofType:r}){super(),this.message=e,this.stateProof=n,this.stateProofType=r,this.attribute_map={message:"message",stateProof:"state-proof",stateProofType:"state-proof-type"}}static from_obj_for_encoding(e){return new mm({message:typeof e.message<"u"?G0.from_obj_for_encoding(e.message):void 0,stateProof:typeof e["state-proof"]<"u"?X0.from_obj_for_encoding(e["state-proof"]):void 0,stateProofType:e["state-proof-type"]})}}class nb extends Ve{constructor({currentRound:e,transactions:n,nextToken:r}){super(),this.currentRound=e,this.transactions=n,this.nextToken=r,this.attribute_map={currentRound:"current-round",transactions:"transactions",nextToken:"next-token"}}static from_obj_for_encoding(e){if(typeof e["current-round"]>"u")throw new Error(`Response is missing required field 'current-round': ${e}`);if(!Array.isArray(e.transactions))throw new Error(`Response is missing required array field 'transactions': ${e}`);return new nb({currentRound:e["current-round"],transactions:e.transactions.map(Ma.from_obj_for_encoding),nextToken:e["next-token"]})}}const LI=Object.freeze(Object.defineProperty({__proto__:null,Account:Rd,AccountParticipation:B0,AccountResponse:z1,AccountStateDelta:D0,AccountsResponse:q1,Application:Ac,ApplicationLocalState:Bd,ApplicationLocalStatesResponse:V1,ApplicationLogData:I0,ApplicationLogsResponse:H1,ApplicationParams:L0,ApplicationResponse:W1,ApplicationStateSchema:La,ApplicationsResponse:K1,Asset:Cc,AssetBalancesResponse:G1,AssetHolding:Dd,AssetHoldingsResponse:Z1,AssetParams:Id,AssetResponse:Y1,AssetsResponse:X1,Block:M0,BlockHeadersResponse:J1,BlockRewards:O0,BlockUpgradeState:$0,BlockUpgradeVote:U0,Box:z0,BoxDescriptor:q0,BoxesResponse:V0,ErrorResponse:Q1,EvalDelta:H0,EvalDeltaKeyValue:Ld,HashFactory:W0,HbProofFields:K0,HealthCheck:eb,IndexerStateProofMessage:G0,MerkleArrayProof:cc,MiniAssetHolding:Z0,ParticipationUpdates:Y0,StateProofFields:X0,StateProofParticipant:J0,StateProofReveal:Q0,StateProofSigSlot:em,StateProofSignature:tm,StateProofTracking:nm,StateProofVerifier:rm,StateSchema:hd,TealKeyValue:Md,TealValue:im,Transaction:Ma,TransactionApplication:sm,TransactionAssetConfig:om,TransactionAssetFreeze:am,TransactionAssetTransfer:lm,TransactionHeartbeat:cm,TransactionKeyreg:um,TransactionPayment:dm,TransactionResponse:tb,TransactionSignature:hm,TransactionSignatureLogicsig:fm,TransactionSignatureMultisig:Od,TransactionSignatureMultisigSubsignature:pm,TransactionStateProof:mm,TransactionsResponse:nb},Symbol.toStringTag,{value:"Module"}));class MI extends kt{constructor(e,n,r,i){super(e,n),this.index=r,this.index=r;const s=Se.Buffer.from(i).toString("base64");this.query.name=encodeURI(`b64:${s}`)}path(){return`/v2/applications/${this.index}/box`}prepare(e){return z0.from_obj_for_encoding(e)}}class OI extends kt{path(){return"/v2/accounts"}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}limit(e){return this.query.limit=e,this}assetID(e){return this.query["asset-id"]=e,this}nextToken(e){return this.query.next=e,this}round(e){return this.query.round=e,this}authAddr(e){return this.query["auth-addr"]=e,this}applicationID(e){return this.query["application-id"]=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}exclude(e){return this.query.exclude=e,this}}class $I extends kt{path(){return"/v2/block-headers"}absent(e){return this.query.absent=e,this}afterTime(e){return this.query["after-time"]=e,this}beforeTime(e){return this.query["before-time"]=e,this}expired(e){return this.query.expired=e,this}limit(e){return this.query.limit=e,this}maxRound(e){return this.query["max-round"]=e,this}minRound(e){return this.query["min-round"]=e,this}nextToken(e){return this.query.next=e,this}proposers(e){return this.query.proposers=e,this}}class UI extends kt{path(){return"/v2/transactions"}notePrefix(e){return this.query["note-prefix"]=U1(e),this}txType(e){return this.query["tx-type"]=e,this}sigType(e){return this.query["sig-type"]=e,this}txid(e){return this.query.txid=e,this}round(e){return this.query.round=e,this}minRound(e){return this.query["min-round"]=e,this}maxRound(e){return this.query["max-round"]=e,this}assetID(e){return this.query["asset-id"]=e,this}limit(e){return this.query.limit=e,this}beforeTime(e){return this.query["before-time"]=e,this}afterTime(e){return this.query["after-time"]=e,this}addressRole(e){return this.query["address-role"]=e,this}address(e){return this.query.address=e,this}excludeCloseTo(e){return this.query["exclude-close-to"]=e,this}nextToken(e){return this.query.next=e,this}rekeyTo(e){return this.query["rekey-to"]=e,this}applicationID(e){return this.query["application-id"]=e,this}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}}class zI extends kt{path(){return"/v2/assets"}limit(e){return this.query.limit=e,this}creator(e){return this.query.creator=e,this}name(e){return this.query.name=e,this}unit(e){return this.query.unit=e,this}index(e){return this.query["asset-id"]=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}}class qI extends kt{path(){return"/v2/applications"}index(e){return this.query["application-id"]=e,this}creator(e){return this.query.creator=e,this}nextToken(e){return this.query.next=e,this}limit(e){return this.query.limit=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}}class VI extends kt{constructor(e,n,r){super(e,n),this.index=r,this.index=r}path(){return`/v2/applications/${this.index}/boxes`}nextToken(e){return this.query.next=e,this}limit(e){return this.query.limit=e,this}prepare(e){return V0.from_obj_for_encoding(e)}}class HI extends v1{constructor(e,n="http://127.0.0.1",r=8080,i={}){super("X-Indexer-API-Token",e,n,r,i)}makeHealthCheck(){return new SI(this.c,this.intDecoding)}lookupAssetBalances(e){return new kI(this.c,this.intDecoding,e)}lookupAssetTransactions(e){return new AI(this.c,this.intDecoding,e)}lookupAccountTransactions(e){return new EI(this.c,this.intDecoding,e)}lookupBlock(e){return new CI(this.c,this.intDecoding,e)}lookupTransactionByID(e){return new jI(this.c,this.intDecoding,e)}lookupAccountByID(e){return new TI(this.c,this.intDecoding,e)}lookupAccountAssets(e){return new PI(this.c,this.intDecoding,e)}lookupAccountCreatedAssets(e){return new FI(this.c,this.intDecoding,e)}lookupAccountAppLocalStates(e){return new NI(this.c,this.intDecoding,e)}lookupAccountCreatedApplications(e){return new RI(this.c,this.intDecoding,e)}lookupAssetByID(e){return new BI(this.c,this.intDecoding,e)}lookupApplications(e){return new DI(this.c,this.intDecoding,e)}lookupApplicationLogs(e){return new II(this.c,this.intDecoding,e)}searchAccounts(){return new OI(this.c,this.intDecoding)}searchForTransactions(){return new UI(this.c,this.intDecoding)}searchForBlockHeaders(){return new $I(this.c,this.intDecoding)}searchForAssets(){return new zI(this.c,this.intDecoding)}searchForApplications(){return new qI(this.c,this.intDecoding)}searchForApplicationBoxes(e){return new VI(this.c,this.intDecoding,e)}lookupApplicationBoxByIDandName(e,n){return new MI(this.c,this.intDecoding,e,n)}}async function Z4(t,e,n){const r=await t.status().do();if(typeof r>"u")throw new Error("Unable to get node status");const i=r["last-round"]+1;let s=i;for(;s<i+n;){let o=!1;try{const l=await t.pendingTransactionInformation(e).do();if(l["confirmed-round"])return l;if(l["pool-error"])throw o=!0,new Error(`Transaction Rejected: ${l["pool-error"]}`)}catch(l){if(o)throw l}await t.statusAfterBlock(s).do(),s+=1}throw new Error(`Transaction not confirmed after ${n} rounds`)}function Oa(t,e){let n=t.toString(16);n.length!==e*2&&(n=n.padStart(e*2,"0"));const r=new Uint8Array(n.length/2);for(let i=0,s=0;i<n.length/2;i++,s+=2)r[i]=parseInt(n.slice(s,s+2),16);return r}function rb(t){let e=BigInt(0);const n=Se.Buffer.from(t);for(let r=0;r<t.length;r++)e=BigInt(Number(n.readUIntBE(r,1)))+e*BigInt(256);return e}function WI(){const t=XB();return{addr:Nt(t.publicKey),sk:t.secretKey}}const _v=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"],Jg="failed to decode mnemonic",KI="the mnemonic contains a word that is not in the wordlist";function Y4(t){const e=[];let n=0,r=0;function i(o){n|=o<<r,r+=8,r>=11&&(e.push(n&2047),n>>=11,r-=11)}function s(){r&&e.push(n)}return t.forEach(i),s(),e}function X4(t){return t.map(e=>_v[e])}function J4(t){const e=ms(t),n=Y4(e);return X4(n)[0]}function ib(t){if(t.length!==yv)throw new RangeError(`Seed length must be ${yv}`);const e=Y4(t),n=X4(e),r=J4(t);return`${n.join(" ")} ${r}`}function GI(t){const e=[];let n=0,r=0;function i(o){for(n|=o<<r,r+=11;r>=8;)e.push(n&255),n>>=8,r-=8}function s(){r&&e.push(n)}return t.forEach(i),s(),new Uint8Array(e)}function sb(t){const e=t.split(" "),n=e.slice(0,24);for(const l of n)if(_v.indexOf(l)===-1)throw new Error(KI);const r=e[e.length-1],i=n.map(l=>_v.indexOf(l));let s=GI(i);if(s.length!==33)throw new Error(Jg);if(s[s.length-1]!==0)throw new Error(Jg);if(s=s.slice(0,s.length-1),J4(s)===r)return s;throw new Error(Jg)}function ZI(t){const e=sb(t),n=a4(e);return{addr:Nt(n.publicKey),sk:n.secretKey}}function YI(t){const e=t.slice(0,yv);return ib(e)}function XI(t){return sb(t)}function JI(t){return ib(t)}const _S=16;class QI{constructor(e){if(this.name="Transaction group",this.tag=Se.Buffer.from("TG"),e.length>_S){const n=`${e.length.toString()} transactions grouped together but max group size is ${_S.toString()}`;throw Error(n)}this.txGroupHashes=e}get_obj_for_encoding(){return{txlist:this.txGroupHashes}}static from_obj_for_encoding(e){const n=Object.create(this.prototype);n.name="Transaction group",n.tag=Se.Buffer.from("TG"),n.txGroupHashes=[];for(const r of e.txlist)n.txGroupHashes.push(Se.Buffer.from(r));return n}toByte(){return Pr(this.get_obj_for_encoding())}}function Q4(t){const e=[];for(const o of t){const l=Po(o);e.push(l.rawTxID())}const n=new QI(e),r=n.toByte(),i=Se.Buffer.from(ar(n.tag,r)),s=ms(i);return Se.Buffer.from(s)}function ej(t,e){const n=Q4(t),r=[];for(const i of t){const s=Po(i);(!e||Nt(s.from.publicKey)===e)&&(s.group=n,r.push(s))}return r}const eL="Not enough multisig transactions to merge. Need at least two",tL="Cannot merge txs. txIDs differ",nL="Cannot merge txs. Auth addrs differ",SS="Cannot merge txs. Multisig preimages differ",rL="Cannot merge txs. subsigs are mismatched.",iL="Key does not exist",kS="Cannot mutate a multisig field as it would invalidate all existing signatures.",sL="Cannot sign a multisig transaction using `signTxn`. Use `partialSignTxn` instead.",oL="Cannot add multisig signature. Signature is not of the correct length.";function tj(t,{version:e,threshold:n,addrs:r}){const i=r.map(f=>Wt(f).publicKey),s=i.map(f=>({pk:Se.Buffer.from(f)})),o={v:e,thr:n,subsig:s},l=t.get_obj_for_encoding(),u={msig:o,txn:l},h=Mo({version:e,threshold:n,pks:i});return Nt(l.snd)!==Nt(h)&&(u.sgnr=Se.Buffer.from(h)),new Uint8Array(Pr(u))}function ES(t,{rawSig:e,myPk:n},{version:r,threshold:i,pks:s}){const o=tj(t,{version:r,threshold:i,addrs:s.map(f=>Nt(f))}),l=pr(o);let u=!1;if(l.msig.subsig.forEach((f,p)=>{c4(f.pk,n)&&(u=!0,l.msig.subsig[p].s=e)}),u===!1)throw new Error(iL);const h=Mo({version:r,threshold:i,pks:s});return Nt(l.txn.snd)!==Nt(h)&&(l.sgnr=Se.Buffer.from(h)),new Uint8Array(Pr(l))}class uc extends $n{addLease(){throw new Error(kS)}addRekey(){throw new Error(kS)}signTxn(e){throw new Error(sL)}partialSignTxn({version:e,threshold:n,pks:r},i){const s=jd(i).publicKey;return ES(this,{rawSig:this.rawSignTxn(i),myPk:s},{version:e,threshold:n,pks:r})}partialSignWithMultisigSignature(e,n,r){if(!l4(r.length))throw new Error(oL);return ES(this,{rawSig:r,myPk:Wt(n).publicKey},e)}static from_obj_for_encoding(e){return super.from_obj_for_encoding(e)}}function gm(t){if(t.length<2)throw new Error(eL);const e=pr(t[0]),n=uc.from_obj_for_encoding(e.txn).txID(),r=e.sgnr?Nt(e.sgnr):void 0,i={version:e.msig.v,threshold:e.msig.thr,pks:e.msig.subsig.map(h=>h.pk)},s=Nt(Mo(i)),o=e.msig.subsig.map(h=>({...h}));for(let h=1;h<t.length;h++){const f=pr(t[h]);if(uc.from_obj_for_encoding(f.txn).txID()!==n)throw new Error(tL);const g=f.sgnr?Nt(f.sgnr):void 0;if(r!==g)throw new Error(nL);if(f.msig.subsig.length!==e.msig.subsig.length)throw new Error(SS);const y={version:f.msig.v,threshold:f.msig.thr,pks:f.msig.subsig.map(w=>w.pk)},_=Nt(Mo(y));if(s!==_)throw new Error(SS);f.msig.subsig.forEach((w,b)=>{if(!w.s)return;const k=o[b];if(k.s&&Se.Buffer.compare(Se.Buffer.from(w.s),Se.Buffer.from(k.s))!==0)throw new Error(rL);k.s=w.s})}const u={msig:{v:e.msig.v,thr:e.msig.thr,subsig:o},txn:e.txn};return typeof r<"u"&&(u.sgnr=Se.Buffer.from(Wt(r).publicKey)),new Uint8Array(Pr(u))}function nj(t,e,n){const r=e.v,i=e.thr,s=e.subsig,o=s.map(f=>f.pk);if(e.subsig.length<i)return!1;let l;try{l=Mo({version:r,threshold:i,pks:o})}catch{return!1}if(!lp(l,n))return!1;let u=0;for(const f of s)f.s!==void 0&&(u+=1);if(u<i)return!1;let h=0;for(const f of s)f.s!==void 0&&s0(t,f.s,f.pk)&&(h+=1);return!(h<i)}function rj(t,{version:e,threshold:n,addrs:r},i){const s=p4({version:e,threshold:n,addrs:r});Object.prototype.hasOwnProperty.call(t,"from")||(t.from=s);const o=r.map(f=>Wt(f).publicKey),l=t instanceof $n;let u,h;return l?(u=t,h=uc.prototype.partialSignTxn.call(u,{version:e,threshold:n,pks:o},i)):(u=new uc(t),h=u.partialSignTxn({version:e,threshold:n,pks:o},i)),{txID:u.txID().toString(),blob:h}}function aL(t,{version:e,threshold:n,addrs:r},i){const s=r.map(h=>Wt(h).publicKey),o=pr(t),l=uc.from_obj_for_encoding(o.txn),u=l.partialSignTxn({version:e,threshold:n,pks:s},i);return{txID:l.txID().toString(),blob:gm([t,u])}}function lL(t,{version:e,threshold:n,addrs:r},i,s){const o=r.map(f=>Wt(f).publicKey),l=pr(t),u=uc.from_obj_for_encoding(l.txn),h=u.partialSignWithMultisigSignature({version:e,threshold:n,pks:o},i,s);return{txID:u.txID().toString(),blob:gm([t,h])}}function cL({version:t,threshold:e,addrs:n}){return p4({version:t,threshold:e,addrs:n})}function AS(t){if(!t||t.length===0)throw new Error("empty program");const e=10,n=32,r=126,i=o=>n<=o&&o<=r;if(t.every(o=>o===e||i(o))){const o=Se.Buffer.from(t).toString();throw f4(o)?new Error("requesting program bytes, get Algorand address"):Se.Buffer.from(o,"base64").toString("base64")===o?new Error("program should not be b64 encoded"):new Error("program bytes are all ASCII printable characters, not looking like Teal byte code")}}class Oo{constructor(e,n){if(this.tag=Se.Buffer.from("Program"),n&&(!Array.isArray(n)||!n.every(i=>i.constructor===Uint8Array||Se.Buffer.isBuffer(i))))throw new TypeError("Invalid arguments");let r;n!=null&&(r=n.map(i=>new Uint8Array(i))),AS(e),this.logic=e,this.args=r,this.sig=void 0,this.msig=void 0}get_obj_for_encoding(){const e={l:this.logic};return this.args&&(e.arg=this.args),this.sig?e.sig=this.sig:this.msig&&(e.msig=this.msig),e}static from_obj_for_encoding(e){const n=new Oo(e.l,e.arg);return n.sig=e.sig,n.msig=e.msig,n}verify(e){if(this.sig&&this.msig)return!1;try{AS(this.logic)}catch{return!1}const n=ar(this.tag,this.logic);if(!this.sig&&!this.msig){const r=ms(n);return lp(r,e)}return this.sig?s0(n,this.sig,e):nj(n,this.msig,e)}address(){const e=ar(this.tag,this.logic),n=ms(e);return Nt(new Uint8Array(n))}sign(e,n){if(n==null)this.sig=this.signProgram(e);else{const r=n.addrs.map(o=>({pk:Wt(o).publicKey}));this.msig={v:n.version,thr:n.threshold,subsig:r};const[i,s]=this.singleSignMultisig(e,this.msig);this.msig.subsig[s].s=i}}appendToMultisig(e){if(this.msig===void 0)throw new Error("no multisig present");const[n,r]=this.singleSignMultisig(e,this.msig);this.msig.subsig[r].s=n}signProgram(e){const n=ar(this.tag,this.logic);return Td(n,e)}singleSignMultisig(e,n){let r=-1;const i=jd(e).publicKey;for(let o=0;o<n.subsig.length;o++){const{pk:l}=n.subsig[o];if(lp(l,i)){r=o;break}}if(r===-1)throw new Error("invalid secret key");return[this.signProgram(e),r]}toByte(){return Pr(this.get_obj_for_encoding())}static fromByte(e){const n=pr(e);return Oo.from_obj_for_encoding(n)}}class fd{constructor(e,n){this.lsig=new Oo(e,n),this.sigkey=void 0}get_obj_for_encoding(){const e={lsig:this.lsig.get_obj_for_encoding()};return this.sigkey&&(e.sigkey=this.sigkey),e}static from_obj_for_encoding(e){const n=new fd(e.lsig.l,e.lsig.arg);return n.lsig=Oo.from_obj_for_encoding(e.lsig),n.sigkey=e.sigkey,n}toByte(){return Pr(this.get_obj_for_encoding())}static fromByte(e){const n=pr(e);return fd.from_obj_for_encoding(n)}isDelegated(){return!!(this.lsig.sig||this.lsig.msig)}verify(){const e=this.address();return this.lsig.verify(Wt(e).publicKey)}address(){if(this.lsig.sig&&this.lsig.msig)throw new Error("LogicSig has too many signatures. At most one of sig or msig may be present");if(this.lsig.sig){if(!this.sigkey)throw new Error("Signing key for delegated account is missing");return Nt(this.sigkey)}if(this.lsig.msig){const e={version:this.lsig.msig.v,threshold:this.lsig.msig.thr,pks:this.lsig.msig.subsig.map(n=>n.pk)};return Nt(Mo(e))}return this.lsig.address()}signMultisig(e,n){this.lsig.sign(n,e)}appendToMultisig(e){this.lsig.appendToMultisig(e)}sign(e){this.lsig.sign(e),this.sigkey=jd(e).publicKey}}function uL(t,e,n){if(!e.verify(n))throw new Error("Logic signature verification failed. Ensure the program and signature are valid.");const r={lsig:e.get_obj_for_encoding(),txn:t.get_obj_for_encoding()};return c4(n,t.from.publicKey)||(r.sgnr=Se.Buffer.from(n)),{txID:t.txID().toString(),blob:Pr(r)}}function ob(t,e){let n,r;if(e instanceof fd)n=e.lsig,r=Wt(e.address()).publicKey;else if(n=e,n.sig)r=t.from.publicKey;else if(n.msig){const i={version:n.msig.v,threshold:n.msig.thr,pks:n.msig.subsig.map(s=>s.pk)};r=Mo(i)}else r=Wt(n.address()).publicKey;return uL(t,n,r)}function dL(t,e){const n=Po(t);return ob(n,e)}function hL(t){return Oo.fromByte(t)}const ij=Se.Buffer.from("ProgData");function sj(t,e,n){const r=ar(Wt(n).publicKey,e),i=Se.Buffer.from(ar(ij,r));return Td(i,t)}function fL(t,e,n,r){const i=ar(Wt(e).publicKey,t),s=Se.Buffer.from(ar(ij,i));return s0(s,n,r)}function pL(t,e,n){const i=new Oo(n).address();return sj(t,e,i)}let oj={};"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split("").forEach(function(t,e){oj[t]=e});function mL(t){let e=[],n=0,r=0;for(let i=0;i<t.length;i+=1){let s=oj[t[i]];if(s===void 0)throw new Error("Invalid character ("+t[i]+")");const o=s&32;if(s&=31,r+=s<<n,o)n+=5;else{const l=r&1;r>>>=1,l?e.push(r===0?-2147483648:-r):e.push(r),r=n=0}}return e}class gL{constructor({version:e,sources:n,names:r,mappings:i}){if(this.version=e,this.sources=n,this.names=r,this.mappings=i,this.version!==3)throw new Error(`Only version 3 is supported, got ${this.version}`);if(this.mappings===void 0)throw new Error("mapping undefined, cannot build source map without `mapping`");const s=this.mappings.split(";").map(l=>{const u=mL(l);if(u.length>2)return u[2]});this.pcToLine={},this.lineToPc={};let o=0;for(const[l,u]of s.entries())u!==void 0&&(o+=u),o in this.lineToPc||(this.lineToPc[o]=[]),this.lineToPc[o].push(l),this.pcToLine[l]=o}getLineForPc(e){return this.pcToLine[e]}getPcsForLine(e){return this.lineToPc[e]}}const xL=1380011588,Qg=30;function CS(t){return t.params["approval-program"]=Se.Buffer.from(t.params["approval-program"].toString(),"base64"),t.params["clear-state-program"]=Se.Buffer.from(t.params["clear-state-program"].toString(),"base64"),t}async function yL({client:t,txns:e,protocolVersion:n,latestTimestamp:r,round:i,sources:s}){const o=[],l=[],u=[],h=[],f=[];for(const _ of e)_.txn.type===xn.appl&&(f.push(Nt(_.txn.from.publicKey)),_.txn.appAccounts&&f.push(..._.txn.appAccounts.map(w=>Nt(w.publicKey))),_.txn.appForeignApps&&(u.push(..._.txn.appForeignApps),f.push(..._.txn.appForeignApps.map(w=>vv(w)))),_.txn.appForeignAssets&&h.push(..._.txn.appForeignAssets),_.txn.appIndex===void 0||_.txn.appIndex===0?o.push(new l0({id:xL,params:new d0({creator:Nt(_.txn.from.publicKey),approvalProgram:_.txn.appApprovalProgram,clearStateProgram:_.txn.appClearProgram,localStateSchema:new Ia({numUint:_.txn.appLocalInts,numByteSlice:_.txn.appLocalByteSlices}),globalStateSchema:new Ia({numUint:_.txn.appGlobalInts,numByteSlice:_.txn.appGlobalByteSlices})})})):(u.push(_.txn.appIndex),f.push(vv(_.txn.appIndex))));const p=[];for(const _ of[...new Set(h)])p.push(t.getAssetByID(_).do().then(w=>{f.push(w.params.creator)}));await Promise.all(p);const g=[];for(const _ of[...new Set(u)])g.push(t.getApplicationByID(_).do().then(w=>{const b=CS(w);o.push(b),f.push(b.params.creator)}));await Promise.all(g);const y=[];for(const _ of[...new Set(f)])y.push(t.accountInformation(_).do().then(w=>{"created-apps"in w&&(w["created-apps"]=w["created-apps"].map(b=>CS(b))),l.push(w)}));return await Promise.all(y),new v0({txns:e.map(_=>({..._,txn:_.txn.get_obj_for_encoding()})),accounts:l,apps:o,latestTimestamp:r,round:i,protocolVersion:n,sources:s})}class vL{constructor(e){this.type=0,this.bytes="",this.uint=0,this.type=e.type,this.bytes=e.bytes,this.uint=e.uint}toString(){return this.type===1?`0x${Se.Buffer.from(this.bytes,"base64").toString("hex")}`:this.uint.toString()}}class wL{constructor(e){this.error="",this.line=0,this.pc=0,this.scratch=[],this.stack=[],this.error=e.error===void 0?"":e.error,this.line=e.line,this.pc=e.pc,this.scratch=e.scratch,this.stack=e.stack.map(n=>new vL(n))}}class jS{constructor(e){this.trace=[],e!=null&&(this.trace=e.map(n=>new wL(n)))}}function ex(t,e){return t.length>e&&e>0?`${t.slice(0,e)}...`:t}function bL(t,e){if(e.length===0)return"";let n=null;for(let i=0;i<e.length;i++){if(i>t.length){n=i;continue}JSON.stringify(t[i])!==JSON.stringify(e[i])&&(n=i)}if(n==null)return"";const r=e[n];return r.bytes.length>0?`${n} = 0x${Se.Buffer.from(r.bytes,"base64").toString("hex")}`:`${n} = ${r.uint.toString()}`}function _L(t,e){return`[${(e?t.reverse():t).map(r=>{switch(r.type){case 1:return`0x${Se.Buffer.from(r.bytes,"base64").toString("hex")}`;case 2:return`${r.uint.toString()}`;default:return""}}).join(", ")}]`}class hp{constructor(e){this.disassembly=[],this.appCallMessages=[],this.localDeltas=[],this.globalDelta=[],this.cost=0,this.logicSigMessages=[],this.logicSigDisassembly=[],this.logs=[],this.appCallTrace=void 0,this.logicSigTrace=void 0,this.required=["disassembly"],this.optionals=["app-call-messages","local-deltas","global-delta","cost","logic-sig-messages","logic-sig-disassembly","logs"],this.traces=["app-call-trace","logic-sig-trace"],this.disassembly=e.disassembly,this.appCallMessages=e["app-call-messages"],this.localDeltas=e["local-deltas"],this.globalDelta=e["global-delta"],this.cost=e.cost,this.logicSigMessages=e["logic-sig-messages"],this.logicSigDisassembly=e["logic-sig-disassembly"],this.logs=e.logs,this.appCallTrace=new jS(e["app-call-trace"]),this.logicSigTrace=new jS(e["logic-sig-trace"])}appCallRejected(){return this.appCallMessages!==void 0&&this.appCallMessages.includes("REJECT")}logicSigRejected(){return this.logicSigMessages!==void 0&&this.logicSigMessages.includes("REJECT")}static trace(e,n,r){const i=r.maxValueWidth||Qg,s=[["pc#","ln#","source","scratch","stack"]];for(let l=0;l<e.trace.length;l++){const{line:u,error:h,pc:f,scratch:p,stack:g}=e.trace[l],y=p!==void 0?p:[],_=l>0&&e.trace[l-1].scratch!==void 0?e.trace[l-1].scratch:[],w=h===""?n[u]:`!! ${h} !!`;s.push([f.toString().padEnd(3," "),u.toString().padEnd(3," "),ex(w,i),ex(bL(_,y),i),ex(_L(g,r.topOfStackFirst),i)])}const o=s.reduce((l,u)=>{const h=new Array(s[0].length).fill(0);for(let f=0;f<l.length;f++)h[f]=u[f].length>l[f]?u[f].length:l[f];return h},new Array(s[0].length).fill(0));return`${s.map(l=>l.map((u,h)=>u.padEnd(o[h]+1," ")).join("|").trim()).join(`
`)}
`}appTrace(e){if(this.appCallTrace===void 0||!this.disassembly)return"";let n=e;return e===void 0&&(n={maxValueWidth:Qg,topOfStackFirst:!1}),hp.trace(this.appCallTrace,this.disassembly,n)}lsigTrace(e){if(this.logicSigTrace===void 0||this.logicSigDisassembly===void 0)return"";let n=e;return e===void 0&&(n={maxValueWidth:Qg,topOfStackFirst:!0}),hp.trace(this.logicSigTrace,this.logicSigDisassembly,n)}}class SL{constructor(e){this.error="",this.protocolVersion="",this.txns=[],this.error=e.error,this.protocolVersion=e["protocol-version"],this.txns=e.txns.map(n=>new hp(n))}}function aj(t,e,n,r,i,s,o){const l={from:t,to:e,amount:n,closeRemainderTo:r,note:i,suggestedParams:s,type:xn.pay,reKeyTo:o};return new $n(l)}function kL(t){return aj(t.from,t.to,t.amount,t.closeRemainderTo,t.note,t.suggestedParams,t.rekeyTo)}function lj(t,e,n,r,i,s,o,l,u,h=!1,f=void 0){const p={from:t,note:e,voteKey:n,selectionKey:r,voteFirst:i,voteLast:s,voteKeyDilution:o,suggestedParams:l,type:xn.keyreg,reKeyTo:u,nonParticipation:h,stateProofKey:f};return new $n(p)}function EL(t){return lj(t.from,t.note,t.voteKey,t.selectionKey,t.voteFirst,t.voteLast,t.voteKeyDilution,t.suggestedParams,t.rekeyTo,t.nonParticipation,t.stateProofKey)}function cj(t,e,n,r,i,s,o,l,u,h,f,p,g,y,_){const w={from:t,note:e,suggestedParams:y,assetTotal:n,assetDecimals:r,assetDefaultFrozen:i,assetUnitName:h,assetName:f,assetURL:p,assetMetadataHash:g,assetManager:s,assetReserve:o,assetFreeze:l,assetClawback:u,type:xn.acfg,reKeyTo:_};return new $n(w)}function AL(t){return cj(t.from,t.note,t.total,t.decimals,t.defaultFrozen,t.manager,t.reserve,t.freeze,t.clawback,t.unitName,t.assetName,t.assetURL,t.assetMetadataHash,t.suggestedParams,t.rekeyTo)}function uj(t,e,n,r,i,s,o,l,u=!0,h){if(u&&(r===void 0||i===void 0||s===void 0||o===void 0))throw Error("strict empty address checking was turned on, but at least one empty address was provided");const f={from:t,suggestedParams:l,assetIndex:n,assetManager:r,assetReserve:i,assetFreeze:s,assetClawback:o,type:xn.acfg,note:e,reKeyTo:h};return new $n(f)}function CL(t){return uj(t.from,t.note,t.assetIndex,t.manager,t.reserve,t.freeze,t.clawback,t.suggestedParams,t.strictEmptyAddressChecking,t.rekeyTo)}function dj(t,e,n,r,i){const s={from:t,suggestedParams:r,assetIndex:n,type:xn.acfg,note:e,reKeyTo:i};return new $n(s)}function jL(t){return dj(t.from,t.note,t.assetIndex,t.suggestedParams,t.rekeyTo)}function hj(t,e,n,r,i,s,o){const l={from:t,type:xn.afrz,freezeAccount:r,assetIndex:n,freezeState:i,note:e,suggestedParams:s,reKeyTo:o};return new $n(l)}function TL(t){return hj(t.from,t.note,t.assetIndex,t.freezeTarget,t.freezeState,t.suggestedParams,t.rekeyTo)}function fj(t,e,n,r,i,s,o,l,u){const h={type:xn.axfer,from:t,to:e,amount:i,suggestedParams:l,assetIndex:o,note:s,assetRevocationTarget:r,closeRemainderTo:n,reKeyTo:u};return new $n(h)}function PL(t){return fj(t.from,t.to,t.closeRemainderTo,t.revocationTarget,t.amount,t.note,t.assetIndex,t.suggestedParams,t.rekeyTo)}function pj(t,e,n,r,i,s,o,l,u,h,f,p,g,y,_,w,b,k){const x={type:xn.appl,from:t,suggestedParams:e,appIndex:0,appOnComplete:n,appLocalInts:s,appLocalByteSlices:o,appGlobalInts:l,appGlobalByteSlices:u,appApprovalProgram:r,appClearProgram:i,appArgs:h,appAccounts:f,appForeignApps:p,appForeignAssets:g,boxes:k,note:y,lease:_,reKeyTo:w,extraPages:b};return new $n(x)}function FL(t){return pj(t.from,t.suggestedParams,t.onComplete,t.approvalProgram,t.clearProgram,t.numLocalInts,t.numLocalByteSlices,t.numGlobalInts,t.numGlobalByteSlices,t.appArgs,t.accounts,t.foreignApps,t.foreignAssets,t.note,t.lease,t.rekeyTo,t.extraPages,t.boxes)}function mj(t,e,n,r,i,s,o,l,u,h,f,p,g){const y={type:xn.appl,from:t,suggestedParams:e,appIndex:n,appApprovalProgram:r,appOnComplete:Yi.UpdateApplicationOC,appClearProgram:i,appArgs:s,appAccounts:o,appForeignApps:l,appForeignAssets:u,boxes:g,note:h,lease:f,reKeyTo:p};return new $n(y)}function NL(t){return mj(t.from,t.suggestedParams,t.appIndex,t.approvalProgram,t.clearProgram,t.appArgs,t.accounts,t.foreignApps,t.foreignAssets,t.note,t.lease,t.rekeyTo,t.boxes)}function gj(t,e,n,r,i,s,o,l,u,h,f){const p={type:xn.appl,from:t,suggestedParams:e,appIndex:n,appOnComplete:Yi.DeleteApplicationOC,appArgs:r,appAccounts:i,appForeignApps:s,appForeignAssets:o,boxes:f,note:l,lease:u,reKeyTo:h};return new $n(p)}function RL(t){return gj(t.from,t.suggestedParams,t.appIndex,t.appArgs,t.accounts,t.foreignApps,t.foreignAssets,t.note,t.lease,t.rekeyTo,t.boxes)}function xj(t,e,n,r,i,s,o,l,u,h,f){const p={type:xn.appl,from:t,suggestedParams:e,appIndex:n,appOnComplete:Yi.OptInOC,appArgs:r,appAccounts:i,appForeignApps:s,appForeignAssets:o,boxes:f,note:l,lease:u,reKeyTo:h};return new $n(p)}function BL(t){return xj(t.from,t.suggestedParams,t.appIndex,t.appArgs,t.accounts,t.foreignApps,t.foreignAssets,t.note,t.lease,t.rekeyTo,t.boxes)}function yj(t,e,n,r,i,s,o,l,u,h,f){const p={type:xn.appl,from:t,suggestedParams:e,appIndex:n,appOnComplete:Yi.CloseOutOC,appArgs:r,appAccounts:i,appForeignApps:s,appForeignAssets:o,boxes:f,note:l,lease:u,reKeyTo:h};return new $n(p)}function DL(t){return yj(t.from,t.suggestedParams,t.appIndex,t.appArgs,t.accounts,t.foreignApps,t.foreignAssets,t.note,t.lease,t.rekeyTo,t.boxes)}function vj(t,e,n,r,i,s,o,l,u,h,f){const p={type:xn.appl,from:t,suggestedParams:e,appIndex:n,appOnComplete:Yi.ClearStateOC,appArgs:r,appAccounts:i,appForeignApps:s,appForeignAssets:o,boxes:f,note:l,lease:u,reKeyTo:h};return new $n(p)}function IL(t){return vj(t.from,t.suggestedParams,t.appIndex,t.appArgs,t.accounts,t.foreignApps,t.foreignAssets,t.note,t.lease,t.rekeyTo,t.boxes)}function wj(t,e,n,r,i,s,o,l,u,h,f){const p={type:xn.appl,from:t,suggestedParams:e,appIndex:n,appOnComplete:Yi.NoOpOC,appArgs:r,appAccounts:i,appForeignApps:s,appForeignAssets:o,boxes:f,note:l,lease:u,reKeyTo:h};return new $n(p)}function LL(t){return wj(t.from,t.suggestedParams,t.appIndex,t.appArgs,t.accounts,t.foreignApps,t.foreignAssets,t.note,t.lease,t.rekeyTo,t.boxes)}function bj(t){const e={type:xn.appl,from:t.from,suggestedParams:t.suggestedParams,appIndex:t.appIndex,appOnComplete:t.onComplete,appLocalInts:t.numLocalInts,appLocalByteSlices:t.numLocalByteSlices,appGlobalInts:t.numGlobalInts,appGlobalByteSlices:t.numGlobalByteSlices,appApprovalProgram:t.approvalProgram,appClearProgram:t.clearProgram,appArgs:t.appArgs,appAccounts:t.accounts,appForeignApps:t.foreignApps,appForeignAssets:t.foreignAssets,boxes:t.boxes,note:t.note,lease:t.lease,reKeyTo:t.rekeyTo,extraPages:t.extraPages};return new $n(e)}function ML(t){return(e,n)=>{const r=[];for(const i of n)r.push(e[i].signTxn(t.sk));return Promise.resolve(r)}}function OL(t){return(e,n)=>{const r=[];for(const i of n){const{blob:s}=ob(e[i],t);r.push(s)}return Promise.resolve(r)}}function $L(t,e){return(n,r)=>{const i=[];for(const s of r){const o=n[s],l=[];for(const u of e){const{blob:h}=rj(o,t,u);l.push(h)}l.length>1?i.push(gm(l)):i.push(l[0])}return Promise.resolve(i)}}function UL(){return(t,e)=>{const n=[];for(const r of e)n.push(y4(t[r]));return Promise.resolve(n)}}function Sv(t){return typeof t=="object"&&Object.keys(t).length===2&&typeof t.txn=="object"&&typeof t.signer=="function"}const Aa=2**16-1,_j=32,Sj=1,kj=1,Lr=2,zL=/^([a-z\d[\](),]+)\[(0|[1-9][\d]*)]$/,qL=/^ufixed([1-9][\d]*)x([1-9][\d]*)$/;class Fr{static from(e){if(e.endsWith("[]")){const n=Fr.from(e.slice(0,e.length-2));return new bm(n)}if(e.endsWith("]")){const n=e.match(zL);if(n.length!==3)throw new Error(`malformed static array string: ${e}`);const r=n[2],i=parseInt(r,10);if(i>Aa)throw new Error(`array length exceeds limit ${Aa}`);const s=Fr.from(n[1]);return new wm(s,i)}if(e.startsWith("uint")){const n=s=>[...s].every(o=>"0123456789".includes(o)),r=e.slice(4,e.length);if(!n(r))throw new Error(`malformed uint string: ${r}`);const i=parseInt(r,10);if(i>Aa)throw new Error(`malformed uint string: ${i}`);return new Ca(i)}if(e==="byte")return new ym;if(e.startsWith("ufixed")){const n=e.match(qL);if(n.length!==3)throw new Error(`malformed ufixed type: ${e}`);const r=parseInt(n[1],10),i=parseInt(n[2],10);return new xm(r,i)}if(e==="bool")return new Os;if(e==="address")return new $d;if(e==="string")return new vm;if(e.length>=2&&e[0]==="("&&e[e.length-1]===")"){const n=Zs.parseTupleContent(e.slice(1,e.length-1)),r=[];for(let i=0;i<n.length;i++){const s=Fr.from(n[i]);r.push(s)}return new Zs(r)}throw new Error(`cannot convert a string ${e} to an ABI type`)}}class Ca extends Fr{constructor(e){if(super(),e%8!==0||e<8||e>512)throw new Error(`unsupported uint type bitSize: ${e}`);this.bitSize=e}toString(){return`uint${this.bitSize}`}equals(e){return e instanceof Ca&&this.bitSize===e.bitSize}isDynamic(){return!1}byteLen(){return this.bitSize/8}encode(e){if(typeof e!="bigint"&&typeof e!="number")throw new Error(`Cannot encode value as uint${this.bitSize}: ${e}`);if(e>=BigInt(2**this.bitSize)||e<BigInt(0))throw new Error(`${e} is not a non-negative int or too big to fit in size uint${this.bitSize}`);if(typeof e=="number"&&!Number.isSafeInteger(e))throw new Error(`${e} should be converted into a BigInt before it is encoded`);return Oa(e,this.bitSize/8)}decode(e){if(e.length!==this.bitSize/8)throw new Error(`byte string must correspond to a uint${this.bitSize}`);return rb(e)}}class xm extends Fr{constructor(e,n){if(super(),e%8!==0||e<8||e>512)throw new Error(`unsupported ufixed type bitSize: ${e}`);if(n>160||n<1)throw new Error(`unsupported ufixed type precision: ${n}`);this.bitSize=e,this.precision=n}toString(){return`ufixed${this.bitSize}x${this.precision}`}equals(e){return e instanceof xm&&this.bitSize===e.bitSize&&this.precision===e.precision}isDynamic(){return!1}byteLen(){return this.bitSize/8}encode(e){if(typeof e!="bigint"&&typeof e!="number")throw new Error(`Cannot encode value as ${this.toString()}: ${e}`);if(e>=BigInt(2**this.bitSize)||e<BigInt(0))throw new Error(`${e} is not a non-negative int or too big to fit in size ${this.toString()}`);if(typeof e=="number"&&!Number.isSafeInteger(e))throw new Error(`${e} should be converted into a BigInt before it is encoded`);return Oa(e,this.bitSize/8)}decode(e){if(e.length!==this.bitSize/8)throw new Error(`byte string must correspond to a ${this.toString()}`);return rb(e)}}class $d extends Fr{toString(){return"address"}equals(e){return e instanceof $d}isDynamic(){return!1}byteLen(){return _j}encode(e){if(typeof e!="string"&&!(e instanceof Uint8Array))throw new Error(`Cannot encode value as ${this.toString()}: ${e}`);if(typeof e=="string")return Wt(e).publicKey;if(e.byteLength!==32)throw new Error("byte string must be 32 bytes long for an address");return e}decode(e){if(e.byteLength!==32)throw new Error("byte string must be 32 bytes long for an address");return Nt(e)}}class Os extends Fr{toString(){return"bool"}equals(e){return e instanceof Os}isDynamic(){return!1}byteLen(){return kj}encode(e){if(typeof e!="boolean")throw new Error(`Cannot encode value as bool: ${e}`);return e?new Uint8Array([128]):new Uint8Array([0])}decode(e){if(e.byteLength!==1)throw new Error("bool string must be 1 byte long");const n=e[0];if(n===128)return!0;if(n===0)return!1;throw new Error("boolean could not be decoded from the byte string")}}class ym extends Fr{toString(){return"byte"}equals(e){return e instanceof ym}isDynamic(){return!1}byteLen(){return Sj}encode(e){if(typeof e!="number"&&typeof e!="bigint")throw new Error(`Cannot encode value as byte: ${e}`);if(typeof e=="bigint"&&(e=Number(e)),e<0||e>255)throw new Error(`${e} cannot be encoded into a byte`);return new Uint8Array([e])}decode(e){if(e.byteLength!==1)throw new Error("byte string must be 1 byte long");return e[0]}}class vm extends Fr{toString(){return"string"}equals(e){return e instanceof vm}isDynamic(){return!0}byteLen(){throw new Error(`${this.toString()} is a dynamic type`)}encode(e){if(typeof e!="string"&&!(e instanceof Uint8Array))throw new Error(`Cannot encode value as string: ${e}`);const n=Se.Buffer.from(e),r=Oa(n.length,Lr),i=new Uint8Array(n.length+Lr);return i.set(r),i.set(n,Lr),i}decode(e){if(e.length<Lr)throw new Error(`byte string is too short to be decoded. Actual length is ${e.length}, but expected at least ${Lr}`);const r=Se.Buffer.from(e).readUIntBE(0,Lr),i=e.slice(Lr,e.length);if(r!==i.length)throw new Error(`string length bytes do not match the actual length of string. Expected ${r}, got ${i.length}`);return Se.Buffer.from(i).toString("utf-8")}}class wm extends Fr{constructor(e,n){if(super(),n<0)throw new Error(`static array must have a non negative length: ${n}`);this.childType=e,this.staticLength=n}toString(){return`${this.childType.toString()}[${this.staticLength}]`}equals(e){return e instanceof wm&&this.staticLength===e.staticLength&&this.childType.equals(e.childType)}isDynamic(){return this.childType.isDynamic()}byteLen(){return this.childType.constructor===Os?Math.ceil(this.staticLength/8):this.staticLength*this.childType.byteLen()}encode(e){if(!Array.isArray(e)&&!(e instanceof Uint8Array))throw new Error(`Cannot encode value as ${this.toString()}: ${e}`);if(e.length!==this.staticLength)throw new Error(`Value array does not match static array length. Expected ${this.staticLength}, got ${e.length}`);return this.toABITupleType().encode(e)}decode(e){return this.toABITupleType().decode(e)}toABITupleType(){return new Zs(Array(this.staticLength).fill(this.childType))}}class bm extends Fr{constructor(e){super(),this.childType=e}toString(){return`${this.childType.toString()}[]`}equals(e){return e instanceof bm&&this.childType.equals(e.childType)}isDynamic(){return!0}byteLen(){throw new Error(`${this.toString()} is a dynamic type`)}encode(e){if(!Array.isArray(e)&&!(e instanceof Uint8Array))throw new Error(`Cannot encode value as ${this.toString()}: ${e}`);const n=this.toABITupleType(e.length),r=n.encode(e),i=Oa(n.childTypes.length,Lr);return ar(i,r)}decode(e){const r=Se.Buffer.from(e).readUIntBE(0,Lr);return this.toABITupleType(r).decode(e.slice(Lr,e.length))}toABITupleType(e){return new Zs(Array(e).fill(this.childType))}}class Zs extends Fr{constructor(e){if(super(),e.length>=Aa)throw new Error("tuple type child type number larger than maximum uint16 error");this.childTypes=e}toString(){const e=[];for(let n=0;n<this.childTypes.length;n++)e[n]=this.childTypes[n].toString();return`(${e.join(",")})`}equals(e){return e instanceof Zs&&this.childTypes.length===e.childTypes.length&&this.childTypes.every((n,r)=>n.equals(e.childTypes[r]))}isDynamic(){const e=n=>n.isDynamic();return this.childTypes.some(e)}byteLen(){let e=0;for(let n=0;n<this.childTypes.length;n++)if(this.childTypes[n].constructor===Os){const r=ou(this.childTypes,n,1),i=r+1;n+=r,e+=Math.trunc((i+7)/8)}else{const r=this.childTypes[n].byteLen();e+=r}return e}encode(e){if(!Array.isArray(e)&&!(e instanceof Uint8Array))throw new Error(`Cannot encode value as ${this.toString()}: ${e}`);const n=Array.from(e);if(e.length>Aa)throw new Error("length of tuple array should not exceed a uint16");const r=this.childTypes,i=[],s=[],o=new Map;let l=0;for(;l<r.length;){const f=r[l];if(f.isDynamic())o.set(i.length,!0),i.push(new Uint8Array([0,0])),s.push(f.encode(n[l]));else{if(f.constructor===Os){const p=ou(r,l,-1);let g=ou(r,l,1);if(p%8!==0)throw new Error("expected before index should have number of bool mod 8 equal 0");g=Math.min(7,g);const y=VL(n.slice(l,l+g+1));i.push(Oa(y,1)),l+=g}else{const p=f.encode(n[l]);i.push(p)}o.set(l,!1),s.push(new Uint8Array)}l+=1}let u=0;for(const f of i)u+=f.length;let h=0;for(let f=0;f<i.length;f++){if(o.get(f)){const p=u+h;if(p>Aa)throw new Error(`byte length of ${p} should not exceed a uint16`);i[f]=Oa(p,Lr)}h+=s[f].length}return ar(...i,...s)}decode(e){const n=this.childTypes,r=[],i=[];let s=0,o=0;const l=Se.Buffer.from(e);for(;s<n.length;){const f=n[s];if(f.isDynamic()){if(e.slice(o,e.length).length<Lr)throw new Error("dynamic type in tuple is too short to be decoded");const p=l.readUIntBE(o,Lr);if(r.length>0&&(r[r.length-1].right=p,p<r[r.length-1].left))throw new Error("dynamic index segment miscalculation: left is greater than right index");const g={left:p,right:-1};r.push(g),i.push(null),o+=Lr}else if(f.constructor===Os){const p=ou(this.childTypes,s,-1);let g=ou(this.childTypes,s,1);if(p%8!==0)throw new Error("expected before bool number mod 8 === 0");g=Math.min(7,g);for(let y=0;y<=g;y++){const _=128>>y;(e[o]&_)>0?i.push(new Uint8Array([128])):i.push(new Uint8Array([0]))}s+=g,o+=1}else{const p=f.byteLen();i.push(e.slice(o,o+p)),o+=p}if(s!==n.length-1&&o>=e.length)throw new Error("input byte not enough to decode");s+=1}if(r.length>0&&(r[r.length-1].right=e.length,o=e.length),o<e.length)throw new Error("input byte not fully consumed");for(let f=0;f<r.length;f++){const p=r[f];if(p.left>p.right)throw new Error("dynamic segment should display a [l, r] space with l <= r");if(f!==r.length-1&&p.right!==r[f+1].left)throw new Error("dynamic segment should be consecutive")}let u=0;for(let f=0;f<n.length;f++)n[f].isDynamic()&&(i[f]=e.slice(r[u].left,r[u].right),u+=1);const h=[];for(let f=0;f<n.length;f++){const p=n[f].decode(i[f]);h.push(p)}return h}static parseTupleContent(e){if(e.length===0)return[];if(e.endsWith(",")||e.startsWith(","))throw new Error("tuple string should not start with comma");if(e.includes(",,"))throw new Error("tuple string should not have consecutive commas");const n=[];let r=0,i="";for(const s of e)i+=s,s==="("?r+=1:s===")"?r-=1:s===","&&r===0&&(n.push(i.slice(0,i.length-1)),i="");if(i.length!==0&&n.push(i),r!==0)throw new Error("tuple string has mismatched parentheses");return n}}function VL(t){let e=0;if(t.length>8)throw new Error("value list passed in should be no greater than length 8");for(let n=0;n<t.length;n++){const r=t[n];if(typeof r!="boolean")throw new Error("non-boolean values cannot be compressed into a byte");r&&(e|=1<<7-n)}return e}function ou(t,e,n){let r=0;for(;;){const i=e+n*r;if(t[i].constructor===Os)if(i!==t.length-1&&n===1)r+=1;else if(i>0&&n===-1)r+=1;else break;else{r-=1;break}}return r}var qi;(function(t){t.any="txn",t.pay="pay",t.keyreg="keyreg",t.acfg="acfg",t.axfer="axfer",t.afrz="afrz",t.appl="appl"})(qi||(qi={}));function fp(t){return t===qi.any||t===qi.pay||t===qi.keyreg||t===qi.acfg||t===qi.axfer||t===qi.afrz||t===qi.appl}function Ej(t,e){return t===qi.any?!0:e.type&&e.type.toString()===t.toString()}var $s;(function(t){t.account="account",t.application="application",t.asset="asset"})($s||($s={}));function ab(t){return t===$s.account||t===$s.application||t===$s.asset}function HL(t){const e=t.indexOf("(");if(e===-1)throw new Error(`Invalid method signature: ${t}`);let n=-1,r=0;for(let i=e;i<t.length;i++){const s=t[i];if(s==="(")r+=1;else if(s===")"){if(r===0)break;if(r-=1,r===0){n=i;break}}}if(n===-1)throw new Error(`Invalid method signature: ${t}`);return{name:t.slice(0,e),args:Zs.parseTupleContent(t.slice(e+1,n)),returns:t.slice(n+1)}}class jc{constructor(e){if(typeof e.name!="string"||typeof e.returns!="object"||!Array.isArray(e.args))throw new Error("Invalid ABIMethod parameters");this.name=e.name,this.description=e.desc,this.args=e.args.map(({type:n,name:r,desc:i})=>fp(n)||ab(n)?{type:n,name:r,description:i}:{type:Fr.from(n),name:r,description:i}),this.returns={type:e.returns.type==="void"?e.returns.type:Fr.from(e.returns.type),description:e.returns.desc},this.events=e.events,this.readonly=e.readonly}getSignature(){const e=this.args.map(r=>r.type.toString()).join(","),n=this.returns.type.toString();return`${this.name}(${e})${n}`}getSelector(){const e=ms(this.getSignature());return new Uint8Array(e.slice(0,4))}txnCount(){let e=1;for(const n of this.args)typeof n.type=="string"&&fp(n.type)&&(e+=1);return e}toJSON(){return{name:this.name,desc:this.description,args:this.args.map(({type:e,name:n,description:r})=>({type:e.toString(),name:n,desc:r})),returns:{type:this.returns.type.toString(),desc:this.returns.description},events:this.events,readonly:this.readonly}}static fromSignature(e){const{name:n,args:r,returns:i}=HL(e);return new jc({name:n,args:r.map(s=>({type:s})),returns:{type:i}})}}function lb(t,e){if(t===null||!Array.isArray(t)||!t.every(r=>r instanceof jc))throw new Error("Methods list provided is null or not the correct type");const n=t.filter(r=>r.name===e);if(n.length>1)throw new Error(`found ${n.length} methods with the same name ${n.map(r=>r.getSignature()).join(",")}`);if(n.length===0)throw new Error(`found 0 methods with the name ${e}`);return n[0]}class WL{constructor(e){if(typeof e.name!="string"||!Array.isArray(e.methods)||e.networks&&typeof e.networks!="object")throw new Error("Invalid ABIContract parameters");this.name=e.name,this.description=e.desc,this.networks=e.networks?{...e.networks}:{},this.methods=e.methods.map(n=>new jc(n)),this.events=e.events}toJSON(){return{name:this.name,desc:this.description,networks:this.networks,methods:this.methods.map(e=>e.toJSON()),events:this.events}}getMethodByName(e){return lb(this.methods,e)}}class KL{constructor(e){if(typeof e.name!="string"||!Array.isArray(e.methods))throw new Error("Invalid ABIInterface parameters");this.name=e.name,this.description=e.desc,this.methods=e.methods.map(n=>new jc(n))}toJSON(){return{name:this.name,desc:this.description,methods:this.methods.map(e=>e.toJSON())}}getMethodByName(e){return lb(this.methods,e)}}const GL=Se.Buffer.from([21,31,124,117]),au=16;var Er;(function(t){t[t.BUILDING=0]="BUILDING",t[t.BUILT=1]="BUILT",t[t.SIGNED=2]="SIGNED",t[t.SUBMITTED=3]="SUBMITTED",t[t.COMMITTED=4]="COMMITTED"})(Er||(Er={}));function tx(t,e,n){if(n!=null&&t===n)return 0;const r=n==null?0:1;for(let i=0;i<e.length;i++)if(t===e[i])return i+r;return e.push(t),e.length-1+r}class ss{constructor(){this.status=Er.BUILDING,this.transactions=[],this.methodCalls=new Map,this.signedTxns=[],this.txIDs=[]}getStatus(){return this.status}count(){return this.transactions.length}clone(){const e=new ss;return e.transactions=this.transactions.map(({txn:n,signer:r})=>({txn:$n.from_obj_for_encoding({...n.get_obj_for_encoding(),grp:void 0}),signer:r})),e.methodCalls=new Map(this.methodCalls),e}addTransaction(e){if(this.status!==Er.BUILDING)throw new Error("Cannot add transactions when composer status is not BUILDING");if(this.transactions.length===ss.MAX_GROUP_SIZE)throw new Error(`Adding an additional transaction exceeds the maximum atomic group size of ${ss.MAX_GROUP_SIZE}`);if(e.txn.group&&e.txn.group.some(n=>n!==0))throw new Error("Cannot add a transaction with nonzero group ID");this.transactions.push(e)}addMethodCall({appID:e,method:n,methodArgs:r,sender:i,suggestedParams:s,onComplete:o,approvalProgram:l,clearProgram:u,numGlobalInts:h,numGlobalByteSlices:f,numLocalInts:p,numLocalByteSlices:g,extraPages:y,appAccounts:_,appForeignApps:w,appForeignAssets:b,boxes:k,note:x,lease:v,rekeyTo:C,signer:F}){if(this.status!==Er.BUILDING)throw new Error("Cannot add transactions when composer status is not BUILDING");if(this.transactions.length+n.txnCount()>ss.MAX_GROUP_SIZE)throw new Error(`Adding additional transactions exceeds the maximum atomic group size of ${ss.MAX_GROUP_SIZE}`);if(e===0){if(l==null||u==null||h==null||f==null||p==null||g==null)throw new Error("One of the following required parameters for application creation is missing: approvalProgram, clearProgram, numGlobalInts, numGlobalByteSlices, numLocalInts, numLocalByteSlices")}else if(o===Yi.UpdateApplicationOC){if(l==null||u==null)throw new Error("One of the following required parameters for OnApplicationComplete.UpdateApplicationOC is missing: approvalProgram, clearProgram");if(h!=null||f!=null||p!=null||g!=null||y!=null)throw new Error("One of the following application creation parameters were set on a non-creation call: numGlobalInts, numGlobalByteSlices, numLocalInts, numLocalByteSlices, extraPages")}else if(l!=null||u!=null||h!=null||f!=null||p!=null||g!=null||y!=null)throw new Error("One of the following application creation parameters were set on a non-creation call: approvalProgram, clearProgram, numGlobalInts, numGlobalByteSlices, numLocalInts, numLocalByteSlices, extraPages");if(r==null&&(r=[]),r.length!==n.args.length)throw new Error(`Incorrect number of method arguments. Expected ${n.args.length}, got ${r.length}`);let j=[],R=[];const z=[],Q=[],$=[],X=new Map,te=k||[];for(let ge=0;ge<r.length;ge++){let fe=n.args[ge].type;const le=r[ge];if(fp(fe)){if(!Sv(le)||!Ej(fe,le.txn))throw new Error(`Expected ${fe} TransactionWithSigner for argument at index ${ge}`);if(le.txn.group&&le.txn.group.some(pe=>pe!==0))throw new Error("Cannot add a transaction with nonzero group ID");z.push(le);continue}if(Sv(le))throw new Error(`Expected non-transaction value for argument at index ${ge}`);if(ab(fe)&&(X.set(Q.length,j.length),Q.push(fe),$.push(le),fe=new Ca(8)),typeof fe=="string")throw new Error(`Unknown ABI type: ${fe}`);j.push(fe),R.push(le)}const ae=[],Ae=_==null?[]:_.slice(),he=w==null?[]:w.slice(),Ee=b==null?[]:b.slice();for(let ge=0;ge<Q.length;ge++){const fe=Q[ge],le=$[ge];let pe=0;switch(fe){case $s.account:{const be=new $d,ie=be.decode(be.encode(le));pe=tx(ie,Ae,i);break}case $s.application:{const be=new Ca(64),ie=be.decode(be.encode(le));if(ie>Number.MAX_SAFE_INTEGER)throw new Error(`Expected safe integer for application value, got ${ie}`);pe=tx(Number(ie),he,e);break}case $s.asset:{const be=new Ca(64),ie=be.decode(be.encode(le));if(ie>Number.MAX_SAFE_INTEGER)throw new Error(`Expected safe integer for asset value, got ${ie}`);pe=tx(Number(ie),Ee);break}default:throw new Error(`Unknown reference type: ${fe}`)}ae.push(pe)}for(let ge=0;ge<ae.length;ge++){const fe=X.get(ge);R[fe]=ae[ge]}if(j.length>au-1){const ge=j.slice(au-2),fe=R.slice(au-2);j=j.slice(0,au-2),R=R.slice(0,au-2),j.push(new Zs(ge)),R.push(fe)}const Ne=[n.getSelector()];for(let ge=0;ge<j.length;ge++)Ne.push(j[ge].encode(R[ge]));const me={txn:bj({from:i,appIndex:e,appArgs:Ne,accounts:Ae,foreignApps:he,foreignAssets:Ee,boxes:te,onComplete:o??Yi.NoOpOC,approvalProgram:l,clearProgram:u,numGlobalInts:h,numGlobalByteSlices:f,numLocalInts:p,numLocalByteSlices:g,extraPages:y,lease:v,note:x,rekeyTo:C,suggestedParams:s}),signer:F};this.transactions.push(...z,me),this.methodCalls.set(this.transactions.length-1,n)}buildGroup(){if(this.status===Er.BUILDING){if(this.transactions.length===0)throw new Error("Cannot build a group with 0 transactions");this.transactions.length>1&&ej(this.transactions.map(e=>e.txn)),this.status=Er.BUILT}return this.transactions}async gatherSignatures(){if(this.status>=Er.SIGNED)return this.signedTxns;const e=this.buildGroup(),n=e.map(u=>u.txn),r=new Map;for(let u=0;u<e.length;u++){const{signer:h}=e[u];r.has(h)||r.set(h,[]),r.get(h).push(u)}const i=Array.from(r),s=await Promise.all(i.map(([u,h])=>u(n,h))),o=e.map(()=>null);for(let u=0;u<i.length;u++){const h=i[u][1],f=s[u];for(let p=0;p<h.length;p++)o[h[p]]=f[p]}if(!o.every(u=>u!=null))throw new Error(`Missing signatures. Got ${o}`);const l=o.map((u,h)=>{try{return v4(u).txn.txID()}catch(f){throw new Error(`Cannot decode signed transaction at index ${h}. ${f}`)}});return this.signedTxns=o,this.txIDs=l,this.status=Er.SIGNED,o}async submit(e){if(this.status>Er.SUBMITTED)throw new Error("Transaction group cannot be resubmitted");const n=await this.gatherSignatures();return await e.sendRawTransaction(n).do(),this.status=Er.SUBMITTED,this.txIDs}async simulate(e,n){if(this.status>Er.SUBMITTED)throw new Error("Simulated Transaction group has already been submitted to the network");const i=(await this.gatherSignatures()).map(u=>pr(u)),s=n??new Pd({txnGroups:[]});s.txnGroups=[new Ec({txns:i})];const o=await e.simulateTransactions(s).do(),l=[];for(const[u,h]of this.methodCalls){const f=this.txIDs[u],p=o.txnGroups[0].txnResults[u].txnResult,g={txID:f,rawReturnValue:new Uint8Array,method:h};l.push(ss.parseMethodResponse(h,g,p.get_obj_for_encoding()))}return{methodResults:l,simulateResponse:o}}async execute(e,n){if(this.status===Er.COMMITTED)throw new Error("Transaction group has already been executed successfully");const r=await this.submit(e);this.status=Er.SUBMITTED;const i=this.transactions.findIndex((h,f)=>this.methodCalls.has(f)),o=await Z4(e,r[i===-1?0:i],n);this.status=Er.COMMITTED;const l=o["confirmed-round"],u=[];for(const[h,f]of this.methodCalls){const p=r[h];let g={txID:p,rawReturnValue:new Uint8Array,method:f};try{const y=h===i?o:await e.pendingTransactionInformation(p).do();g=ss.parseMethodResponse(f,g,y)}catch(y){g.decodeError=y}u.push(g)}return{confirmedRound:l,txIDs:r,methodResults:u}}static parseMethodResponse(e,n,r){const i=n;try{if(i.txInfo=r,e.returns.type!=="void"){const s=r.logs||[];if(s.length===0)throw new Error("App call transaction did not log a return value");const o=Se.Buffer.from(s[s.length-1],"base64");if(o.byteLength<4||!o.slice(0,4).equals(GL))throw new Error("App call transaction did not log a return value");i.rawReturnValue=new Uint8Array(o.slice(4)),i.returnValue=e.returns.type.decode(n.rawReturnValue)}}catch(s){i.decodeError=s}return i}}ss.MAX_GROUP_SIZE=16;const Aj=Se.Buffer.from([77,88]),Cj="The transaction sender address and multisig preimage do not match.";function ZL(t,e){if(typeof t.from>"u"){const r=jd(e);t.from=Nt(r.publicKey)}const n=Po(t);return{txID:n.txID().toString(),blob:n.signTxn(e)}}function YL(t,e){return new _D(t).signBid(e)}function XL(t,e){const n=Se.Buffer.from(ar(Aj,t));return Td(n,e)}function JL(t,e,n){const r=Se.Buffer.from(ar(Aj,t)),i=Wt(n).publicKey;return s0(r,e,i)}function QL(t){return new Uint8Array(Pr(t))}function eM(t){return pr(t)}const tM=new Error(Cj),nM=new Error(y1),Hh=Object.freeze(Object.defineProperty({__proto__:null,ABIAddressType:$d,ABIArrayDynamicType:bm,ABIArrayStaticType:wm,ABIBoolType:Os,ABIByteType:ym,ABIContract:WL,ABIInterface:KL,ABIMethod:jc,get ABIReferenceType(){return $s},ABIStringType:vm,get ABITransactionType(){return qi},ABITupleType:Zs,ABIType:Fr,ABIUfixedType:xm,ABIUintType:Ca,ADDR_BYTE_SIZE:_j,ALGORAND_MIN_TX_FEE:wv,Algodv2:bI,AtomicTransactionComposer:ss,get AtomicTransactionComposerStatus(){return Er},DryrunResult:SL,ERROR_INVALID_MICROALGOS:nM,ERROR_MULTISIG_BAD_SENDER:tM,INVALID_MICROALGOS_ERROR_MSG:y1,Indexer:HI,IntDecoding:i0,Kmd:_I,LENGTH_ENCODE_BYTE_SIZE:Lr,LogicSig:Oo,LogicSigAccount:fd,MAX_LEN:Aa,MULTISIG_BAD_SENDER_ERROR_MSG:Cj,get OnApplicationComplete(){return Yi},SINGLE_BOOL_SIZE:kj,SINGLE_BYTE_SIZE:Sj,SourceMap:gL,Transaction:$n,get TransactionType(){return xn},abiCheckTransactionType:Ej,abiTypeIsReference:ab,abiTypeIsTransaction:fp,algosToMicroalgos:kD,appendSignMultisigTransaction:aL,appendSignRawMultisigSignature:lL,assignGroupID:ej,bigIntToBytes:Oa,bytesToBigInt:rb,computeGroupID:Q4,createDryrun:yL,createMultisigTransaction:tj,decodeAddress:Wt,decodeObj:eM,decodeSignedTransaction:v4,decodeUint64:QB,decodeUnsignedTransaction:bD,encodeAddress:Nt,encodeObj:QL,encodeUint64:d4,encodeUnsignedSimulateTransaction:y4,encodeUnsignedTransaction:wD,generateAccount:WI,getApplicationAddress:vv,getMethodByName:lb,indexerModels:LI,instantiateTxnIfNeeded:Po,isTransactionWithSigner:Sv,isValidAddress:f4,logicSigFromByte:hL,makeApplicationCallTxnFromObject:bj,makeApplicationClearStateTxn:vj,makeApplicationClearStateTxnFromObject:IL,makeApplicationCloseOutTxn:yj,makeApplicationCloseOutTxnFromObject:DL,makeApplicationCreateTxn:pj,makeApplicationCreateTxnFromObject:FL,makeApplicationDeleteTxn:gj,makeApplicationDeleteTxnFromObject:RL,makeApplicationNoOpTxn:wj,makeApplicationNoOpTxnFromObject:LL,makeApplicationOptInTxn:xj,makeApplicationOptInTxnFromObject:BL,makeApplicationUpdateTxn:mj,makeApplicationUpdateTxnFromObject:NL,makeAssetConfigTxnWithSuggestedParams:uj,makeAssetConfigTxnWithSuggestedParamsFromObject:CL,makeAssetCreateTxnWithSuggestedParams:cj,makeAssetCreateTxnWithSuggestedParamsFromObject:AL,makeAssetDestroyTxnWithSuggestedParams:dj,makeAssetDestroyTxnWithSuggestedParamsFromObject:jL,makeAssetFreezeTxnWithSuggestedParams:hj,makeAssetFreezeTxnWithSuggestedParamsFromObject:TL,makeAssetTransferTxnWithSuggestedParams:fj,makeAssetTransferTxnWithSuggestedParamsFromObject:PL,makeBasicAccountTransactionSigner:ML,makeEmptyTransactionSigner:UL,makeKeyRegistrationTxnWithSuggestedParams:lj,makeKeyRegistrationTxnWithSuggestedParamsFromObject:EL,makeLogicSigAccountTransactionSigner:OL,makeMultiSigAccountTransactionSigner:$L,makePaymentTxnWithSuggestedParams:aj,makePaymentTxnWithSuggestedParamsFromObject:kL,masterDerivationKeyToMnemonic:JI,mergeMultisigTransactions:gm,microalgosToAlgos:SD,mnemonicFromSeed:ib,mnemonicToMasterDerivationKey:XI,mnemonicToSecretKey:ZI,modelsv2:BD,multisigAddress:cL,secretKeyToMnemonic:YI,seedFromMnemonic:sb,signBid:YL,signBytes:XL,signLogicSigTransaction:dL,signLogicSigTransactionObject:ob,signMultisigTransaction:rj,signTransaction:ZL,tealSign:sj,tealSignFromProgram:pL,verifyBytes:JL,verifyMultisig:nj,verifyTealSign:fL,waitForConfirmation:Z4},Symbol.toStringTag,{value:"Module"}));class rM{constructor(){this.isOnline=!1,this.lastNetworkCheck=0,this.networkCheckInterval=6e4,this.config={apiKey:"98D9CE80660AD243893D56D9F125CD2D",nodeUrl:"https://testnet-api.4160.nodely.io",indexerUrl:"https://testnet-idx.4160.nodely.io",network:"testnet"};const e=this.config.apiKey?{"X-Algo-api-token":this.config.apiKey}:{};this.algodClient=new Hh.Algodv2("",this.config.nodeUrl,void 0,e),this.algodClient.setIntEncoding(Hh.IntDecoding.BIGINT),this.indexerClient=new Hh.Indexer("",this.config.indexerUrl,void 0,e),console.log("Algorand Service initialized:",{network:this.config.network,nodeUrl:this.config.nodeUrl,hasApiKey:!!this.config.apiKey})}async getNetworkStatus(){const e=Date.now();if(e-this.lastNetworkCheck<this.networkCheckInterval&&!this.isOnline)return{online:!1,network:this.config.network+" (offline)",lastRound:0};this.lastNetworkCheck=e;try{if(!this.config.apiKey)return console.warn("Algorand API key not configured, using demo mode"),this.isOnline=!0,{online:!0,network:this.config.network+" (demo)",lastRound:Math.floor(Math.random()*1e6)+3e7};const n=new AbortController,r=setTimeout(()=>n.abort(),1e4);try{const i=await this.algodClient.status().do();return clearTimeout(r),this.isOnline=!0,{online:!0,network:this.config.network,lastRound:Number(i["last-round"])}}catch(i){throw clearTimeout(r),i}}catch(n){return console.warn("Algorand network connection failed, using demo mode:",n),this.isOnline=!1,n instanceof Error&&(n.message.includes("Failed to fetch")||n.message.includes("CORS")||n.message.includes("NetworkError")||n.name==="AbortError"?console.warn("Network connectivity issue detected, falling back to demo mode"):n.message.includes("invalid token")&&console.warn("Algorand authentication failed, falling back to demo mode")),{online:!0,network:this.config.network+" (demo)",lastRound:Math.floor(Math.random()*1e6)+3e7}}}async createProofTransaction(e,n,r){try{if(console.log("Creating proof transaction for:",n),!this.config.apiKey||!this.isOnline)return console.warn("Algorand service offline or not configured, using mock transaction"),this.generateMockTxId();const i=new AbortController,s=setTimeout(()=>i.abort(),1e4);try{const o=await this.algodClient.getTransactionParams().do();clearTimeout(s);const l=JSON.stringify({type:"proof_of_existence",fileHash:e,fileName:n,timestamp:new Date().toISOString(),app:"ProofVault",version:"2.0.0"}),u=new TextEncoder().encode(l),h=Hh.makePaymentTxnWithSuggestedParamsFromObject({from:r,to:r,amount:0,note:u,suggestedParams:o}),f=this.generateMockTxId();return console.log("Proof transaction created:",{txId:f,fileHash:e,noteLength:u.length}),f}catch(o){throw clearTimeout(s),o}}catch(i){return console.warn("Failed to create proof transaction, using mock:",i),this.generateMockTxId()}}async verifyProofTransaction(e){try{if(console.log("Verifying proof transaction:",e),e.startsWith("MOCK_"))return{txId:e,blockNumber:Math.floor(Math.random()*1e6)+3e7,timestamp:new Date,fileHash:"mock_hash_"+e.slice(-8),note:"Mock proof transaction for demo"};if(!this.config.apiKey||!this.isOnline)return console.warn("Algorand service offline or not configured, cannot verify real transactions"),null;const n=new AbortController,r=setTimeout(()=>n.abort(),1e4);try{const i=await this.indexerClient.lookupTransactionByID(e).do();if(clearTimeout(r),!i.transaction)return null;const s=i.transaction,o=s.note?new TextDecoder().decode(Buffer.from(s.note,"base64")):"";let l;try{l=JSON.parse(o)}catch{l={fileHash:"unknown",note:o}}return{txId:s.id,blockNumber:s["confirmed-round"],timestamp:new Date(s["round-time"]*1e3),fileHash:l.fileHash||"unknown",note:o}}catch(i){throw clearTimeout(r),i}}catch(n){return console.warn("Failed to verify proof transaction:",n),null}}async getTransactionsByAddress(e,n=10){try{if(!this.config.apiKey||!this.isOnline)return console.warn("Algorand service offline or not configured, cannot fetch real transactions"),[];const r=new AbortController,i=setTimeout(()=>r.abort(),1e4);try{const s=await this.indexerClient.lookupAccountTransactions(e).limit(n).do();clearTimeout(i);const o=[];for(const l of s.transactions)if(l.note){const u=new TextDecoder().decode(Buffer.from(l.note,"base64"));try{const h=JSON.parse(u);h.type==="proof_of_existence"&&o.push({txId:l.id,blockNumber:l["confirmed-round"],timestamp:new Date(l["round-time"]*1e3),fileHash:h.fileHash,note:u})}catch{}}return o}catch(s){throw clearTimeout(i),s}}catch(r){return console.warn("Failed to get transactions:",r),[]}}generateMockTxId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567";let n="MOCK_";for(let r=0;r<48;r++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}getExplorerUrl(e){return`${{mainnet:"https://algoexplorer.io/tx",testnet:"https://testnet.algoexplorer.io/tx",betanet:"https://betanet.algoexplorer.io/tx"}[this.config.network]}/${e}`}isConfigured(){return!!this.config.apiKey&&!!this.config.nodeUrl}getNetworkInfo(){return{network:this.config.network,nodeUrl:this.config.nodeUrl,indexerUrl:this.config.indexerUrl,isConfigured:this.isConfigured(),isOnline:this.isOnline}}}const dc=new rM,jj=Y.createContext(void 0),xs=()=>{const t=Y.useContext(jj);if(!t)throw new Error("useWallet must be used within a WalletProvider");return t},iM=({children:t})=>{const[e,n]=Y.useState(!1),[r,i]=Y.useState(null),[s,o]=Y.useState({online:!1,network:"testnet",lastRound:0}),l=async()=>{try{const f=await dc.getNetworkStatus();o(f)}catch(f){console.warn("Network status check failed, using offline mode:",f),o(p=>({...p,online:!1,network:p.network+" (offline)"}))}};Y.useEffect(()=>{l().catch(g=>{console.warn("Initial network status check failed:",g)});const f=localStorage.getItem("walletAddress");f&&(i(f),n(!0));const p=setInterval(()=>{l().catch(g=>{console.warn("Periodic network status check failed:",g)})},6e4);return()=>clearInterval(p)},[]);const u=async()=>{try{dc.isConfigured()||console.warn("Algorand service not fully configured, using demo mode");const f="DEMO"+Math.random().toString(36).substring(2,15).toUpperCase();i(f),n(!0),localStorage.setItem("walletAddress",f);try{await l()}catch(p){console.warn("Failed to refresh network status after wallet connection:",p)}}catch(f){throw console.error("Failed to connect wallet:",f),f}},h=()=>{i(null),n(!1),localStorage.removeItem("walletAddress")};return c.jsx(jj.Provider,{value:{isConnected:e,walletAddress:r,connectWallet:u,disconnectWallet:h,networkStatus:s,refreshNetworkStatus:l},children:t})},sM="modulepreload",oM=function(t){return"/"+t},TS={},Tc=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=oM(u),u in TS)return;TS[u]=!0;const h=u.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=h?"stylesheet":sM,h||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),h)return new Promise((g,y)=>{p.addEventListener("load",g),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},aM=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Tc(async()=>{const{default:r}=await Promise.resolve().then(()=>Pc);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class cb extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class lM extends cb{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class cM extends cb{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class uM extends cb{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var kv;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(kv||(kv={}));var dM=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(f){try{h(r.next(f))}catch(p){o(p)}}function u(f){try{h(r.throw(f))}catch(p){o(p)}}function h(f){f.done?s(f.value):i(f.value).then(l,u)}h((r=r.apply(t,e||[])).next())})};class hM{constructor(e,{headers:n={},customFetch:r,region:i=kv.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=aM(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return dM(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let l={},{region:u}=n;u||(u=this.region),u&&u!=="any"&&(l["x-region"]=u);let h;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(l["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(l["Content-Type"]="application/json",h=JSON.stringify(o)));const f=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:h}).catch(_=>{throw new lM(_)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new cM(f);if(!f.ok)throw new uM(f);let g=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return g==="application/json"?y=yield f.json():g==="application/octet-stream"?y=yield f.blob():g==="text/event-stream"?y=f:g==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null}}catch(i){return{data:null,error:i}}})}}var ei={},ub={},_m={},Ud={},Sm={},km={},fM=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},hc=fM();const pM=hc.fetch,Tj=hc.fetch.bind(hc),Pj=hc.Headers,mM=hc.Request,gM=hc.Response,Pc=Object.freeze(Object.defineProperty({__proto__:null,Headers:Pj,Request:mM,Response:gM,default:Tj,fetch:pM},Symbol.toStringTag,{value:"Module"})),xM=SA(Pc);var Em={};Object.defineProperty(Em,"__esModule",{value:!0});let yM=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Em.default=yM;var Fj=jt&&jt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(km,"__esModule",{value:!0});const vM=Fj(xM),wM=Fj(Em);let bM=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=vM.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,l,u;let h=null,f=null,p=null,g=s.status,y=s.statusText;if(s.ok){if(this.method!=="HEAD"){const k=await s.text();k===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=k:f=JSON.parse(k))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&b&&b.length>1&&(p=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(h={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,g=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const w=await s.text();try{h=JSON.parse(w),Array.isArray(h)&&s.status===404&&(f=[],h=null,g=200,y="OK")}catch{s.status===404&&w===""?(g=204,y="No Content"):h={message:w}}if(h&&this.isMaybeSingle&&(!((u=h==null?void 0:h.details)===null||u===void 0)&&u.includes("0 rows"))&&(h=null,g=200,y="OK"),h&&this.shouldThrowOnError)throw new wM.default(h)}return{error:h,data:f,count:p,status:g,statusText:y}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,l,u;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(u=s==null?void 0:s.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};km.default=bM;var _M=jt&&jt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sm,"__esModule",{value:!0});const SM=_M(km);let kM=class extends SM.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var l;const u=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),h=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${h}"; options=${u};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Sm.default=kM;var EM=jt&&jt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ud,"__esModule",{value:!0});const AM=EM(Sm);let CM=class extends AM.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Ud.default=CM;var jM=jt&&jt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_m,"__esModule",{value:!0});const lu=jM(Ud);let TM=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new lu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new lu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const u=e.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(u.length>0){const h=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new lu.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new lu.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new lu.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};_m.default=TM;var Am={},Cm={};Object.defineProperty(Cm,"__esModule",{value:!0});Cm.version=void 0;Cm.version="0.0.0-automated";Object.defineProperty(Am,"__esModule",{value:!0});Am.DEFAULT_HEADERS=void 0;const PM=Cm;Am.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${PM.version}`};var Nj=jt&&jt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ub,"__esModule",{value:!0});const FM=Nj(_m),NM=Nj(Ud),RM=Am;let BM=class Rj{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},RM.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new FM.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Rj(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let u;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([f,p])=>p!==void 0).map(([f,p])=>[f,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([f,p])=>{l.searchParams.append(f,p)})):(o="POST",u=n);const h=Object.assign({},this.headers);return s&&(h.Prefer=`count=${s}`),new NM.default({method:o,url:l,headers:h,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};ub.default=BM;var Fc=jt&&jt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ei,"__esModule",{value:!0});ei.PostgrestError=ei.PostgrestBuilder=ei.PostgrestTransformBuilder=ei.PostgrestFilterBuilder=ei.PostgrestQueryBuilder=ei.PostgrestClient=void 0;const Bj=Fc(ub);ei.PostgrestClient=Bj.default;const Dj=Fc(_m);ei.PostgrestQueryBuilder=Dj.default;const Ij=Fc(Ud);ei.PostgrestFilterBuilder=Ij.default;const Lj=Fc(Sm);ei.PostgrestTransformBuilder=Lj.default;const Mj=Fc(km);ei.PostgrestBuilder=Mj.default;const Oj=Fc(Em);ei.PostgrestError=Oj.default;var DM=ei.default={PostgrestClient:Bj.default,PostgrestQueryBuilder:Dj.default,PostgrestFilterBuilder:Ij.default,PostgrestTransformBuilder:Lj.default,PostgrestBuilder:Mj.default,PostgrestError:Oj.default};const{PostgrestClient:IM,PostgrestQueryBuilder:FG,PostgrestFilterBuilder:NG,PostgrestTransformBuilder:RG,PostgrestBuilder:BG,PostgrestError:DG}=DM;let Ev;typeof window>"u"?Ev=require("ws"):Ev=window.WebSocket;const LM=Ev,MM="2.11.10",OM={"X-Client-Info":`realtime-js/${MM}`},$M="1.0.0",$j=1e4,UM=1e3;var Xl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Xl||(Xl={}));var Br;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Br||(Br={}));var Vi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Vi||(Vi={}));var Av;(function(t){t.websocket="websocket"})(Av||(Av={}));var ma;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ma||(ma={}));class zM{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+i));o=o+i;const u=r.decode(e.slice(o,o+s));o=o+s;const h=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:u,payload:h}}}class Uj{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var kn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(kn||(kn={}));const PS=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=qM(o,t,e,i),s),{})},qM=(t,e,n,r)=>{const i=e.find(l=>l.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?zj(s,o):Cv(o)},zj=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return KM(e,n)}switch(t){case kn.bool:return VM(e);case kn.float4:case kn.float8:case kn.int2:case kn.int4:case kn.int8:case kn.numeric:case kn.oid:return HM(e);case kn.json:case kn.jsonb:return WM(e);case kn.timestamp:return GM(e);case kn.abstime:case kn.date:case kn.daterange:case kn.int4range:case kn.int8range:case kn.money:case kn.reltime:case kn.text:case kn.time:case kn.timestamptz:case kn.timetz:case kn.tsrange:case kn.tstzrange:return Cv(e);default:return Cv(e)}},Cv=t=>t,VM=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},HM=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},WM=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},KM=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>zj(e,l))}return t},GM=t=>typeof t=="string"?t.replace(" ","T"):t,qj=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class nx{constructor(e,n,r={},i=$j){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var FS;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(FS||(FS={}));class Du{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Du.syncState(this.state,i,s,o),this.pendingDiffs.forEach(u=>{this.state=Du.syncDiff(this.state,u,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Du.syncDiff(this.state,i,s,o),l())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),l={},u={};return this.map(s,(h,f)=>{o[h]||(u[h]=f)}),this.map(o,(h,f)=>{const p=s[h];if(p){const g=f.map(b=>b.presence_ref),y=p.map(b=>b.presence_ref),_=f.filter(b=>y.indexOf(b.presence_ref)<0),w=p.filter(b=>g.indexOf(b.presence_ref)<0);_.length>0&&(l[h]=_),w.length>0&&(u[h]=w)}else l[h]=f}),this.syncDiff(s,{joins:l,leaves:u},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(l,u)=>{var h;const f=(h=e[l])!==null&&h!==void 0?h:[];if(e[l]=this.cloneDeep(u),f.length>0){const p=e[l].map(y=>y.presence_ref),g=f.filter(y=>p.indexOf(y.presence_ref)<0);e[l].unshift(...g)}r(l,f,u)}),this.map(o,(l,u)=>{let h=e[l];if(!h)return;const f=u.map(p=>p.presence_ref);h=h.filter(p=>f.indexOf(p.presence_ref)<0),e[l]=h,i(l,h,u),h.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var NS;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(NS||(NS={}));var RS;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(RS||(RS={}));var Ns;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ns||(Ns={}));class db{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Br.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new nx(this,Vi.join,this.params,this.timeout),this.rejoinTimer=new Uj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Br.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Br.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Br.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Br.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vi.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Du(this),this.broadcastEndpointURL=qj(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:l}}=this.params;this._onError(f=>e==null?void 0:e(Ns.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(Ns.CLOSED));const u={},h={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},u)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){e==null||e(Ns.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(p=g==null?void 0:g.length)!==null&&p!==void 0?p:0,_=[];for(let w=0;w<y;w++){const b=g[w],{filter:{event:k,schema:x,table:v,filter:C}}=b,F=f&&f[w];if(F&&F.event===k&&F.schema===x&&F.table===v&&F.filter===C)_.push(Object.assign(Object.assign({},b),{id:F.id}));else{this.unsubscribe(),this.state=Br.errored,e==null||e(Ns.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(Ns.SUBSCRIBED);return}}).receive("error",f=>{this.state=Br.errored,e==null||e(Ns.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ns.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,u;const h=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Br.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vi.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const i=new nx(this,Vi.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new nx(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:l,error:u,leave:h,join:f}=Vi;if(r&&[l,u,h,f].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var _,w,b;return((_=y.filter)===null||_===void 0?void 0:_.event)==="*"||((b=(w=y.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(y=>y.callback(g,r)):(s=this.bindings[o])===null||s===void 0||s.filter(y=>{var _,w,b,k,x,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const C=y.id,F=(_=y.filter)===null||_===void 0?void 0:_.event;return C&&((w=n.ids)===null||w===void 0?void 0:w.includes(C))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const C=(x=(k=y==null?void 0:y.filter)===null||k===void 0?void 0:k.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return C==="*"||C===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof g=="object"&&"ids"in g){const _=g.data,{schema:w,table:b,commit_timestamp:k,type:x,errors:v}=_;g=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:k,eventType:x,new:{},old:{},errors:v}),this._getPayloadRecords(_))}y.callback(g,r)})}_isClosed(){return this.state===Br.closed}_isJoined(){return this.state===Br.joined}_isJoining(){return this.state===Br.joining}_isLeaving(){return this.state===Br.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&db.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Vi.close,{},e)}_onError(e){this._on(Vi.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Br.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=PS(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=PS(e.columns,e.old_record)),n}}const BS=()=>{},ZM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class YM{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=OM,this.params={},this.timeout=$j,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=BS,this.ref=0,this.logger=BS,this.conn=null,this.sendBuffer=[],this.serializer=new zM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...l)=>Tc(async()=>{const{default:u}=await Promise.resolve().then(()=>Pc);return{default:u}},void 0).then(({default:u})=>u(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${Av.websocket}`,this.httpEndpoint=qj(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Uj(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=LM),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new XM(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$M}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Xl.connecting:return ma.Connecting;case Xl.open:return ma.Open;case Xl.closing:return ma.Closing;default:return ma.Closed}}isConnected(){return this.connectionState()===ma.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new db(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Vi.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(UM,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Vi.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([ZM],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class XM{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Xl.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class hb extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function dr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class JM extends hb{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class jv extends hb{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var QM=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(f){try{h(r.next(f))}catch(p){o(p)}}function u(f){try{h(r.throw(f))}catch(p){o(p)}}function h(f){f.done?s(f.value):i(f.value).then(l,u)}h((r=r.apply(t,e||[])).next())})};const Vj=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Tc(async()=>{const{default:r}=await Promise.resolve().then(()=>Pc);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},eO=()=>QM(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Tc(()=>Promise.resolve().then(()=>Pc),void 0)).Response:Response}),Tv=t=>{if(Array.isArray(t))return t.map(n=>Tv(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Tv(r)}),e};var Ga=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(f){try{h(r.next(f))}catch(p){o(p)}}function u(f){try{h(r.throw(f))}catch(p){o(p)}}function h(f){f.done?s(f.value):i(f.value).then(l,u)}h((r=r.apply(t,e||[])).next())})};const rx=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tO=(t,e,n)=>Ga(void 0,void 0,void 0,function*(){const r=yield eO();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new JM(rx(i),t.status||500))}).catch(i=>{e(new jv(rx(i),i))}):e(new jv(rx(t),t))}),nO=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function zd(t,e,n,r,i,s){return Ga(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,nO(e,r,i,s)).then(u=>{if(!u.ok)throw u;return r!=null&&r.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>tO(u,l,r))})})}function pp(t,e,n,r){return Ga(this,void 0,void 0,function*(){return zd(t,"GET",e,n,r)})}function ho(t,e,n,r,i){return Ga(this,void 0,void 0,function*(){return zd(t,"POST",e,r,i,n)})}function rO(t,e,n,r,i){return Ga(this,void 0,void 0,function*(){return zd(t,"PUT",e,r,i,n)})}function iO(t,e,n,r){return Ga(this,void 0,void 0,function*(){return zd(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Hj(t,e,n,r,i){return Ga(this,void 0,void 0,function*(){return zd(t,"DELETE",e,r,i,n)})}var Yr=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(f){try{h(r.next(f))}catch(p){o(p)}}function u(f){try{h(r.throw(f))}catch(p){o(p)}}function h(f){f.done?s(f.value):i(f.value).then(l,u)}h((r=r.apply(t,e||[])).next())})};const sO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class oO{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Vj(i)}uploadOrUpdate(e,n,r,i){return Yr(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},DS),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),u&&s.append("metadata",this.encodeMetadata(u))):(s=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const h=this._removeEmptyFolders(n),f=this._getFinalPath(h),p=yield this.fetch(`${this.url}/object/${f}`,Object.assign({method:e,body:s,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),g=yield p.json();return p.ok?{data:{path:h,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(s){if(dr(s))return{data:null,error:s};throw s}})}upload(e,n,r){return Yr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return Yr(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let u;const h=Object.assign({upsert:DS.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",h.cacheControl)):(u=r,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType);const p=yield this.fetch(l.toString(),{method:"PUT",body:u,headers:f}),g=yield p.json();return p.ok?{data:{path:s,fullPath:g.Key},error:null}:{data:null,error:g}}catch(u){if(dr(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,n){return Yr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield ho(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new hb("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(dr(r))return{data:null,error:r};throw r}})}update(e,n,r){return Yr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Yr(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(dr(i))return{data:null,error:i};throw i}})}copy(e,n,r){return Yr(this,void 0,void 0,function*(){try{return{data:{path:(yield ho(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(dr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return Yr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield ho(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(dr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return Yr(this,void 0,void 0,function*(){try{const i=yield ho(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(dr(i))return{data:null,error:i};throw i}})}download(e,n){return Yr(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield pp(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(dr(l))return{data:null,error:l};throw l}})}info(e){return Yr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield pp(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Tv(r),error:null}}catch(r){if(dr(r))return{data:null,error:r};throw r}})}exists(e){return Yr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield iO(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(dr(r)&&r instanceof jv){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&i.push(u);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${h}`)}}}remove(e){return Yr(this,void 0,void 0,function*(){try{return{data:yield Hj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(dr(n))return{data:null,error:n};throw n}})}list(e,n,r){return Yr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},sO),n),{prefix:e||""});return{data:yield ho(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(dr(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const aO="2.7.1",lO={"X-Client-Info":`storage-js/${aO}`};var fl=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(f){try{h(r.next(f))}catch(p){o(p)}}function u(f){try{h(r.throw(f))}catch(p){o(p)}}function h(f){f.done?s(f.value):i(f.value).then(l,u)}h((r=r.apply(t,e||[])).next())})};class cO{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},lO),n),this.fetch=Vj(r)}listBuckets(){return fl(this,void 0,void 0,function*(){try{return{data:yield pp(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(dr(e))return{data:null,error:e};throw e}})}getBucket(e){return fl(this,void 0,void 0,function*(){try{return{data:yield pp(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(dr(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return fl(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(dr(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return fl(this,void 0,void 0,function*(){try{return{data:yield rO(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(dr(r))return{data:null,error:r};throw r}})}emptyBucket(e){return fl(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(dr(n))return{data:null,error:n};throw n}})}deleteBucket(e){return fl(this,void 0,void 0,function*(){try{return{data:yield Hj(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(dr(n))return{data:null,error:n};throw n}})}}class uO extends cO{constructor(e,n={},r){super(e,n,r)}from(e){return new oO(this.url,this.headers,e,this.fetch)}}const dO="2.50.0";let xu="";typeof Deno<"u"?xu="deno":typeof document<"u"?xu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xu="react-native":xu="node";const hO={"X-Client-Info":`supabase-js-${xu}/${dO}`},fO={headers:hO},pO={schema:"public"},mO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gO={};var xO=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(f){try{h(r.next(f))}catch(p){o(p)}}function u(f){try{h(r.throw(f))}catch(p){o(p)}}function h(f){f.done?s(f.value):i(f.value).then(l,u)}h((r=r.apply(t,e||[])).next())})};const yO=t=>{let e;return t?e=t:typeof fetch>"u"?e=Tj:e=fetch,(...n)=>e(...n)},vO=()=>typeof Headers>"u"?Pj:Headers,wO=(t,e,n)=>{const r=yO(n),i=vO();return(s,o)=>xO(void 0,void 0,void 0,function*(){var l;const u=(l=yield e())!==null&&l!==void 0?l:t;let h=new i(o==null?void 0:o.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${u}`),r(s,Object.assign(Object.assign({},o),{headers:h}))})};var bO=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(f){try{h(r.next(f))}catch(p){o(p)}}function u(f){try{h(r.throw(f))}catch(p){o(p)}}function h(f){f.done?s(f.value):i(f.value).then(l,u)}h((r=r.apply(t,e||[])).next())})};function _O(t){return t.endsWith("/")?t:t+"/"}function SO(t,e){var n,r;const{db:i,auth:s,realtime:o,global:l}=t,{db:u,auth:h,realtime:f,global:p}=e,g={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},h),s),realtime:Object.assign(Object.assign({},f),o),global:Object.assign(Object.assign(Object.assign({},p),l),{headers:Object.assign(Object.assign({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>bO(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}const Wj="2.70.0",Sl=30*1e3,Pv=3,ix=Pv*Sl,kO="http://localhost:9999",EO="supabase.auth.token",AO={"X-Client-Info":`gotrue-js/${Wj}`},Fv="X-Supabase-Api-Version",Kj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},CO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jO=6e5;class fb extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Yt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class TO extends fb{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function PO(t){return Yt(t)&&t.name==="AuthApiError"}class Gj extends fb{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Go extends fb{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class ao extends Go{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function FO(t){return Yt(t)&&t.name==="AuthSessionMissingError"}class Wh extends Go{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kh extends Go{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Gh extends Go{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function NO(t){return Yt(t)&&t.name==="AuthImplicitGrantRedirectError"}class IS extends Go{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nv extends Go{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function sx(t){return Yt(t)&&t.name==="AuthRetryableFetchError"}class LS extends Go{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Iu extends Go{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const mp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),MS=` 	
\r=`.split(""),RO=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<MS.length;e+=1)t[MS[e].charCodeAt(0)]=-2;for(let e=0;e<mp.length;e+=1)t[mp[e].charCodeAt(0)]=e;return t})();function OS(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(mp[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(mp[r]),e.queuedBits-=6}}function Zj(t,e,n){const r=RO[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function $S(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{IO(o,r,n)};for(let o=0;o<t.length;o+=1)Zj(t.charCodeAt(o),i,s);return e.join("")}function BO(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function DO(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}BO(r,e)}}function IO(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function LO(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Zj(t.charCodeAt(i),n,r);return new Uint8Array(e)}function MO(t){const e=[];return DO(t,n=>e.push(n)),new Uint8Array(e)}function OO(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>OS(i,n,r)),OS(null,n,r),e.join("")}function $O(t){return Math.round(Date.now()/1e3)+t}function UO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Mi=()=>typeof window<"u"&&typeof document<"u",ia={tested:!1,writable:!1},Lu=()=>{if(!Mi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ia.tested)return ia.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ia.tested=!0,ia.writable=!0}catch{ia.tested=!0,ia.writable=!1}return ia.writable};function zO(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const Yj=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Tc(async()=>{const{default:r}=await Promise.resolve().then(()=>Pc);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},qO=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Xj=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Zh=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Yh=async(t,e)=>{await t.removeItem(e)};class jm{constructor(){this.promise=new jm.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}jm.promiseConstructor=Promise;function ox(t){const e=t.split(".");if(e.length!==3)throw new Iu("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!CO.test(e[r]))throw new Iu("JWT not in base64url format");return{header:JSON.parse($S(e[0])),payload:JSON.parse($S(e[1])),signature:LO(e[2]),raw:{header:e[0],payload:e[1]}}}async function VO(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function HO(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function WO(t){return("0"+t.toString(16)).substr(-2)}function KO(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,WO).join("")}async function GO(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function ZO(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await GO(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pl(t,e,n=!1){const r=KO();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Xj(t,`${e}-code-verifier`,i);const s=await ZO(r);return[s,r===s?"plain":"s256"]}const YO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function XO(t){const e=t.headers.get(Fv);if(!e||!e.match(YO))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function JO(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function QO(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const e7=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ml(t){if(!e7.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var t7=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const ca=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),n7=[502,503,504];async function US(t){var e;if(!qO(t))throw new Nv(ca(t),0);if(n7.includes(t.status))throw new Nv(ca(t),t.status);let n;try{n=await t.json()}catch(s){throw new Gj(ca(s),s)}let r;const i=XO(t);if(i&&i.getTime()>=Kj["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new LS(ca(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ao}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new LS(ca(n),t.status,n.weak_password.reasons);throw new TO(ca(n),t.status||500,r)}const r7=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function tn(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Fv]||(s[Fv]=Kj["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await i7(t,e,n+l,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function i7(t,e,n,r,i,s){const o=r7(e,r,i,s);let l;try{l=await t(n,Object.assign({},o))}catch(u){throw console.error(u),new Nv(ca(u),0)}if(l.ok||await US(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(u){await US(u)}}function Ts(t){var e;let n=null;l7(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=$O(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function zS(t){const e=Ts(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function xo(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function s7(t){return{data:t,error:null}}function o7(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=t7(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function a7(t){return t}function l7(t){return t.access_token&&t.refresh_token&&t.expires_in}const ax=["global","local","others"];var c7=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class u7{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Yj(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=ax[0]){if(ax.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ax.join(", ")}`);try{return await tn(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Yt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await tn(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:xo})}catch(r){if(Yt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=c7(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await tn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:o7,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Yt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await tn(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:xo})}catch(n){if(Yt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,l,u;try{const h={nextPage:null,lastPage:0,total:0},f=await tn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:a7});if(f.error)throw f.error;const p=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(u=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(_=>{const w=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(_.split(";")[1].split("=")[1]);h[`${b}Page`]=w}),h.total=parseInt(g)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(Yt(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){ml(e);try{return await tn(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:xo})}catch(n){if(Yt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ml(e);try{return await tn(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:xo})}catch(r){if(Yt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){ml(e);try{return await tn(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:xo})}catch(r){if(Yt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ml(e.userId);try{const{data:n,error:r}=await tn(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Yt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ml(e.userId),ml(e.id);try{return{data:await tn(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Yt(n))return{data:null,error:n};throw n}}}const d7={getItem:t=>Lu()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Lu()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Lu()&&globalThis.localStorage.removeItem(t)}};function qS(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function h7(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const gl={debug:!!(globalThis&&Lu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Jj extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class f7 extends Jj{}async function p7(t,e,n){gl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),gl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){gl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{gl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw gl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new f7(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(gl.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}h7();const m7={url:kO,storageKey:EO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:AO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function VS(t,e,n){return await n()}class pd{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pd.nextInstanceID,pd.nextInstanceID+=1,this.instanceID>0&&Mi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},m7),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new u7({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Yj(i.fetch),this.lock=i.lock||VS,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Mi()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=p7:this.lock=VS,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Lu()?this.storage=d7:(this.memoryStorage={},this.storage=qS(this.memoryStorage)):(this.memoryStorage={},this.storage=qS(this.memoryStorage)),Mi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Wj}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=zO(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Mi()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),NO(s)){const u=(e=s.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Yt(n)?{error:n}:{error:new Gj("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await tn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ts}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:h,session:u},error:null}}catch(s){if(Yt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:f,password:p,options:g}=e;let y=null,_=null;this.flowType==="pkce"&&([y,_]=await pl(this.storage,this.storageKey)),s=await tn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:f,password:p,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:y,code_challenge_method:_},xform:Ts})}else if("phone"in e){const{phone:f,password:p,options:g}=e;s=await tn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Ts})}else throw new Kh("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:h,session:u},error:null}}catch(s){if(Yt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:l}=e;n=await tn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:zS})}else if("phone"in e){const{phone:s,password:o,options:l}=e;n=await tn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:zS})}else throw new Kh("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Wh}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Yt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,i,s,o,l,u,h,f,p,g,y;let _,w;if("message"in e)_=e.message,w=e.signature;else{const{chain:b,wallet:k,statement:x,options:v}=e;let C;if(Mi())if(typeof k=="object")C=k;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))C=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=k}const F=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const j=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),x?{statement:x}:null));let R;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")R=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)R=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)_=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),w=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${F.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(i=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=v==null?void 0:v.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((h=v==null?void 0:v.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((p=(f=v==null?void 0:v.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...v.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const j=await C.signMessage(new TextEncoder().encode(_),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=j}}try{const{data:b,error:k}=await tn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:OO(w)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ts});if(k)throw k;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Wh}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:k})}catch(b){if(Yt(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const n=await Zh(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await tn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ts});if(await Yh(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Wh}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(Yt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,l=await tn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ts}),{data:u,error:h}=l;return h?{data:{user:null,session:null},error:h}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Wh}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:h})}catch(n){if(Yt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:l,options:u}=e;let h=null,f=null;this.flowType==="pkce"&&([h,f]=await pl(this.storage,this.storageKey));const{error:p}=await tn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:h,code_challenge_method:f},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:l,options:u}=e,{data:h,error:f}=await tn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=u==null?void 0:u.data)!==null&&i!==void 0?i:{},create_user:(s=u==null?void 0:u.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:f}}throw new Kh("You must provide either an email or phone number.")}catch(l){if(Yt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await tn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Ts});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,h=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:h,session:u},error:null}}catch(i){if(Yt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await pl(this.storage,this.storageKey)),await tn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:s7})}catch(s){if(Yt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ao;const{error:i}=await tn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Yt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await tn(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:l}=await tn(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Kh("You must provide either an email or phone number and a type")}catch(n){if(Yt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Zh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ix:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,h,f)=>(!o&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,h,f))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await tn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:xo}):await this._useSession(async n=>{var r,i,s;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ao}:await tn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:xo})})}catch(n){if(Yt(n))return FO(n)&&(await this._removeSession(),await Yh(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new ao;const o=i.session;let l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=await pl(this.storage,this.storageKey));const{data:h,error:f}=await tn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:xo});if(f)throw f;return o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Yt(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ao;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=ox(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:l,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:u}=await this._getUser(e.access_token);if(u)throw u;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Yt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ao;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Yt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Mi())throw new Gh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Gh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new IS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new IS("No code detected.");const{data:x,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:l,expires_at:u,token_type:h}=e;if(!s||!l||!o||!h)throw new Gh("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(l);let g=f+p;u&&(g=parseInt(u));const y=g-f;y*1e3<=Sl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const _=g-p;f-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,g,f):f-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,g,f);const{data:w,error:b}=await this._getUser(s);if(b)throw b;const k={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:g,refresh_token:o,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:e.type},error:null}}catch(r){if(Yt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Zh(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(PO(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Yh(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=UO(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await pl(this.storage,this.storageKey,!0));try{return await tn(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Yt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Yt(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,l,u,h,f;const{data:p,error:g}=s;if(g)throw g;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await tn(this.fetch,"GET",y,{headers:this.headers,jwt:(f=(h=p.session)===null||h===void 0?void 0:h.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Mi()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Yt(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await tn(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Yt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await HO(async i=>(i>0&&await VO(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await tn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ts})),(i,s)=>{const o=200*Math.pow(2,i);return s&&sx(s)&&Date.now()+o-r<Sl})}catch(r){if(this._debug(n,"error",r),Yt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Mi()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Zh(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<ix;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${ix}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),sx(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ao;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new jm;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new ao;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),Yt(s)){const o={session:null,error:s};return sx(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(u){s.push(u)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Xj(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Yh(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Mi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Sl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Sl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Sl}ms, refresh threshold is ${Pv} ticks`),i<=Pv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Jj)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await pl(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await tn(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Yt(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:h}=await tn(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&(!((i=u==null?void 0:u.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(Yt(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:l}=await tn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(Yt(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await tn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Yt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ox(i.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const f=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+jO>Date.now()))return r;const{data:i,error:s}=await tn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!i.keys||i.keys.length===0)throw new Iu("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(o=>o.kid===e),!r)throw new Iu("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:y,error:_}=await this.getSession();if(_||!y.session)return{data:null,error:_};r=y.session.access_token}const{header:i,payload:s,signature:o,raw:{header:l,payload:u}}=ox(r);if(JO(s.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:s,header:i,signature:o},error:null}}const h=QO(i.alg),f=await this.fetchJwk(i.kid,n),p=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,o,MO(`${l}.${u}`)))throw new Iu("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(Yt(r))return{data:null,error:r};throw r}}}pd.nextInstanceID=0;const g7=pd;class x7 extends g7{constructor(e){super(e)}}var y7=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(f){try{h(r.next(f))}catch(p){o(p)}}function u(f){try{h(r.throw(f))}catch(p){o(p)}}function h(f){f.done?s(f.value):i(f.value).then(l,u)}h((r=r.apply(t,e||[])).next())})};class v7{constructor(e,n,r){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=_O(e),u=new URL(l);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const h=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:pO,realtime:gO,auth:Object.assign(Object.assign({},mO),{storageKey:h}),global:fO},p=SO(r??{},f);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=p.global.headers)!==null&&s!==void 0?s:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=p.auth)!==null&&o!==void 0?o:{},this.headers,p.global.fetch),this.fetch=wO(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new IM(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new hM(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new uO(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return y7(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:l,debug:u},h,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new x7({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),h),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:l,debug:u,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new YM(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const w7=(t,e,n)=>new v7(t,e,n),Qj="https://nuafzskznsbwahyeeive.supabase.co",b7="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im51YWZ6c2t6bnNid2FoeWVlaXZlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAzNzU0MjMsImV4cCI6MjA2NTk1MTQyM30.UaAZjR_JVVFTuufJ_ca2XeeCWxWtdsqqms9V1gEism8",_7=t=>{try{return new URL(t),!0}catch{return!1}},sr=()=>!!_7(Qj);sr()||console.warn("Supabase not configured - using offline mode");const Jr=sr()?w7(Qj,b7):null,e3=Y.createContext(void 0),qd=()=>{const t=Y.useContext(e3);if(!t)throw new Error("useApp must be used within an AppProvider");return t},S7=({children:t})=>{const[e,n]=Y.useState([]),[r,i]=Y.useState(!1),[s,o]=Y.useState(!sr()),l=async()=>{var p,g;if(!sr()){console.log("Supabase not configured - running in offline mode"),o(!0);return}i(!0);try{const{data:y,error:_}=await Jr.from("proof_records").select("*").order("created_at",{ascending:!1});if(_)throw console.error("Supabase error:",_),_;const w=y.map(b=>({id:b.id,fileName:b.file_name,fileType:b.file_type,fileHash:b.file_hash,ipfsHash:b.ipfs_hash,summary:b.summary,transcript:b.transcript,algorandTxId:b.algorand_tx_id,uploadDate:new Date(b.upload_date),walletAddress:b.wallet_address,status:b.status}));n(w),o(!1)}catch(y){console.error("Error loading proofs:",y),(p=y.message)!=null&&p.includes("Failed to fetch")||(g=y.message)!=null&&g.includes("404")?(console.log("Database connection failed - switching to offline mode"),o(!0),tt.error("Database not available - running in offline mode")):tt.error("Failed to load proof records")}finally{i(!1)}},u=async p=>{var g,y;if(!sr()){console.log("Adding proof in offline mode"),n(_=>[p,..._]),tt.success("Proof record saved locally (offline mode)");return}try{const{error:_}=await Jr.from("proof_records").insert({id:p.id,file_name:p.fileName,file_type:p.fileType,file_hash:p.fileHash,ipfs_hash:p.ipfsHash,summary:p.summary,transcript:p.transcript,algorand_tx_id:p.algorandTxId,upload_date:p.uploadDate.toISOString(),wallet_address:p.walletAddress,status:p.status});if(_)throw _;n(w=>[p,...w]),tt.success("Proof record saved to database")}catch(_){console.error("Error saving proof:",_),n(w=>[p,...w]),(g=_.message)!=null&&g.includes("Failed to fetch")||(y=_.message)!=null&&y.includes("404")?(o(!0),tt.success("Proof record saved locally (offline mode)")):tt.error("Failed to save proof record to database")}},h=async(p,g)=>{var y,_;if(!sr()){console.log("Updating proof in offline mode"),n(w=>w.map(b=>b.id===p?{...b,...g}:b));return}try{const w={};g.fileName&&(w.file_name=g.fileName),g.fileType&&(w.file_type=g.fileType),g.fileHash&&(w.file_hash=g.fileHash),g.ipfsHash&&(w.ipfs_hash=g.ipfsHash),g.summary&&(w.summary=g.summary),g.transcript!==void 0&&(w.transcript=g.transcript),g.algorandTxId&&(w.algorand_tx_id=g.algorandTxId),g.uploadDate&&(w.upload_date=g.uploadDate.toISOString()),g.walletAddress&&(w.wallet_address=g.walletAddress),g.status&&(w.status=g.status);const{error:b}=await Jr.from("proof_records").update(w).eq("id",p);if(b)throw b;n(k=>k.map(x=>x.id===p?{...x,...g}:x))}catch(w){console.error("Error updating proof:",w),n(b=>b.map(k=>k.id===p?{...k,...g}:k)),(y=w.message)!=null&&y.includes("Failed to fetch")||(_=w.message)!=null&&_.includes("404")?(o(!0),tt.success("Proof record updated locally (offline mode)")):tt.error("Failed to update proof record in database")}},f=p=>e.find(g=>g.id===p);return Y.useEffect(()=>{l()},[]),Y.useEffect(()=>{sr()||(console.warn("Supabase environment variables not configured"),console.log("Add VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY to your .env file"),o(!0))},[]),c.jsx(e3.Provider,{value:{proofs:e,addProof:u,updateProof:h,getProof:f,loadProofs:l,isLoading:r,isOfflineMode:s},children:t})};var t3={exports:{}};/*!
 * Pusher JavaScript Library v8.4.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(t,e){(function(r,i){t.exports=i()})(window,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,l){i.o(s,o)||Object.defineProperty(s,o,{enumerable:!0,get:l})},i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,o){if(o&1&&(s=i(s)),o&8||o&4&&typeof s=="object"&&s&&s.__esModule)return s;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:s}),o&2&&typeof s!="string")for(var u in s)i.d(l,u,(function(h){return s[h]}).bind(null,u));return l},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=2)}([function(n,r,i){var s=this&&this.__extends||function(){var w=function(b,k){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,v){x.__proto__=v}||function(x,v){for(var C in v)v.hasOwnProperty(C)&&(x[C]=v[C])},w(b,k)};return function(b,k){w(b,k);function x(){this.constructor=b}b.prototype=k===null?Object.create(k):(x.prototype=k.prototype,new x)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=256,l=function(){function w(b){b===void 0&&(b="="),this._paddingCharacter=b}return w.prototype.encodedLength=function(b){return this._paddingCharacter?(b+2)/3*4|0:(b*8+5)/6|0},w.prototype.encode=function(b){for(var k="",x=0;x<b.length-2;x+=3){var v=b[x]<<16|b[x+1]<<8|b[x+2];k+=this._encodeByte(v>>>3*6&63),k+=this._encodeByte(v>>>2*6&63),k+=this._encodeByte(v>>>1*6&63),k+=this._encodeByte(v>>>0*6&63)}var C=b.length-x;if(C>0){var v=b[x]<<16|(C===2?b[x+1]<<8:0);k+=this._encodeByte(v>>>3*6&63),k+=this._encodeByte(v>>>2*6&63),C===2?k+=this._encodeByte(v>>>1*6&63):k+=this._paddingCharacter||"",k+=this._paddingCharacter||""}return k},w.prototype.maxDecodedLength=function(b){return this._paddingCharacter?b/4*3|0:(b*6+7)/8|0},w.prototype.decodedLength=function(b){return this.maxDecodedLength(b.length-this._getPaddingLength(b))},w.prototype.decode=function(b){if(b.length===0)return new Uint8Array(0);for(var k=this._getPaddingLength(b),x=b.length-k,v=new Uint8Array(this.maxDecodedLength(x)),C=0,F=0,j=0,R=0,z=0,Q=0,$=0;F<x-4;F+=4)R=this._decodeChar(b.charCodeAt(F+0)),z=this._decodeChar(b.charCodeAt(F+1)),Q=this._decodeChar(b.charCodeAt(F+2)),$=this._decodeChar(b.charCodeAt(F+3)),v[C++]=R<<2|z>>>4,v[C++]=z<<4|Q>>>2,v[C++]=Q<<6|$,j|=R&o,j|=z&o,j|=Q&o,j|=$&o;if(F<x-1&&(R=this._decodeChar(b.charCodeAt(F)),z=this._decodeChar(b.charCodeAt(F+1)),v[C++]=R<<2|z>>>4,j|=R&o,j|=z&o),F<x-2&&(Q=this._decodeChar(b.charCodeAt(F+2)),v[C++]=z<<4|Q>>>2,j|=Q&o),F<x-3&&($=this._decodeChar(b.charCodeAt(F+3)),v[C++]=Q<<6|$,j|=$&o),j!==0)throw new Error("Base64Coder: incorrect characters for decoding");return v},w.prototype._encodeByte=function(b){var k=b;return k+=65,k+=25-b>>>8&6,k+=51-b>>>8&-75,k+=61-b>>>8&-15,k+=62-b>>>8&3,String.fromCharCode(k)},w.prototype._decodeChar=function(b){var k=o;return k+=(42-b&b-44)>>>8&-o+b-43+62,k+=(46-b&b-48)>>>8&-o+b-47+63,k+=(47-b&b-58)>>>8&-o+b-48+52,k+=(64-b&b-91)>>>8&-o+b-65+0,k+=(96-b&b-123)>>>8&-o+b-97+26,k},w.prototype._getPaddingLength=function(b){var k=0;if(this._paddingCharacter){for(var x=b.length-1;x>=0&&b[x]===this._paddingCharacter;x--)k++;if(b.length<4||k>2)throw new Error("Base64Coder: incorrect padding")}return k},w}();r.Coder=l;var u=new l;function h(w){return u.encode(w)}r.encode=h;function f(w){return u.decode(w)}r.decode=f;var p=function(w){s(b,w);function b(){return w!==null&&w.apply(this,arguments)||this}return b.prototype._encodeByte=function(k){var x=k;return x+=65,x+=25-k>>>8&6,x+=51-k>>>8&-75,x+=61-k>>>8&-13,x+=62-k>>>8&49,String.fromCharCode(x)},b.prototype._decodeChar=function(k){var x=o;return x+=(44-k&k-46)>>>8&-o+k-45+62,x+=(94-k&k-96)>>>8&-o+k-95+63,x+=(47-k&k-58)>>>8&-o+k-48+52,x+=(64-k&k-91)>>>8&-o+k-65+0,x+=(96-k&k-123)>>>8&-o+k-97+26,x},b}(l);r.URLSafeCoder=p;var g=new p;function y(w){return g.encode(w)}r.encodeURLSafe=y;function _(w){return g.decode(w)}r.decodeURLSafe=_,r.encodedLength=function(w){return u.encodedLength(w)},r.maxDecodedLength=function(w){return u.maxDecodedLength(w)},r.decodedLength=function(w){return u.decodedLength(w)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s="utf8: invalid string",o="utf8: invalid source encoding";function l(f){for(var p=new Uint8Array(u(f)),g=0,y=0;y<f.length;y++){var _=f.charCodeAt(y);_<128?p[g++]=_:_<2048?(p[g++]=192|_>>6,p[g++]=128|_&63):_<55296?(p[g++]=224|_>>12,p[g++]=128|_>>6&63,p[g++]=128|_&63):(y++,_=(_&1023)<<10,_|=f.charCodeAt(y)&1023,_+=65536,p[g++]=240|_>>18,p[g++]=128|_>>12&63,p[g++]=128|_>>6&63,p[g++]=128|_&63)}return p}r.encode=l;function u(f){for(var p=0,g=0;g<f.length;g++){var y=f.charCodeAt(g);if(y<128)p+=1;else if(y<2048)p+=2;else if(y<55296)p+=3;else if(y<=57343){if(g>=f.length-1)throw new Error(s);g++,p+=4}else throw new Error(s)}return p}r.encodedLength=u;function h(f){for(var p=[],g=0;g<f.length;g++){var y=f[g];if(y&128){var _=void 0;if(y<224){if(g>=f.length)throw new Error(o);var w=f[++g];if((w&192)!==128)throw new Error(o);y=(y&31)<<6|w&63,_=128}else if(y<240){if(g>=f.length-1)throw new Error(o);var w=f[++g],b=f[++g];if((w&192)!==128||(b&192)!==128)throw new Error(o);y=(y&15)<<12|(w&63)<<6|b&63,_=2048}else if(y<248){if(g>=f.length-2)throw new Error(o);var w=f[++g],b=f[++g],k=f[++g];if((w&192)!==128||(b&192)!==128||(k&192)!==128)throw new Error(o);y=(y&15)<<18|(w&63)<<12|(b&63)<<6|k&63,_=65536}else throw new Error(o);if(y<_||y>=55296&&y<=57343)throw new Error(o);if(y>=65536){if(y>1114111)throw new Error(o);y-=65536,p.push(String.fromCharCode(55296|y>>10)),y=56320|y&1023}}p.push(String.fromCharCode(y))}return p.join("")}r.decode=h},function(n,r,i){n.exports=i(3).default},function(n,r,i){i.r(r);class s{constructor(A,I){this.lastId=0,this.prefix=A,this.name=I}create(A){this.lastId++;var I=this.lastId,re=this.prefix+I,ue=this.name+"["+I+"]",He=!1,nt=function(){He||(A.apply(null,arguments),He=!0)};return this[I]=nt,{number:I,id:re,name:ue,callback:nt}}remove(A){delete this[A.number]}}var o=new s("_pusher_script_","Pusher.ScriptReceivers"),l={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},u=l;class h{constructor(A){this.options=A,this.receivers=A.receivers||o,this.loading={}}load(A,I,re){var ue=this;if(ue.loading[A]&&ue.loading[A].length>0)ue.loading[A].push(re);else{ue.loading[A]=[re];var He=It.createScriptRequest(ue.getPath(A,I)),nt=ue.receivers.create(function(yt){if(ue.receivers.remove(nt),ue.loading[A]){var At=ue.loading[A];delete ue.loading[A];for(var on=function(Vn){Vn||He.cleanup()},un=0;un<At.length;un++)At[un](yt,on)}});He.send(nt)}}getRoot(A){var I,re=It.getDocument().location.protocol;return A&&A.useTLS||re==="https:"?I=this.options.cdn_https:I=this.options.cdn_http,I.replace(/\/*$/,"")+"/"+this.options.version}getPath(A,I){return this.getRoot(I)+"/"+A+this.options.suffix+".js"}}var f=new s("_pusher_dependencies","Pusher.DependenciesReceivers"),p=new h({cdn_http:u.cdn_http,cdn_https:u.cdn_https,version:u.VERSION,suffix:u.dependency_suffix,receivers:f});const g={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var _={buildLogSuffix:function(M){const A="See:",I=g.urls[M];if(!I)return"";let re;return I.fullUrl?re=I.fullUrl:I.path&&(re=g.baseUrl+I.path),re?`${A} ${re}`:""}},w;(function(M){M.UserAuthentication="user-authentication",M.ChannelAuthorization="channel-authorization"})(w||(w={}));class b extends Error{constructor(A){super(A),Object.setPrototypeOf(this,new.target.prototype)}}class k extends Error{constructor(A){super(A),Object.setPrototypeOf(this,new.target.prototype)}}class x extends Error{constructor(A){super(A),Object.setPrototypeOf(this,new.target.prototype)}}class v extends Error{constructor(A){super(A),Object.setPrototypeOf(this,new.target.prototype)}}class C extends Error{constructor(A){super(A),Object.setPrototypeOf(this,new.target.prototype)}}class F extends Error{constructor(A){super(A),Object.setPrototypeOf(this,new.target.prototype)}}class j extends Error{constructor(A){super(A),Object.setPrototypeOf(this,new.target.prototype)}}class R extends Error{constructor(A){super(A),Object.setPrototypeOf(this,new.target.prototype)}}class z extends Error{constructor(A,I){super(I),this.status=A,Object.setPrototypeOf(this,new.target.prototype)}}var $=function(M,A,I,re,ue){const He=It.createXHR();He.open("POST",I.endpoint,!0),He.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var nt in I.headers)He.setRequestHeader(nt,I.headers[nt]);if(I.headersProvider!=null){let yt=I.headersProvider();for(var nt in yt)He.setRequestHeader(nt,yt[nt])}return He.onreadystatechange=function(){if(He.readyState===4)if(He.status===200){let yt,At=!1;try{yt=JSON.parse(He.responseText),At=!0}catch{ue(new z(200,`JSON returned from ${re.toString()} endpoint was invalid, yet status code was 200. Data was: ${He.responseText}`),null)}At&&ue(null,yt)}else{let yt="";switch(re){case w.UserAuthentication:yt=_.buildLogSuffix("authenticationEndpoint");break;case w.ChannelAuthorization:yt=`Clients must be authorized to join private or presence channels. ${_.buildLogSuffix("authorizationEndpoint")}`;break}ue(new z(He.status,`Unable to retrieve auth string from ${re.toString()} endpoint - received status: ${He.status} from ${I.endpoint}. ${yt}`),null)}},He.send(A),He};function X(M){return Ne(he(M))}var te=String.fromCharCode,ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ae=function(M){var A=M.charCodeAt(0);return A<128?M:A<2048?te(192|A>>>6)+te(128|A&63):te(224|A>>>12&15)+te(128|A>>>6&63)+te(128|A&63)},he=function(M){return M.replace(/[^\x00-\x7F]/g,Ae)},Ee=function(M){var A=[0,2,1][M.length%3],I=M.charCodeAt(0)<<16|(M.length>1?M.charCodeAt(1):0)<<8|(M.length>2?M.charCodeAt(2):0),re=[ae.charAt(I>>>18),ae.charAt(I>>>12&63),A>=2?"=":ae.charAt(I>>>6&63),A>=1?"=":ae.charAt(I&63)];return re.join("")},Ne=window.btoa||function(M){return M.replace(/[\s\S]{1,3}/g,Ee)};class me{constructor(A,I,re,ue){this.clear=I,this.timer=A(()=>{this.timer&&(this.timer=ue(this.timer))},re)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var ge=me;function fe(M){window.clearTimeout(M)}function le(M){window.clearInterval(M)}class pe extends ge{constructor(A,I){super(setTimeout,fe,A,function(re){return I(),null})}}class be extends ge{constructor(A,I){super(setInterval,le,A,function(re){return I(),re})}}var ie={now(){return Date.now?Date.now():new Date().valueOf()},defer(M){return new pe(0,M)},method(M,...A){var I=Array.prototype.slice.call(arguments,1);return function(re){return re[M].apply(re,I.concat(arguments))}}},Te=ie;function Le(M,...A){for(var I=0;I<A.length;I++){var re=A[I];for(var ue in re)re[ue]&&re[ue].constructor&&re[ue].constructor===Object?M[ue]=Le(M[ue]||{},re[ue]):M[ue]=re[ue]}return M}function Ze(){for(var M=["Pusher"],A=0;A<arguments.length;A++)typeof arguments[A]=="string"?M.push(arguments[A]):M.push(J(arguments[A]));return M.join(" : ")}function Be(M,A){var I=Array.prototype.indexOf;if(M===null)return-1;if(I&&M.indexOf===I)return M.indexOf(A);for(var re=0,ue=M.length;re<ue;re++)if(M[re]===A)return re;return-1}function We(M,A){for(var I in M)Object.prototype.hasOwnProperty.call(M,I)&&A(M[I],I,M)}function V(M){var A=[];return We(M,function(I,re){A.push(re)}),A}function ee(M){var A=[];return We(M,function(I){A.push(I)}),A}function ce(M,A,I){for(var re=0;re<M.length;re++)A.call(I||window,M[re],re,M)}function Ce(M,A){for(var I=[],re=0;re<M.length;re++)I.push(A(M[re],re,M,I));return I}function _e(M,A){var I={};return We(M,function(re,ue){I[ue]=A(re)}),I}function je(M,A){A=A||function(ue){return!!ue};for(var I=[],re=0;re<M.length;re++)A(M[re],re,M,I)&&I.push(M[re]);return I}function Me(M,A){var I={};return We(M,function(re,ue){(A&&A(re,ue,M,I)||re)&&(I[ue]=re)}),I}function we(M){var A=[];return We(M,function(I,re){A.push([re,I])}),A}function ke(M,A){for(var I=0;I<M.length;I++)if(A(M[I],I,M))return!0;return!1}function Re(M,A){for(var I=0;I<M.length;I++)if(!A(M[I],I,M))return!1;return!0}function H(M){return _e(M,function(A){return typeof A=="object"&&(A=J(A)),encodeURIComponent(X(A.toString()))})}function N(M){var A=Me(M,function(re){return re!==void 0}),I=Ce(we(H(A)),Te.method("join","=")).join("&");return I}function W(M){var A=[],I=[];return function re(ue,He){var nt,yt,At;switch(typeof ue){case"object":if(!ue)return null;for(nt=0;nt<A.length;nt+=1)if(A[nt]===ue)return{$ref:I[nt]};if(A.push(ue),I.push(He),Object.prototype.toString.apply(ue)==="[object Array]")for(At=[],nt=0;nt<ue.length;nt+=1)At[nt]=re(ue[nt],He+"["+nt+"]");else{At={};for(yt in ue)Object.prototype.hasOwnProperty.call(ue,yt)&&(At[yt]=re(ue[yt],He+"["+JSON.stringify(yt)+"]"))}return At;case"number":case"string":case"boolean":return ue}}(M,"$")}function J(M){try{return JSON.stringify(M)}catch{return JSON.stringify(W(M))}}class K{constructor(){this.globalLog=A=>{window.console&&window.console.log&&window.console.log(A)}}debug(...A){this.log(this.globalLog,A)}warn(...A){this.log(this.globalLogWarn,A)}error(...A){this.log(this.globalLogError,A)}globalLogWarn(A){window.console&&window.console.warn?window.console.warn(A):this.globalLog(A)}globalLogError(A){window.console&&window.console.error?window.console.error(A):this.globalLogWarn(A)}log(A,...I){var re=Ze.apply(this,arguments);zc.log?zc.log(re):zc.logToConsole&&A.bind(this)(re)}}var se=new K,xe=function(M,A,I,re,ue){(I.headers!==void 0||I.headersProvider!=null)&&se.warn(`To send headers with the ${re.toString()} request, you must use AJAX, rather than JSONP.`);var He=M.nextAuthCallbackID.toString();M.nextAuthCallbackID++;var nt=M.getDocument(),yt=nt.createElement("script");M.auth_callbacks[He]=function(un){ue(null,un)};var At="Pusher.auth_callbacks['"+He+"']";yt.src=I.endpoint+"?callback="+encodeURIComponent(At)+"&"+A;var on=nt.getElementsByTagName("head")[0]||nt.documentElement;on.insertBefore(yt,on.firstChild)},D=xe;class E{constructor(A){this.src=A}send(A){var I=this,re="Error loading "+I.src;I.script=document.createElement("script"),I.script.id=A.id,I.script.src=I.src,I.script.type="text/javascript",I.script.charset="UTF-8",I.script.addEventListener?(I.script.onerror=function(){A.callback(re)},I.script.onload=function(){A.callback(null)}):I.script.onreadystatechange=function(){(I.script.readyState==="loaded"||I.script.readyState==="complete")&&A.callback(null)},I.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(I.errorScript=document.createElement("script"),I.errorScript.id=A.id+"_error",I.errorScript.text=A.name+"('"+re+"');",I.script.async=I.errorScript.async=!1):I.script.async=!0;var ue=document.getElementsByTagName("head")[0];ue.insertBefore(I.script,ue.firstChild),I.errorScript&&ue.insertBefore(I.errorScript,I.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class P{constructor(A,I){this.url=A,this.data=I}send(A){if(!this.request){var I=N(this.data),re=this.url+"/"+A.number+"?"+I;this.request=It.createScriptRequest(re),this.request.send(A)}}cleanup(){this.request&&this.request.cleanup()}}var U=function(M,A){return function(I,re){var ue="http"+(A?"s":"")+"://",He=ue+(M.host||M.options.host)+M.options.path,nt=It.createJSONPRequest(He,I),yt=It.ScriptReceivers.create(function(At,on){o.remove(yt),nt.cleanup(),on&&on.host&&(M.host=on.host),re&&re(At,on)});nt.send(yt)}},oe={name:"jsonp",getAgent:U},ve=oe;function Fe(M,A,I){var re=M+(A.useTLS?"s":""),ue=A.useTLS?A.hostTLS:A.hostNonTLS;return re+"://"+ue+I}function Qe(M,A){var I="/app/"+M,re="?protocol="+u.PROTOCOL+"&client=js&version="+u.VERSION+(A?"&"+A:"");return I+re}var ct={getInitial:function(M,A){var I=(A.httpPath||"")+Qe(M,"flash=false");return Fe("ws",A,I)}},dt={getInitial:function(M,A){var I=(A.httpPath||"/pusher")+Qe(M);return Fe("http",A,I)}},it={getInitial:function(M,A){return Fe("http",A,A.httpPath||"/pusher")},getPath:function(M,A){return Qe(M)}};class St{constructor(){this._callbacks={}}get(A){return this._callbacks[dn(A)]}add(A,I,re){var ue=dn(A);this._callbacks[ue]=this._callbacks[ue]||[],this._callbacks[ue].push({fn:I,context:re})}remove(A,I,re){if(!A&&!I&&!re){this._callbacks={};return}var ue=A?[dn(A)]:V(this._callbacks);I||re?this.removeCallback(ue,I,re):this.removeAllCallbacks(ue)}removeCallback(A,I,re){ce(A,function(ue){this._callbacks[ue]=je(this._callbacks[ue]||[],function(He){return I&&I!==He.fn||re&&re!==He.context}),this._callbacks[ue].length===0&&delete this._callbacks[ue]},this)}removeAllCallbacks(A){ce(A,function(I){delete this._callbacks[I]},this)}}function dn(M){return"_"+M}class sn{constructor(A){this.callbacks=new St,this.global_callbacks=[],this.failThrough=A}bind(A,I,re){return this.callbacks.add(A,I,re),this}bind_global(A){return this.global_callbacks.push(A),this}unbind(A,I,re){return this.callbacks.remove(A,I,re),this}unbind_global(A){return A?(this.global_callbacks=je(this.global_callbacks||[],I=>I!==A),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(A,I,re){for(var ue=0;ue<this.global_callbacks.length;ue++)this.global_callbacks[ue](A,I);var He=this.callbacks.get(A),nt=[];if(re?nt.push(I,re):I&&nt.push(I),He&&He.length>0)for(var ue=0;ue<He.length;ue++)He[ue].fn.apply(He[ue].context||window,nt);else this.failThrough&&this.failThrough(A,I);return this}}class Cn extends sn{constructor(A,I,re,ue,He){super(),this.initialize=It.transportConnectionInitializer,this.hooks=A,this.name=I,this.priority=re,this.key=ue,this.options=He,this.state="new",this.timeline=He.timeline,this.activityTimeout=He.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var A=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(A,this.options)}catch(I){return Te.defer(()=>{this.onError(I),this.changeState("closed")}),!1}return this.bindListeners(),se.debug("Connecting",{transport:this.name,url:A}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(A){return this.state==="open"?(Te.defer(()=>{this.socket&&this.socket.send(A)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(A){this.emit("error",{type:"WebSocketError",error:A}),this.timeline.error(this.buildTimelineMessage({error:A.toString()}))}onClose(A){A?this.changeState("closed",{code:A.code,reason:A.reason,wasClean:A.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(A){this.emit("message",A)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=A=>{this.onError(A)},this.socket.onclose=A=>{this.onClose(A)},this.socket.onmessage=A=>{this.onMessage(A)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(A,I){this.state=A,this.timeline.info(this.buildTimelineMessage({state:A,params:I})),this.emit(A,I)}buildTimelineMessage(A){return Le({cid:this.id},A)}}class pn{constructor(A){this.hooks=A}isSupported(A){return this.hooks.isSupported(A)}createConnection(A,I,re,ue){return new Cn(this.hooks,A,I,re,ue)}}var Fn=new pn({urls:ct,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!It.getWebSocketAPI()},isSupported:function(){return!!It.getWebSocketAPI()},getSocket:function(M){return It.createWebSocket(M)}}),br={urls:dt,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},Wr=Le({getSocket:function(M){return It.HTTPFactory.createStreamingSocket(M)}},br),Kr=Le({getSocket:function(M){return It.HTTPFactory.createPollingSocket(M)}},br),Xi={isSupported:function(){return It.isXHRSupported()}},ws=new pn(Le({},Wr,Xi)),Di=new pn(Le({},Kr,Xi)),ea={ws:Fn,xhr_streaming:ws,xhr_polling:Di},Nn=ea,Zn=new pn({file:"sockjs",urls:it,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(M,A){return new window.SockJS(M,null,{js_path:p.getPath("sockjs",{useTLS:A.useTLS}),ignore_null_origin:A.ignoreNullOrigin})},beforeOpen:function(M,A){M.send(JSON.stringify({path:A}))}}),O={isSupported:function(M){var A=It.isXDRSupported(M.useTLS);return A}},Z=new pn(Le({},Wr,O)),q=new pn(Le({},Kr,O));Nn.xdr_streaming=Z,Nn.xdr_polling=q,Nn.sockjs=Zn;var T=Nn;class ne extends sn{constructor(){super();var A=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){A.emit("online")},!1),window.addEventListener("offline",function(){A.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var Pe=new ne;class De{constructor(A,I,re){this.manager=A,this.transport=I,this.minPingDelay=re.minPingDelay,this.maxPingDelay=re.maxPingDelay,this.pingDelay=void 0}createConnection(A,I,re,ue){ue=Le({},ue,{activityTimeout:this.pingDelay});var He=this.transport.createConnection(A,I,re,ue),nt=null,yt=function(){He.unbind("open",yt),He.bind("closed",At),nt=Te.now()},At=on=>{if(He.unbind("closed",At),on.code===1002||on.code===1003)this.manager.reportDeath();else if(!on.wasClean&&nt){var un=Te.now()-nt;un<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(un/2,this.minPingDelay))}};return He.bind("open",yt),He}isSupported(A){return this.manager.isAlive()&&this.transport.isSupported(A)}}const Ke={decodeMessage:function(M){try{var A=JSON.parse(M.data),I=A.data;if(typeof I=="string")try{I=JSON.parse(A.data)}catch{}var re={event:A.event,channel:A.channel,data:I};return A.user_id&&(re.user_id=A.user_id),re}catch(ue){throw{type:"MessageParseError",error:ue,data:M.data}}},encodeMessage:function(M){return JSON.stringify(M)},processHandshake:function(M){var A=Ke.decodeMessage(M);if(A.event==="pusher:connection_established"){if(!A.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:A.data.socket_id,activityTimeout:A.data.activity_timeout*1e3}}else{if(A.event==="pusher:error")return{action:this.getCloseAction(A.data),error:this.getCloseError(A.data)};throw"Invalid handshake"}},getCloseAction:function(M){return M.code<4e3?M.code>=1002&&M.code<=1004?"backoff":null:M.code===4e3?"tls_only":M.code<4100?"refused":M.code<4200?"backoff":M.code<4300?"retry":"refused"},getCloseError:function(M){return M.code!==1e3&&M.code!==1001?{type:"PusherError",data:{code:M.code,message:M.reason||M.message}}:null}};var Je=Ke;class ht extends sn{constructor(A,I){super(),this.id=A,this.transport=I,this.activityTimeout=I.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(A){return this.transport.send(A)}send_event(A,I,re){var ue={event:A,data:I};return re&&(ue.channel=re),se.debug("Event sent",ue),this.send(Je.encodeMessage(ue))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var A={message:re=>{var ue;try{ue=Je.decodeMessage(re)}catch(He){this.emit("error",{type:"MessageParseError",error:He,data:re.data})}if(ue!==void 0){switch(se.debug("Event recd",ue),ue.event){case"pusher:error":this.emit("error",{type:"PusherError",data:ue.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",ue)}},activity:()=>{this.emit("activity")},error:re=>{this.emit("error",re)},closed:re=>{I(),re&&re.code&&this.handleCloseEvent(re),this.transport=null,this.emit("closed")}},I=()=>{We(A,(re,ue)=>{this.transport.unbind(ue,re)})};We(A,(re,ue)=>{this.transport.bind(ue,re)})}handleCloseEvent(A){var I=Je.getCloseAction(A),re=Je.getCloseError(A);re&&this.emit("error",re),I&&this.emit(I,{action:I,error:re})}}class at{constructor(A,I){this.transport=A,this.callback=I,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=A=>{this.unbindListeners();var I;try{I=Je.processHandshake(A)}catch(re){this.finish("error",{error:re}),this.transport.close();return}I.action==="connected"?this.finish("connected",{connection:new ht(I.id,this.transport),activityTimeout:I.activityTimeout}):(this.finish(I.action,{error:I.error}),this.transport.close())},this.onClosed=A=>{this.unbindListeners();var I=Je.getCloseAction(A)||"backoff",re=Je.getCloseError(A);this.finish(I,{error:re})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(A,I){this.callback(Le({transport:this.transport,action:A},I))}}class Qt{constructor(A,I){this.timeline=A,this.options=I||{}}send(A,I){this.timeline.isEmpty()||this.timeline.send(It.TimelineTransport.getAgent(this,A),I)}}class ut extends sn{constructor(A,I){super(function(re,ue){se.debug("No callbacks on "+A+" for "+re)}),this.name=A,this.pusher=I,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(A,I){return I(null,{auth:""})}trigger(A,I){if(A.indexOf("client-")!==0)throw new b("Event '"+A+"' does not start with 'client-'");if(!this.subscribed){var re=_.buildLogSuffix("triggeringClientEvents");se.warn(`Client event triggered before channel 'subscription_succeeded' event . ${re}`)}return this.pusher.send_event(A,I,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(A){var I=A.event,re=A.data;if(I==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(A);else if(I==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(A);else if(I.indexOf("pusher_internal:")!==0){var ue={};this.emit(I,re,ue)}}handleSubscriptionSucceededEvent(A){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",A.data)}handleSubscriptionCountEvent(A){A.data.subscription_count&&(this.subscriptionCount=A.data.subscription_count),this.emit("pusher:subscription_count",A.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(A,I)=>{A?(this.subscriptionPending=!1,se.error(A.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:A.message},A instanceof z?{status:A.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:I.auth,channel_data:I.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class Tt extends ut{authorize(A,I){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:A},I)}}class Rt{constructor(){this.reset()}get(A){return Object.prototype.hasOwnProperty.call(this.members,A)?{id:A,info:this.members[A]}:null}each(A){We(this.members,(I,re)=>{A(this.get(re))})}setMyID(A){this.myID=A}onSubscription(A){this.members=A.presence.hash,this.count=A.presence.count,this.me=this.get(this.myID)}addMember(A){return this.get(A.user_id)===null&&this.count++,this.members[A.user_id]=A.user_info,this.get(A.user_id)}removeMember(A){var I=this.get(A.user_id);return I&&(delete this.members[A.user_id],this.count--),I}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var qt=function(M,A,I,re){function ue(He){return He instanceof I?He:new I(function(nt){nt(He)})}return new(I||(I=Promise))(function(He,nt){function yt(un){try{on(re.next(un))}catch(Vn){nt(Vn)}}function At(un){try{on(re.throw(un))}catch(Vn){nt(Vn)}}function on(un){un.done?He(un.value):ue(un.value).then(yt,At)}on((re=re.apply(M,A||[])).next())})};class Vt extends Tt{constructor(A,I){super(A,I),this.members=new Rt}authorize(A,I){super.authorize(A,(re,ue)=>qt(this,void 0,void 0,function*(){if(!re)if(ue=ue,ue.channel_data!=null){var He=JSON.parse(ue.channel_data);this.members.setMyID(He.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let nt=_.buildLogSuffix("authorizationEndpoint");se.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${nt}, or the user should be signed in.`),I("Invalid auth response");return}I(re,ue)}))}handleEvent(A){var I=A.event;if(I.indexOf("pusher_internal:")===0)this.handleInternalEvent(A);else{var re=A.data,ue={};A.user_id&&(ue.user_id=A.user_id),this.emit(I,re,ue)}}handleInternalEvent(A){var I=A.event,re=A.data;switch(I){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(A);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(A);break;case"pusher_internal:member_added":var ue=this.members.addMember(re);this.emit("pusher:member_added",ue);break;case"pusher_internal:member_removed":var He=this.members.removeMember(re);He&&this.emit("pusher:member_removed",He);break}}handleSubscriptionSucceededEvent(A){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(A.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var Pt=i(1),Ft=i(0);class Bt extends Tt{constructor(A,I,re){super(A,I),this.key=null,this.nacl=re}authorize(A,I){super.authorize(A,(re,ue)=>{if(re){I(re,ue);return}let He=ue.shared_secret;if(!He){I(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(Ft.decode)(He),delete ue.shared_secret,I(null,ue)})}trigger(A,I){throw new F("Client events are not currently supported for encrypted channels")}handleEvent(A){var I=A.event,re=A.data;if(I.indexOf("pusher_internal:")===0||I.indexOf("pusher:")===0){super.handleEvent(A);return}this.handleEncryptedEvent(I,re)}handleEncryptedEvent(A,I){if(!this.key){se.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!I.ciphertext||!I.nonce){se.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+I);return}let re=Object(Ft.decode)(I.ciphertext);if(re.length<this.nacl.secretbox.overheadLength){se.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${re.length}`);return}let ue=Object(Ft.decode)(I.nonce);if(ue.length<this.nacl.secretbox.nonceLength){se.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${ue.length}`);return}let He=this.nacl.secretbox.open(re,ue,this.key);if(He===null){se.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(nt,yt)=>{if(nt){se.error(`Failed to make a request to the authEndpoint: ${yt}. Unable to fetch new key, so dropping encrypted event`);return}if(He=this.nacl.secretbox.open(re,ue,this.key),He===null){se.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(A,this.getDataToEmit(He))});return}this.emit(A,this.getDataToEmit(He))}getDataToEmit(A){let I=Object(Pt.decode)(A);try{return JSON.parse(I)}catch{return I}}}class gt extends sn{constructor(A,I){super(),this.state="initialized",this.connection=null,this.key=A,this.options=I,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var re=It.getNetwork();re.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),re.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(A){return this.connection?this.connection.send(A):!1}send_event(A,I,re){return this.connection?this.connection.send_event(A,I,re):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var A=(I,re)=>{I?this.runner=this.strategy.connect(0,A):re.action==="error"?(this.emit("error",{type:"HandshakeError",error:re.error}),this.timeline.error({handshakeError:re.error})):(this.abortConnecting(),this.handshakeCallbacks[re.action](re))};this.runner=this.strategy.connect(0,A)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var A=this.abandonConnection();A.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(A){this.timeline.info({action:"retry",delay:A}),A>0&&this.emit("connecting_in",Math.round(A/1e3)),this.retryTimer=new pe(A||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new pe(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new pe(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new pe(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(A){return Le({},A,{message:I=>{this.resetActivityCheck(),this.emit("message",I)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:I=>{this.emit("error",I)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(A){return Le({},A,{connected:I=>{this.activityTimeout=Math.min(this.options.activityTimeout,I.activityTimeout,I.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(I.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let A=I=>re=>{re.error&&this.emit("error",{type:"WebSocketError",error:re.error}),I(re)};return{tls_only:A(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:A(()=>{this.disconnect()}),backoff:A(()=>{this.retryIn(1e3)}),retry:A(()=>{this.retryIn(0)})}}setConnection(A){this.connection=A;for(var I in this.connectionCallbacks)this.connection.bind(I,this.connectionCallbacks[I]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var A in this.connectionCallbacks)this.connection.unbind(A,this.connectionCallbacks[A]);var I=this.connection;return this.connection=null,I}}updateState(A,I){var re=this.state;if(this.state=A,re!==A){var ue=A;ue==="connected"&&(ue+=" with new socket ID "+I.socket_id),se.debug("State changed",re+" -> "+ue),this.timeline.info({state:A,params:I}),this.emit("state_change",{previous:re,current:A}),this.emit(A,I)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class _t{constructor(){this.channels={}}add(A,I){return this.channels[A]||(this.channels[A]=lt(A,I)),this.channels[A]}all(){return ee(this.channels)}find(A){return this.channels[A]}remove(A){var I=this.channels[A];return delete this.channels[A],I}disconnect(){We(this.channels,function(A){A.disconnect()})}}function lt(M,A){if(M.indexOf("private-encrypted-")===0){if(A.config.nacl)return ot.createEncryptedChannel(M,A,A.config.nacl);let I="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",re=_.buildLogSuffix("encryptedChannelSupport");throw new F(`${I}. ${re}`)}else{if(M.indexOf("private-")===0)return ot.createPrivateChannel(M,A);if(M.indexOf("presence-")===0)return ot.createPresenceChannel(M,A);if(M.indexOf("#")===0)throw new k('Cannot create a channel with name "'+M+'".');return ot.createChannel(M,A)}}var ft={createChannels(){return new _t},createConnectionManager(M,A){return new gt(M,A)},createChannel(M,A){return new ut(M,A)},createPrivateChannel(M,A){return new Tt(M,A)},createPresenceChannel(M,A){return new Vt(M,A)},createEncryptedChannel(M,A,I){return new Bt(M,A,I)},createTimelineSender(M,A){return new Qt(M,A)},createHandshake(M,A){return new at(M,A)},createAssistantToTheTransportManager(M,A,I){return new De(M,A,I)}},ot=ft;class st{constructor(A){this.options=A||{},this.livesLeft=this.options.lives||1/0}getAssistant(A){return ot.createAssistantToTheTransportManager(this,A,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class Oe{constructor(A,I){this.strategies=A,this.loop=!!I.loop,this.failFast=!!I.failFast,this.timeout=I.timeout,this.timeoutLimit=I.timeoutLimit}isSupported(){return ke(this.strategies,Te.method("isSupported"))}connect(A,I){var re=this.strategies,ue=0,He=this.timeout,nt=null,yt=(At,on)=>{on?I(null,on):(ue=ue+1,this.loop&&(ue=ue%re.length),ue<re.length?(He&&(He=He*2,this.timeoutLimit&&(He=Math.min(He,this.timeoutLimit))),nt=this.tryStrategy(re[ue],A,{timeout:He,failFast:this.failFast},yt)):I(!0))};return nt=this.tryStrategy(re[ue],A,{timeout:He,failFast:this.failFast},yt),{abort:function(){nt.abort()},forceMinPriority:function(At){A=At,nt&&nt.forceMinPriority(At)}}}tryStrategy(A,I,re,ue){var He=null,nt=null;return re.timeout>0&&(He=new pe(re.timeout,function(){nt.abort(),ue(!0)})),nt=A.connect(I,function(yt,At){yt&&He&&He.isRunning()&&!re.failFast||(He&&He.ensureAborted(),ue(yt,At))}),{abort:function(){He&&He.ensureAborted(),nt.abort()},forceMinPriority:function(yt){nt.forceMinPriority(yt)}}}}class $e{constructor(A){this.strategies=A}isSupported(){return ke(this.strategies,Te.method("isSupported"))}connect(A,I){return qe(this.strategies,A,function(re,ue){return function(He,nt){if(ue[re].error=He,He){ze(ue)&&I(!0);return}ce(ue,function(yt){yt.forceMinPriority(nt.transport.priority)}),I(null,nt)}})}}function qe(M,A,I){var re=Ce(M,function(ue,He,nt,yt){return ue.connect(A,I(He,yt))});return{abort:function(){ce(re,Ge)},forceMinPriority:function(ue){ce(re,function(He){He.forceMinPriority(ue)})}}}function ze(M){return Re(M,function(A){return!!A.error})}function Ge(M){!M.error&&!M.aborted&&(M.abort(),M.aborted=!0)}class Ye{constructor(A,I,re){this.strategy=A,this.transports=I,this.ttl=re.ttl||1800*1e3,this.usingTLS=re.useTLS,this.timeline=re.timeline}isSupported(){return this.strategy.isSupported()}connect(A,I){var re=this.usingTLS,ue=$t(re),He=ue&&ue.cacheSkipCount?ue.cacheSkipCount:0,nt=[this.strategy];if(ue&&ue.timestamp+this.ttl>=Te.now()){var yt=this.transports[ue.transport];yt&&(["ws","wss"].includes(ue.transport)||He>3?(this.timeline.info({cached:!0,transport:ue.transport,latency:ue.latency}),nt.push(new Oe([yt],{timeout:ue.latency*2+1e3,failFast:!0}))):He++)}var At=Te.now(),on=nt.pop().connect(A,function un(Vn,eo){Vn?(xt(re),nt.length>0?(At=Te.now(),on=nt.pop().connect(A,un)):I(Vn)):(rt(re,eo.transport.name,Te.now()-At,He),I(null,eo))});return{abort:function(){on.abort()},forceMinPriority:function(un){A=un,on&&on.forceMinPriority(un)}}}}function bt(M){return"pusherTransport"+(M?"TLS":"NonTLS")}function $t(M){var A=It.getLocalStorage();if(A)try{var I=A[bt(M)];if(I)return JSON.parse(I)}catch{xt(M)}return null}function rt(M,A,I,re){var ue=It.getLocalStorage();if(ue)try{ue[bt(M)]=J({timestamp:Te.now(),transport:A,latency:I,cacheSkipCount:re})}catch{}}function xt(M){var A=It.getLocalStorage();if(A)try{delete A[bt(M)]}catch{}}class de{constructor(A,{delay:I}){this.strategy=A,this.options={delay:I}}isSupported(){return this.strategy.isSupported()}connect(A,I){var re=this.strategy,ue,He=new pe(this.options.delay,function(){ue=re.connect(A,I)});return{abort:function(){He.ensureAborted(),ue&&ue.abort()},forceMinPriority:function(nt){A=nt,ue&&ue.forceMinPriority(nt)}}}}class Dt{constructor(A,I,re){this.test=A,this.trueBranch=I,this.falseBranch=re}isSupported(){var A=this.test()?this.trueBranch:this.falseBranch;return A.isSupported()}connect(A,I){var re=this.test()?this.trueBranch:this.falseBranch;return re.connect(A,I)}}class Ut{constructor(A){this.strategy=A}isSupported(){return this.strategy.isSupported()}connect(A,I){var re=this.strategy.connect(A,function(ue,He){He&&re.abort(),I(ue,He)});return re}}function Xt(M){return function(){return M.isSupported()}}var Ht=function(M,A,I){var re={};function ue(Wc,sl,xg,Qi,ol){var gh=I(M,Wc,sl,xg,Qi,ol);return re[Wc]=gh,gh}var He=Object.assign({},A,{hostNonTLS:M.wsHost+":"+M.wsPort,hostTLS:M.wsHost+":"+M.wssPort,httpPath:M.wsPath}),nt=Object.assign({},He,{useTLS:!0}),yt=Object.assign({},A,{hostNonTLS:M.httpHost+":"+M.httpPort,hostTLS:M.httpHost+":"+M.httpsPort,httpPath:M.httpPath}),At={loop:!0,timeout:15e3,timeoutLimit:6e4},on=new st({minPingDelay:1e4,maxPingDelay:M.activityTimeout}),un=new st({lives:2,minPingDelay:1e4,maxPingDelay:M.activityTimeout}),Vn=ue("ws","ws",3,He,on),eo=ue("wss","ws",3,nt,on),qc=ue("sockjs","sockjs",1,yt),ph=ue("xhr_streaming","xhr_streaming",1,yt,un),pg=ue("xdr_streaming","xdr_streaming",1,yt,un),Vc=ue("xhr_polling","xhr_polling",1,yt),mg=ue("xdr_polling","xdr_polling",1,yt),Gr=new Oe([Vn],At),to=new Oe([eo],At),gg=new Oe([qc],At),wi=new Oe([new Dt(Xt(ph),ph,pg)],At),mh=new Oe([new Dt(Xt(Vc),Vc,mg)],At),_s=new Oe([new Dt(Xt(wi),new $e([wi,new de(mh,{delay:4e3})]),mh)],At),Hc=new Dt(Xt(_s),_s,gg),Ss;return A.useTLS?Ss=new $e([Gr,new de(Hc,{delay:2e3})]):Ss=new $e([Gr,new de(to,{delay:2e3}),new de(Hc,{delay:5e3})]),new Ye(new Ut(new Dt(Xt(Vn),Ss,Hc)),re,{ttl:18e5,timeline:A.timeline,useTLS:A.useTLS})},Kt=Ht,Et=function(){var M=this;M.timeline.info(M.buildTimelineMessage({transport:M.name+(M.options.useTLS?"s":"")})),M.hooks.isInitialized()?M.changeState("initialized"):M.hooks.file?(M.changeState("initializing"),p.load(M.hooks.file,{useTLS:M.options.useTLS},function(A,I){M.hooks.isInitialized()?(M.changeState("initialized"),I(!0)):(A&&M.onError(A),M.onClose(),I(!1))})):M.onClose()},hn={getRequest:function(M){var A=new window.XDomainRequest;return A.ontimeout=function(){M.emit("error",new x),M.close()},A.onerror=function(I){M.emit("error",I),M.close()},A.onprogress=function(){A.responseText&&A.responseText.length>0&&M.onChunk(200,A.responseText)},A.onload=function(){A.responseText&&A.responseText.length>0&&M.onChunk(200,A.responseText),M.emit("finished",200),M.close()},A},abortRequest:function(M){M.ontimeout=M.onerror=M.onprogress=M.onload=null,M.abort()}},en=hn;const mn=256*1024;class vn extends sn{constructor(A,I,re){super(),this.hooks=A,this.method=I,this.url=re}start(A){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},It.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(A)}close(){this.unloader&&(It.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(A,I){for(;;){var re=this.advanceBuffer(I);if(re)this.emit("chunk",{status:A,data:re});else break}this.isBufferTooLong(I)&&this.emit("buffer_too_long")}advanceBuffer(A){var I=A.slice(this.position),re=I.indexOf(`
`);return re!==-1?(this.position+=re+1,I.slice(0,re)):null}isBufferTooLong(A){return this.position===A.length&&A.length>mn}}var cn;(function(M){M[M.CONNECTING=0]="CONNECTING",M[M.OPEN=1]="OPEN",M[M.CLOSED=3]="CLOSED"})(cn||(cn={}));var fn=cn,zn=1;class Rn{constructor(A,I){this.hooks=A,this.session=el(1e3)+"/"+ng(8),this.location=qn(I),this.readyState=fn.CONNECTING,this.openStream()}send(A){return this.sendRaw(JSON.stringify([A]))}ping(){this.hooks.sendHeartbeat(this)}close(A,I){this.onClose(A,I,!0)}sendRaw(A){if(this.readyState===fn.OPEN)try{return It.createSocketRequest("POST",ta(Ic(this.location,this.session))).start(A),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(A,I,re){this.closeStream(),this.readyState=fn.CLOSED,this.onclose&&this.onclose({code:A,reason:I,wasClean:re})}onChunk(A){if(A.status===200){this.readyState===fn.OPEN&&this.onActivity();var I,re=A.data.slice(0,1);switch(re){case"o":I=JSON.parse(A.data.slice(1)||"{}"),this.onOpen(I);break;case"a":I=JSON.parse(A.data.slice(1)||"[]");for(var ue=0;ue<I.length;ue++)this.onEvent(I[ue]);break;case"m":I=JSON.parse(A.data.slice(1)||"null"),this.onEvent(I);break;case"h":this.hooks.onHeartbeat(this);break;case"c":I=JSON.parse(A.data.slice(1)||"[]"),this.onClose(I[0],I[1],!0);break}}}onOpen(A){this.readyState===fn.CONNECTING?(A&&A.hostname&&(this.location.base=rh(this.location.base,A.hostname)),this.readyState=fn.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(A){this.readyState===fn.OPEN&&this.onmessage&&this.onmessage({data:A})}onActivity(){this.onactivity&&this.onactivity()}onError(A){this.onerror&&this.onerror(A)}openStream(){this.stream=It.createSocketRequest("POST",ta(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",A=>{this.onChunk(A)}),this.stream.bind("finished",A=>{this.hooks.onFinished(this,A)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(A){Te.defer(()=>{this.onError(A),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function qn(M){var A=/([^\?]*)\/*(\??.*)/.exec(M);return{base:A[1],queryString:A[2]}}function Ic(M,A){return M.base+"/"+A+"/xhr_send"}function ta(M){var A=M.indexOf("?")===-1?"?":"&";return M+A+"t="+ +new Date+"&n="+zn++}function rh(M,A){var I=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(M);return I[1]+A+I[3]}function el(M){return It.randomInt(M)}function ng(M){for(var A=[],I=0;I<M;I++)A.push(el(32).toString(32));return A.join("")}var Gt=Rn,yi={getReceiveURL:function(M,A){return M.base+"/"+A+"/xhr_streaming"+M.queryString},onHeartbeat:function(M){M.sendRaw("[]")},sendHeartbeat:function(M){M.sendRaw("[]")},onFinished:function(M,A){M.onClose(1006,"Connection interrupted ("+A+")",!1)}},wn=yi,ih={getReceiveURL:function(M,A){return M.base+"/"+A+"/xhr"+M.queryString},onHeartbeat:function(){},sendHeartbeat:function(M){M.sendRaw("[]")},onFinished:function(M,A){A===200?M.reconnect():M.onClose(1006,"Connection interrupted ("+A+")",!1)}},Lc=ih,Mc={getRequest:function(M){var A=It.getXHRAPI(),I=new A;return I.onreadystatechange=I.onprogress=function(){switch(I.readyState){case 3:I.responseText&&I.responseText.length>0&&M.onChunk(I.status,I.responseText);break;case 4:I.responseText&&I.responseText.length>0&&M.onChunk(I.status,I.responseText),M.emit("finished",I.status),M.close();break}},I},abortRequest:function(M){M.onreadystatechange=null,M.abort()}},Oc=Mc,bs={createStreamingSocket(M){return this.createSocket(wn,M)},createPollingSocket(M){return this.createSocket(Lc,M)},createSocket(M,A){return new Gt(M,A)},createXHR(M,A){return this.createRequest(Oc,M,A)},createRequest(M,A,I){return new vn(M,A,I)}},tl=bs;tl.createXDR=function(M,A){return this.createRequest(en,M,A)};var na=tl,er={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:o,DependenciesReceivers:f,getDefaultStrategy:Kt,Transports:T,transportConnectionInitializer:Et,HTTPFactory:na,TimelineTransport:ve,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(M){window.Pusher=M;var A=()=>{this.onDocumentBody(M.ready)};window.JSON?A():p.load("json2",{},A)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:$,jsonp:D}},onDocumentBody(M){document.body?M():setTimeout(()=>{this.onDocumentBody(M)},0)},createJSONPRequest(M,A){return new P(M,A)},createScriptRequest(M){return new E(M)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var M=this.getXHRAPI();return new M},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return Pe},createWebSocket(M){var A=this.getWebSocketAPI();return new A(M)},createSocketRequest(M,A){if(this.isXHRSupported())return this.HTTPFactory.createXHR(M,A);if(this.isXDRSupported(A.indexOf("https:")===0))return this.HTTPFactory.createXDR(M,A);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var M=this.getXHRAPI();return!!M&&new M().withCredentials!==void 0},isXDRSupported(M){var A=M?"https:":"http:",I=this.getProtocol();return!!window.XDomainRequest&&I===A},addUnloadListener(M){window.addEventListener!==void 0?window.addEventListener("unload",M,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",M)},removeUnloadListener(M){window.addEventListener!==void 0?window.removeEventListener("unload",M,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",M)},randomInt(M){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*M)}},It=er,nl;(function(M){M[M.ERROR=3]="ERROR",M[M.INFO=6]="INFO",M[M.DEBUG=7]="DEBUG"})(nl||(nl={}));var ra=nl;class rg{constructor(A,I,re){this.key=A,this.session=I,this.events=[],this.options=re||{},this.sent=0,this.uniqueID=0}log(A,I){A<=this.options.level&&(this.events.push(Le({},I,{timestamp:Te.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(A){this.log(ra.ERROR,A)}info(A){this.log(ra.INFO,A)}debug(A){this.log(ra.DEBUG,A)}isEmpty(){return this.events.length===0}send(A,I){var re=Le({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],A(re,(ue,He)=>{ue||this.sent++,I&&I(ue,He)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class sh{constructor(A,I,re,ue){this.name=A,this.priority=I,this.transport=re,this.options=ue||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(A,I){if(this.isSupported()){if(this.priority<A)return rl(new v,I)}else return rl(new R,I);var re=!1,ue=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),He=null,nt=function(){ue.unbind("initialized",nt),ue.connect()},yt=function(){He=ot.createHandshake(ue,function(Vn){re=!0,un(),I(null,Vn)})},At=function(Vn){un(),I(Vn)},on=function(){un();var Vn;Vn=J(ue),I(new C(Vn))},un=function(){ue.unbind("initialized",nt),ue.unbind("open",yt),ue.unbind("error",At),ue.unbind("closed",on)};return ue.bind("initialized",nt),ue.bind("open",yt),ue.bind("error",At),ue.bind("closed",on),ue.initialize(),{abort:()=>{re||(un(),He?He.close():ue.close())},forceMinPriority:Vn=>{re||this.priority<Vn&&(He?He.close():ue.close())}}}}function rl(M,A){return Te.defer(function(){A(M)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:ig}=It;var oh=function(M,A,I,re,ue,He){var nt=ig[I];if(!nt)throw new j(I);var yt=(!M.enabledTransports||Be(M.enabledTransports,A)!==-1)&&(!M.disabledTransports||Be(M.disabledTransports,A)===-1),At;return yt?(ue=Object.assign({ignoreNullOrigin:M.ignoreNullOrigin},ue),At=new sh(A,re,He?He.getAssistant(nt):nt,ue)):At=rn,At},rn={isSupported:function(){return!1},connect:function(M,A){var I=Te.defer(function(){A(new R)});return{abort:function(){I.ensureAborted()},forceMinPriority:function(){}}}};function sg(M){if(M==null)throw"You must pass an options object";if(M.cluster==null)throw"Options object must provide a cluster";"disableStats"in M&&se.warn("The disableStats option is deprecated in favor of enableStats")}const ai=(M,A)=>{var I="socket_id="+encodeURIComponent(M.socketId);for(var re in A.params)I+="&"+encodeURIComponent(re)+"="+encodeURIComponent(A.params[re]);if(A.paramsProvider!=null){let ue=A.paramsProvider();for(var re in ue)I+="&"+encodeURIComponent(re)+"="+encodeURIComponent(ue[re])}return I};var ah=M=>{if(typeof It.getAuthorizers()[M.transport]>"u")throw`'${M.transport}' is not a recognized auth transport`;return(A,I)=>{const re=ai(A,M);It.getAuthorizers()[M.transport](It,re,M,w.UserAuthentication,I)}};const og=(M,A)=>{var I="socket_id="+encodeURIComponent(M.socketId);I+="&channel_name="+encodeURIComponent(M.channelName);for(var re in A.params)I+="&"+encodeURIComponent(re)+"="+encodeURIComponent(A.params[re]);if(A.paramsProvider!=null){let ue=A.paramsProvider();for(var re in ue)I+="&"+encodeURIComponent(re)+"="+encodeURIComponent(ue[re])}return I};var ag=M=>{if(typeof It.getAuthorizers()[M.transport]>"u")throw`'${M.transport}' is not a recognized auth transport`;return(A,I)=>{const re=og(A,M);It.getAuthorizers()[M.transport](It,re,M,w.ChannelAuthorization,I)}};const ch=(M,A,I)=>{const re={authTransport:A.transport,authEndpoint:A.endpoint,auth:{params:A.params,headers:A.headers}};return(ue,He)=>{const nt=M.channel(ue.channelName);I(nt,re).authorize(ue.socketId,He)}};function lg(M,A){let I={activityTimeout:M.activityTimeout||u.activityTimeout,cluster:M.cluster,httpPath:M.httpPath||u.httpPath,httpPort:M.httpPort||u.httpPort,httpsPort:M.httpsPort||u.httpsPort,pongTimeout:M.pongTimeout||u.pongTimeout,statsHost:M.statsHost||u.stats_host,unavailableTimeout:M.unavailableTimeout||u.unavailableTimeout,wsPath:M.wsPath||u.wsPath,wsPort:M.wsPort||u.wsPort,wssPort:M.wssPort||u.wssPort,enableStats:dg(M),httpHost:cg(M),useTLS:vi(M),wsHost:$c(M),userAuthenticator:uh(M),channelAuthorizer:dh(M,A)};return"disabledTransports"in M&&(I.disabledTransports=M.disabledTransports),"enabledTransports"in M&&(I.enabledTransports=M.enabledTransports),"ignoreNullOrigin"in M&&(I.ignoreNullOrigin=M.ignoreNullOrigin),"timelineParams"in M&&(I.timelineParams=M.timelineParams),"nacl"in M&&(I.nacl=M.nacl),I}function cg(M){return M.httpHost?M.httpHost:M.cluster?`sockjs-${M.cluster}.pusher.com`:u.httpHost}function $c(M){return M.wsHost?M.wsHost:ug(M.cluster)}function ug(M){return`ws-${M}.pusher.com`}function vi(M){return It.getProtocol()==="https:"?!0:M.forceTLS!==!1}function dg(M){return"enableStats"in M?M.enableStats:"disableStats"in M?!M.disableStats:!1}function uh(M){const A=Object.assign(Object.assign({},u.userAuthentication),M.userAuthentication);return"customHandler"in A&&A.customHandler!=null?A.customHandler:ah(A)}function Ji(M,A){let I;return"channelAuthorization"in M?I=Object.assign(Object.assign({},u.channelAuthorization),M.channelAuthorization):(I={transport:M.authTransport||u.authTransport,endpoint:M.authEndpoint||u.authEndpoint},"auth"in M&&("params"in M.auth&&(I.params=M.auth.params),"headers"in M.auth&&(I.headers=M.auth.headers)),"authorizer"in M&&(I.customHandler=ch(A,I,M.authorizer))),I}function dh(M,A){const I=Ji(M,A);return"customHandler"in I&&I.customHandler!=null?I.customHandler:ag(I)}class hh extends sn{constructor(A){super(function(I,re){se.debug(`No callbacks on watchlist events for ${I}`)}),this.pusher=A,this.bindWatchlistInternalEvent()}handleEvent(A){A.data.events.forEach(I=>{this.emit(I.name,I)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",A=>{var I=A.event;I==="pusher_internal:watchlist_events"&&this.handleEvent(A)})}}function Uc(){let M,A;return{promise:new Promise((re,ue)=>{M=re,A=ue}),resolve:M,reject:A}}var hg=Uc;class fh extends sn{constructor(A){super(function(I,re){se.debug("No callbacks on user for "+I)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(I,re)=>{if(I){se.warn(`Error during signin: ${I}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:re.auth,user_data:re.user_data})},this.pusher=A,this.pusher.connection.bind("state_change",({previous:I,current:re})=>{I!=="connected"&&re==="connected"&&this._signin(),I==="connected"&&re!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new hh(A),this.pusher.connection.bind("message",I=>{var re=I.event;re==="pusher:signin_success"&&this._onSigninSuccess(I.data),this.serverToUserChannel&&this.serverToUserChannel.name===I.channel&&this.serverToUserChannel.handleEvent(I)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(A){try{this.user_data=JSON.parse(A.user_data)}catch{se.error(`Failed parsing user data after signin: ${A.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){se.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const A=I=>{I.subscriptionPending&&I.subscriptionCancelled?I.reinstateSubscription():!I.subscriptionPending&&this.pusher.connection.state==="connected"&&I.subscribe()};this.serverToUserChannel=new ut(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((I,re)=>{I.indexOf("pusher_internal:")===0||I.indexOf("pusher:")===0||this.emit(I,re)}),A(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:A,resolve:I,reject:re}=hg();A.done=!1;const ue=()=>{A.done=!0};A.then(ue).catch(ue),this.signinDonePromise=A,this._signinDoneResolve=I}}class Yn{static ready(){Yn.isReady=!0;for(var A=0,I=Yn.instances.length;A<I;A++)Yn.instances[A].connect()}static getClientFeatures(){return V(Me({ws:It.Transports.ws},function(A){return A.isSupported({})}))}constructor(A,I){fg(A),sg(I),this.key=A,this.config=lg(I,this),this.channels=ot.createChannels(),this.global_emitter=new sn,this.sessionID=It.randomInt(1e9),this.timeline=new rg(this.key,this.sessionID,{cluster:this.config.cluster,features:Yn.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:ra.INFO,version:u.VERSION}),this.config.enableStats&&(this.timelineSender=ot.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+It.TimelineTransport.name}));var re=ue=>It.getDefaultStrategy(this.config,ue,oh);this.connection=ot.createConnectionManager(this.key,{getStrategy:re,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",ue=>{var He=ue.event,nt=He.indexOf("pusher_internal:")===0;if(ue.channel){var yt=this.channel(ue.channel);yt&&yt.handleEvent(ue)}nt||this.global_emitter.emit(ue.event,ue.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",ue=>{se.warn(ue)}),Yn.instances.push(this),this.timeline.info({instances:Yn.instances.length}),this.user=new fh(this),Yn.isReady&&this.connect()}channel(A){return this.channels.find(A)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var A=this.connection.isUsingTLS(),I=this.timelineSender;this.timelineSenderTimer=new be(6e4,function(){I.send(A)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(A,I,re){return this.global_emitter.bind(A,I,re),this}unbind(A,I,re){return this.global_emitter.unbind(A,I,re),this}bind_global(A){return this.global_emitter.bind_global(A),this}unbind_global(A){return this.global_emitter.unbind_global(A),this}unbind_all(A){return this.global_emitter.unbind_all(),this}subscribeAll(){var A;for(A in this.channels.channels)this.channels.channels.hasOwnProperty(A)&&this.subscribe(A)}subscribe(A){var I=this.channels.add(A,this);return I.subscriptionPending&&I.subscriptionCancelled?I.reinstateSubscription():!I.subscriptionPending&&this.connection.state==="connected"&&I.subscribe(),I}unsubscribe(A){var I=this.channels.find(A);I&&I.subscriptionPending?I.cancelSubscription():(I=this.channels.remove(A),I&&I.subscribed&&I.unsubscribe())}send_event(A,I,re){return this.connection.send_event(A,I,re)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}Yn.instances=[],Yn.isReady=!1,Yn.logToConsole=!1,Yn.Runtime=It,Yn.ScriptReceivers=It.ScriptReceivers,Yn.DependenciesReceivers=It.DependenciesReceivers,Yn.auth_callbacks=It.auth_callbacks;var zc=r.default=Yn;function fg(M){if(M==null)throw"You must pass your app key when you instantiate Pusher."}It.setup(Yn)}])})})(t3);var k7=t3.exports;const E7=zo(k7);class A7{constructor(){this.pusher=null,this.isConfigured=!1,this.subscribedChannels=new Set,this.connectionAttempts=0,this.maxConnectionAttempts=2,this.isConnecting=!1,this.configurationError=null,this.hasTriedConnection=!1,this.mockMode=!1,this.config={appId:"2011112",key:"1d755018de122f22b13c",secret:"d3861e69702c6bc409e3",cluster:"eu"};const e=this.validateConfig();e.isValid?console.log("Pusher configuration appears valid - will attempt connection on first subscription"):(this.configurationError=e.error,this.mockMode=!0,console.warn("Pusher configuration invalid - using mock mode for real-time features"),console.warn(e.error))}validateConfig(){return!this.config.key||this.config.key.trim()===""?{isValid:!1,error:"VITE_PUSHER_KEY is missing. Please add it to your .env file. Get your key from https://dashboard.pusher.com/"}:!this.config.cluster||this.config.cluster.trim()===""?{isValid:!1,error:"VITE_PUSHER_CLUSTER is missing. Please add it to your .env file (e.g., us2, eu, ap1, etc.)"}:/^[a-zA-Z0-9]+$/.test(this.config.key)?this.config.key==="your_pusher_key_here"||this.config.key==="YOUR_PUSHER_KEY"?{isValid:!1,error:"VITE_PUSHER_KEY appears to be a placeholder. Please replace with your actual Pusher key from https://dashboard.pusher.com/"}:this.config.cluster==="your_cluster_here"||this.config.cluster==="YOUR_CLUSTER"?{isValid:!1,error:"VITE_PUSHER_CLUSTER appears to be a placeholder. Please replace with your actual cluster (e.g., us2, eu, ap1)"}:{isValid:!0}:{isValid:!1,error:"VITE_PUSHER_KEY appears to be invalid format. Pusher keys should contain only letters and numbers."}}async initializePusher(){return this.isConnecting||this.connectionAttempts>=this.maxConnectionAttempts||this.mockMode?!1:(this.isConnecting=!0,this.connectionAttempts++,this.hasTriedConnection=!0,new Promise(e=>{try{console.log(`Attempting Pusher connection (attempt ${this.connectionAttempts}/${this.maxConnectionAttempts})`),this.pusher=new E7(this.config.key,{cluster:this.config.cluster,encrypted:!0,enabledTransports:["ws","wss"],disabledTransports:[],enableStats:!1,enableLogging:!1,activityTimeout:3e4,pongTimeout:6e3});const n=setTimeout(()=>{console.warn("Pusher connection timeout - switching to mock mode"),this.handleConnectionFailure("Connection timeout"),e(!1)},1e4);this.pusher.connection.bind("connected",()=>{clearTimeout(n),console.log("Pusher connected successfully"),this.isConfigured=!0,this.isConnecting=!1,this.connectionAttempts=0,this.configurationError=null,this.mockMode=!1,e(!0)}),this.pusher.connection.bind("error",r=>{clearTimeout(n),console.error("Pusher connection error:",r),this.isConnecting=!1;let i="Unknown Pusher connection error";if(r.data&&r.data.code)switch(r.data.code){case 1006:i="Invalid Pusher credentials. The application key or cluster is incorrect. Please verify your VITE_PUSHER_KEY and VITE_PUSHER_CLUSTER in your .env file match your app settings from https://dashboard.pusher.com/";break;case 4001:i="Pusher application does not exist or is disabled. Please check your app settings at https://dashboard.pusher.com/";break;case 4004:i="Pusher application is over connection quota. Please upgrade your plan or check usage at https://dashboard.pusher.com/";break;case 4100:i="Invalid Pusher application key. Please verify VITE_PUSHER_KEY in your .env file matches your app key from https://dashboard.pusher.com/";break;default:i=`Pusher Error ${r.data.code}: ${r.data.message||"Unknown error"}`}this.handleConnectionFailure(i),e(!1)}),this.pusher.connection.bind("disconnected",()=>{clearTimeout(n),console.log("Pusher disconnected"),this.isConnecting=!1}),this.pusher.connection.bind("unavailable",()=>{clearTimeout(n),console.warn("Pusher connection unavailable"),this.handleConnectionFailure("Connection unavailable"),e(!1)}),this.pusher.connection.bind("failed",()=>{clearTimeout(n),console.error("Pusher connection failed"),this.handleConnectionFailure("Connection failed"),e(!1)})}catch(n){console.error("Failed to initialize Pusher:",n),this.handleConnectionFailure(`Failed to initialize: ${n instanceof Error?n.message:"Unknown error"}`),e(!1)}}))}handleConnectionFailure(e){if(this.isConfigured=!1,this.isConnecting=!1,this.configurationError=e,this.mockMode=!0,this.pusher){try{this.pusher.disconnect()}catch{}this.pusher=null}console.warn(`Pusher connection failed: ${e}`),console.warn("Switching to mock mode for real-time features")}async subscribeToEmergencyUpdates(e="global",n){if(!this.hasTriedConnection&&!this.mockMode&&!await this.initializePusher())return this.mockSubscription(n);if(!this.isConfigured||!this.pusher||this.mockMode)return this.mockSubscription(n);const r=`emergency-updates-${e}`;try{const i=this.pusher.subscribe(r);return this.subscribedChannels.add(r),i.bind("new-report",s=>{n({type:"new_report",reportId:s.reportId,data:s,timestamp:new Date(s.timestamp)})}),i.bind("status-update",s=>{n({type:"status_update",reportId:s.reportId,data:s,timestamp:new Date(s.timestamp)})}),i.bind("responder-assigned",s=>{n({type:"responder_assigned",reportId:s.reportId,data:s,timestamp:new Date(s.timestamp)})}),console.log(`Subscribed to emergency updates: ${r}`),()=>{this.pusher&&(this.pusher.unsubscribe(r),this.subscribedChannels.delete(r),console.log(`Unsubscribed from: ${r}`))}}catch(i){return console.error("Failed to subscribe to emergency updates:",i),this.mockSubscription(n)}}async subscribeToChatMessages(e,n){if(!this.hasTriedConnection&&!this.mockMode&&await this.initializePusher(),!this.isConfigured||!this.pusher||this.mockMode)return console.warn("Pusher not available - chat messages will work but without real-time updates"),()=>{};const r=`chat-${e}`;try{const i=this.pusher.subscribe(r);return this.subscribedChannels.add(r),i.bind("new-message",s=>{n({...s,timestamp:new Date(s.timestamp)})}),i.bind("message-updated",s=>{n({...s,timestamp:new Date(s.timestamp),isUpdate:!0})}),console.log(`Subscribed to chat: ${r}`),()=>{this.pusher&&(this.pusher.unsubscribe(r),this.subscribedChannels.delete(r),console.log(`Unsubscribed from chat: ${r}`))}}catch(i){return console.error("Failed to subscribe to chat:",i),()=>{}}}async subscribeToResponderUpdates(e="global",n){if(!this.hasTriedConnection&&!this.mockMode&&await this.initializePusher(),!this.isConfigured||!this.pusher||this.mockMode)return console.warn("Pusher not available - responder updates will work but without real-time updates"),()=>{};const r=`responders-${e}`;try{const i=this.pusher.subscribe(r);return this.subscribedChannels.add(r),i.bind("location-update",n),i.bind("availability-change",n),i.bind("responder-online",n),i.bind("responder-offline",n),console.log(`Subscribed to responder updates: ${r}`),()=>{this.pusher&&(this.pusher.unsubscribe(r),this.subscribedChannels.delete(r))}}catch(i){return console.error("Failed to subscribe to responder updates:",i),()=>{}}}async triggerEvent(e,n,r){if(!this.isConfigured||this.mockMode)return console.warn("Pusher not available - cannot trigger real-time events"),!1;try{return(await fetch("/api/pusher/trigger",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({channel:e,event:n,data:{...r,timestamp:new Date().toISOString()}})})).ok}catch(i){return console.error("Failed to trigger Pusher event:",i),!1}}mockSubscription(e){console.log("Using mock real-time updates - configure Pusher for live updates");const n=setInterval(()=>{if(Math.random()>.95){const r={type:"new_report",reportId:`mock_${Date.now()}`,data:{title:"Mock Emergency Update",severity:"medium",location:{lat:40.7128,lng:-74.006}},timestamp:new Date};e(r)}},3e4);return()=>{clearInterval(n),console.log("Mock subscription cancelled")}}getConnectionState(){return this.mockMode?"mock":this.pusher?this.pusher.connection.state:"unavailable"}disconnect(){this.pusher&&(this.subscribedChannels.forEach(e=>{this.pusher.unsubscribe(e)}),this.subscribedChannels.clear(),this.pusher.disconnect(),console.log("Pusher disconnected"))}isServiceConfigured(){return this.isConfigured}getConfigurationError(){return this.configurationError}isInMockMode(){return this.mockMode}async retryConnection(){return this.mockMode&&this.connectionAttempts<this.maxConnectionAttempts?(console.log("Retrying Pusher connection..."),this.configurationError=null,this.mockMode=!1,this.connectionAttempts=0,await this.initializePusher()):!1}getServiceInfo(){return{configured:this.isConfigured,mockMode:this.mockMode,cluster:this.config.cluster,connectionState:this.getConnectionState(),subscribedChannels:Array.from(this.subscribedChannels),connectionAttempts:this.connectionAttempts,maxConnectionAttempts:this.maxConnectionAttempts,configurationError:this.configurationError,hasValidKey:!!this.config.key&&this.config.key.length>0,hasValidCluster:!!this.config.cluster&&this.config.cluster.length>0,hasTriedConnection:this.hasTriedConnection}}getSetupInstructions(){return`
To set up Pusher real-time features:

1. Go to https://dashboard.pusher.com/ and create a free account
2. Create a new app or select an existing one
3. Go to "App Keys" section
4. Copy your app_key and cluster
5. Update your .env file with the correct values:
   VITE_PUSHER_KEY=your_actual_app_key
   VITE_PUSHER_CLUSTER=your_actual_cluster
6. Restart your development server

Current status: ${this.mockMode?"Mock mode (Pusher unavailable)":this.configurationError||"Not configured"}

Note: The app will continue to work normally in mock mode, but real-time features will be simulated.
    `.trim()}}const Rs=new A7,Rv="RFC3986",Bv={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},C7="RFC1738",j7=Array.isArray,ns=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),lx=1024,T7=(t,e,n,r,i)=>{if(t.length===0)return t;let s=t;if(typeof t=="symbol"?s=Symbol.prototype.toString.call(t):typeof t!="string"&&(s=String(t)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});let o="";for(let l=0;l<s.length;l+=lx){const u=s.length>=lx?s.slice(l,l+lx):s,h=[];for(let f=0;f<u.length;++f){let p=u.charCodeAt(f);if(p===45||p===46||p===95||p===126||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||i===C7&&(p===40||p===41)){h[h.length]=u.charAt(f);continue}if(p<128){h[h.length]=ns[p];continue}if(p<2048){h[h.length]=ns[192|p>>6]+ns[128|p&63];continue}if(p<55296||p>=57344){h[h.length]=ns[224|p>>12]+ns[128|p>>6&63]+ns[128|p&63];continue}f+=1,p=65536+((p&1023)<<10|u.charCodeAt(f)&1023),h[h.length]=ns[240|p>>18]+ns[128|p>>12&63]+ns[128|p>>6&63]+ns[128|p&63]}o+=h.join("")}return o};function P7(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function HS(t,e){if(j7(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const F7=Object.prototype.hasOwnProperty,n3={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},os=Array.isArray,N7=Array.prototype.push,r3=function(t,e){N7.apply(t,os(e)?e:[e])},R7=Date.prototype.toISOString,nr={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:T7,encodeValuesOnly:!1,format:Rv,formatter:Bv[Rv],indices:!1,serializeDate(t){return R7.call(t)},skipNulls:!1,strictNullHandling:!1};function B7(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const cx={};function i3(t,e,n,r,i,s,o,l,u,h,f,p,g,y,_,w,b,k){let x=t,v=k,C=0,F=!1;for(;(v=v.get(cx))!==void 0&&!F;){const $=v.get(t);if(C+=1,typeof $<"u"){if($===C)throw new RangeError("Cyclic object value");F=!0}typeof v.get(cx)>"u"&&(C=0)}if(typeof h=="function"?x=h(e,x):x instanceof Date?x=g==null?void 0:g(x):n==="comma"&&os(x)&&(x=HS(x,function($){return $ instanceof Date?g==null?void 0:g($):$})),x===null){if(s)return u&&!w?u(e,nr.encoder,b,"key",y):e;x=""}if(B7(x)||P7(x)){if(u){const $=w?e:u(e,nr.encoder,b,"key",y);return[(_==null?void 0:_($))+"="+(_==null?void 0:_(u(x,nr.encoder,b,"value",y)))]}return[(_==null?void 0:_(e))+"="+(_==null?void 0:_(String(x)))]}const j=[];if(typeof x>"u")return j;let R;if(n==="comma"&&os(x))w&&u&&(x=HS(x,u)),R=[{value:x.length>0?x.join(",")||null:void 0}];else if(os(h))R=h;else{const $=Object.keys(x);R=f?$.sort(f):$}const z=l?String(e).replace(/\./g,"%2E"):String(e),Q=r&&os(x)&&x.length===1?z+"[]":z;if(i&&os(x)&&x.length===0)return Q+"[]";for(let $=0;$<R.length;++$){const X=R[$],te=typeof X=="object"&&typeof X.value<"u"?X.value:x[X];if(o&&te===null)continue;const ae=p&&l?X.replace(/\./g,"%2E"):X,Ae=os(x)?typeof n=="function"?n(Q,ae):Q:Q+(p?"."+ae:"["+ae+"]");k.set(t,C);const he=new WeakMap;he.set(cx,k),r3(j,i3(te,Ae,n,r,i,s,o,l,n==="comma"&&w&&os(x)?null:u,h,f,p,g,y,_,w,b,he))}return j}function D7(t=nr){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||nr.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Rv;if(typeof t.format<"u"){if(!F7.call(Bv,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=Bv[n];let i=nr.filter;(typeof t.filter=="function"||os(t.filter))&&(i=t.filter);let s;if(t.arrayFormat&&t.arrayFormat in n3?s=t.arrayFormat:"indices"in t?s=t.indices?"indices":"repeat":s=nr.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:nr.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:nr.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:nr.allowEmptyArrays,arrayFormat:s,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:nr.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?nr.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:nr.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:nr.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:nr.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:nr.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:nr.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:nr.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:nr.strictNullHandling}}function I7(t,e={}){let n=t;const r=D7(e);let i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):os(r.filter)&&(s=r.filter,i=s);const o=[];if(typeof n!="object"||n===null)return"";const l=n3[r.arrayFormat],u=l==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);const h=new WeakMap;for(let g=0;g<i.length;++g){const y=i[g];r.skipNulls&&n[y]===null||r3(o,i3(n[y],y,l,u,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,h))}const f=o.join(r.delimiter);let p=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),f.length>0?p+f:""}const kl="4.104.0";let WS=!1,Mu,s3,o3,Dv,a3,l3,c3,u3,d3;function L7(t,e={auto:!1}){if(WS)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(Mu)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${Mu}'\``);WS=e.auto,Mu=t.kind,s3=t.fetch,o3=t.FormData,Dv=t.File,a3=t.ReadableStream,l3=t.getMultipartRequestOptions,c3=t.getDefaultAgent,u3=t.fileFromPath,d3=t.isFsReadStream}class M7{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function O7({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,i,s;try{n=fetch,r=Request,i=Response,s=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:i,Headers:s,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(o,l)=>({...l,body:new M7(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}const h3=()=>{Mu||L7(O7(),{auto:!0})};h3();class Ot extends Error{}class wr extends Ot{constructor(e,n,r,i){super(`${wr.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.request_id=i==null?void 0:i["x-request-id"],this.error=n;const s=n;this.code=s==null?void 0:s.code,this.param=s==null?void 0:s.param,this.type=s==null?void 0:s.type}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Tm({message:r,cause:Lv(n)});const s=n==null?void 0:n.error;return e===400?new f3(e,s,r,i):e===401?new p3(e,s,r,i):e===403?new m3(e,s,r,i):e===404?new g3(e,s,r,i):e===409?new x3(e,s,r,i):e===422?new y3(e,s,r,i):e===429?new v3(e,s,r,i):e>=500?new w3(e,s,r,i):new wr(e,s,r,i)}}class Ti extends wr{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Tm extends wr{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class pb extends Tm{constructor({message:e}={}){super({message:e??"Request timed out."})}}class f3 extends wr{}class p3 extends wr{}class m3 extends wr{}class g3 extends wr{}class x3 extends wr{}class y3 extends wr{}class v3 extends wr{}class w3 extends wr{}class b3 extends Ot{constructor(){super("Could not parse response content as the length limit was reached")}}class _3 extends Ot{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var Xh=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},sa=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},ci;class Pm{constructor(){ci.set(this,void 0),this.buffer=new Uint8Array,Xh(this,ci,null,"f")}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?new TextEncoder().encode(e):e;let r=new Uint8Array(this.buffer.length+n.length);r.set(this.buffer),r.set(n,this.buffer.length),this.buffer=r;const i=[];let s;for(;(s=$7(this.buffer,sa(this,ci,"f")))!=null;){if(s.carriage&&sa(this,ci,"f")==null){Xh(this,ci,s.index,"f");continue}if(sa(this,ci,"f")!=null&&(s.index!==sa(this,ci,"f")+1||s.carriage)){i.push(this.decodeText(this.buffer.slice(0,sa(this,ci,"f")-1))),this.buffer=this.buffer.slice(sa(this,ci,"f")),Xh(this,ci,null,"f");continue}const o=sa(this,ci,"f")!==null?s.preceding-1:s.preceding,l=this.decodeText(this.buffer.slice(0,o));i.push(l),this.buffer=this.buffer.slice(s.index),Xh(this,ci,null,"f")}return i}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new Ot(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new Ot(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new Ot("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}ci=new WeakMap;Pm.NEWLINE_CHARS=new Set([`
`,"\r"]);Pm.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function $7(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function U7(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}function S3(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class us{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{for await(const o of z7(e,n))if(!s){if(o.data.startsWith("[DONE]")){s=!0;continue}if(o.event===null||o.event.startsWith("response.")||o.event.startsWith("transcript.")){let l;try{l=JSON.parse(o.data)}catch(u){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),u}if(l&&l.error)throw new wr(void 0,l.error,void 0,P3(e.headers));yield l}else{let l;try{l=JSON.parse(o.data)}catch(u){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),u}if(o.event=="error")throw new wr(void 0,l.error,l.message,void 0);yield{event:o.event,data:l}}}s=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{s||n.abort()}}return new us(i,n)}static fromReadableStream(e,n){let r=!1;async function*i(){const o=new Pm,l=S3(e);for await(const u of l)for(const h of o.decode(u))yield h;for(const u of o.flush())yield u}async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const l of i())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{o||n.abort()}}return new us(s,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const o=r.next();e.push(o),n.push(o)}return s.shift()}});return[new us(()=>i(e),this.controller),new us(()=>i(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new a3({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:s,done:o}=await n.next();if(o)return i.close();const l=r.encode(JSON.stringify(s)+`
`);i.enqueue(l)}catch(s){i.error(s)}},async cancel(){var i;await((i=n.return)==null?void 0:i.call(n))}})}}async function*z7(t,e){if(!t.body)throw e.abort(),new Ot("Attempted to iterate over a response with no body");const n=new V7,r=new Pm,i=S3(t.body);for await(const s of q7(i))for(const o of r.decode(s)){const l=n.decode(o);l&&(yield l)}for(const s of r.flush()){const o=n.decode(s);o&&(yield o)}}async function*q7(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let i=new Uint8Array(e.length+r.length);i.set(e),i.set(r,e.length),e=i;let s;for(;(s=U7(e))!==-1;)yield e.slice(0,s),e=e.slice(s)}e.length>0&&(yield e)}class V7{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=H7(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function H7(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}const k3=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",E3=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Fm(t),Fm=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",W7=t=>E3(t)||k3(t)||d3(t);async function A3(t,e,n){var i;if(t=await t,E3(t))return t;if(k3(t)){const s=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=Fm(s)?[await s.arrayBuffer()]:[s];return new Dv(o,e,n)}const r=await K7(t);if(e||(e=Z7(t)??"unknown_file"),!(n!=null&&n.type)){const s=(i=r[0])==null?void 0:i.type;typeof s=="string"&&(n={...n,type:s})}return new Dv(r,e,n)}async function K7(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(Fm(t))e.push(await t.arrayBuffer());else if(Y7(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${G7(t)}`);return e}function G7(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function Z7(t){var e;return ux(t.name)||ux(t.filename)||((e=ux(t.path))==null?void 0:e.split(/[\\/]/).pop())}const ux=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},Y7=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",KS=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",$a=async t=>{const e=await X7(t.body);return l3(e,t)},X7=async t=>{const e=new o3;return await Promise.all(Object.entries(t||{}).map(([n,r])=>Iv(e,n,r))),e},Iv=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(W7(n)){const r=await A3(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>Iv(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>Iv(t,`${e}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var Jl={},J7=function(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},Q7=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Jh;h3();async function C3(t){var o;const{response:e}=t;if(t.options.stream)return Fo("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):us.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type"),r=(o=n==null?void 0:n.split(";")[0])==null?void 0:o.trim();if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.endsWith("+json"))){const l=await e.json();return Fo("response",e.status,e.url,e.headers,l),j3(l,e)}const s=await e.text();return Fo("response",e.status,e.url,e.headers,s),s}function j3(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class Nm extends Promise{constructor(e,n=C3){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new Nm(this.responsePromise,async n=>j3(e(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class e9{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e5,httpAgent:i,fetch:s}){this.baseURL=e,this.maxRetries=dx("maxRetries",n),this.timeout=dx("timeout",r),this.httpAgent=i,this.fetch=s??s3}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...s9(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${c9()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async i=>{const s=i&&Fm(i==null?void 0:i.body)?new DataView(await i.body.arrayBuffer()):(i==null?void 0:i.body)instanceof DataView?i.body:(i==null?void 0:i.body)instanceof ArrayBuffer?new DataView(i.body):i&&ArrayBuffer.isView(i==null?void 0:i.body)?new DataView(i.body.buffer):i==null?void 0:i.body;return{method:e,path:n,...i,body:s}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){var w;const r={...e},{method:i,path:s,query:o,headers:l={}}=r,u=ArrayBuffer.isView(r.body)||r.__binaryRequest&&typeof r.body=="string"?r.body:KS(r.body)?r.body.body:r.body?JSON.stringify(r.body,null,2):null,h=this.calculateContentLength(u),f=this.buildURL(s,o);"timeout"in r&&dx("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const p=r.httpAgent??this.httpAgent??c3(f),g=r.timeout+1e3;typeof((w=p==null?void 0:p.options)==null?void 0:w.timeout)=="number"&&g>(p.options.timeout??0)&&(p.options.timeout=g),this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const y=this.buildHeaders({options:r,headers:l,contentLength:h,retryCount:n});return{req:{method:i,...u&&{body:u},headers:y,...p&&{agent:p},signal:r.signal??null},url:f,timeout:r.timeout}}buildHeaders({options:e,headers:n,contentLength:r,retryCount:i}){const s={};r&&(s["content-length"]=r);const o=this.defaultHeaders(e);return XS(s,o),XS(s,n),KS(e.body)&&Mu!=="node"&&delete s["content-type"],ef(o,"x-stainless-retry-count")===void 0&&ef(n,"x-stainless-retry-count")===void 0&&(s["x-stainless-retry-count"]=String(i)),ef(o,"x-stainless-timeout")===void 0&&ef(n,"x-stainless-timeout")===void 0&&e.timeout&&(s["x-stainless-timeout"]=String(Math.trunc(e.timeout/1e3))),this.validateHeaders(s,n),s}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,i){return wr.generate(e,n,r,i)}request(e,n=null){return new Nm(this.makeRequest(e,n))}async makeRequest(e,n){var p,g;const r=await e,i=r.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(r);const{req:s,url:o,timeout:l}=this.buildRequest(r,{retryCount:i-n});if(await this.prepareRequest(s,{url:o,options:r}),Fo("request",o,r,s.headers),(p=r.signal)!=null&&p.aborted)throw new Ti;const u=new AbortController,h=await this.fetchWithTimeout(o,s,l,u).catch(Lv);if(h instanceof Error){if((g=r.signal)!=null&&g.aborted)throw new Ti;if(n)return this.retryRequest(r,n);throw h.name==="AbortError"?new pb:new Tm({cause:h})}const f=P3(h.headers);if(!h.ok){if(n&&this.shouldRetry(h)){const x=`retrying, ${n} attempts remaining`;return Fo(`response (error; ${x})`,h.status,o,f),this.retryRequest(r,n,f)}const y=await h.text().catch(x=>Lv(x).message),_=o9(y),w=_?void 0:y;throw Fo(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,h.status,o,f,w),this.makeStatusError(h.status,_,w,f)}return{response:h,options:r,controller:u}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new t9(this,r,e)}buildURL(e,n){const r=l9(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return F3(i)||(n={...i,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Ot(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,i){const{signal:s,...o}=n||{};s&&s.addEventListener("abort",()=>i.abort());const l=setTimeout(()=>i.abort(),r),u={signal:i.signal,...o};return u.method&&(u.method=u.method.toUpperCase()),this.fetch.call(void 0,e,u).finally(()=>{clearTimeout(l)})}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let i;const s=r==null?void 0:r["retry-after-ms"];if(s){const l=parseFloat(s);Number.isNaN(l)||(i=l)}const o=r==null?void 0:r["retry-after"];if(o&&!i){const l=parseFloat(o);Number.isNaN(l)?i=Date.parse(o)-Date.now():i=l*1e3}if(!(i&&0<=i&&i<60*1e3)){const l=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,l)}return await Vd(i),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,o=Math.min(.5*Math.pow(2,s),8),l=1-Math.random()*.25;return o*l*1e3}getUserAgent(){return`${this.constructor.name}/JS ${kl}`}}class T3{constructor(e,n,r,i){Jh.set(this,void 0),J7(this,Jh,e),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new Ot("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const r=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[i,s]of r)e.url.searchParams.set(i,s);n.query=void 0,n.path=e.url.toString()}return await Q7(this,Jh,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Jh=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class t9 extends Nm{constructor(e,n,r){super(n,async i=>new r(e,i.response,await C3(i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const P3=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),n9={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Un=t=>typeof t=="object"&&t!==null&&!F3(t)&&Object.keys(t).every(e=>N3(n9,e)),r9=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":kl,"X-Stainless-OS":ZS(Deno.build.os),"X-Stainless-Arch":GS(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":kl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":kl,"X-Stainless-OS":ZS(process.platform),"X-Stainless-Arch":GS(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=i9();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":kl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":kl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function i9(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:e,version:`${i}.${s}.${o}`}}}return null}const GS=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",ZS=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let YS;const s9=()=>YS??(YS=r9()),o9=t=>{try{return JSON.parse(t)}catch{return}},a9=/^[a-z][a-z0-9+.-]*:/i,l9=t=>a9.test(t),Vd=t=>new Promise(e=>setTimeout(e,t)),dx=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Ot(`${t} must be an integer`);if(e<0)throw new Ot(`${t} must be a positive integer`);return e},Lv=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},Qh=t=>{var e,n,r,i;if(typeof process<"u")return((e=Jl==null?void 0:Jl[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(i=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:i.trim()};function F3(t){if(!t)return!0;for(const e in t)return!1;return!0}function N3(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function XS(t,e){for(const n in e){if(!N3(e,n))continue;const r=n.toLowerCase();if(!r)continue;const i=e[n];i===null?delete t[r]:i!==void 0&&(t[r]=i)}}const JS=new Set(["authorization","api-key"]);function Fo(t,...e){if(typeof process<"u"&&(Jl==null?void 0:Jl.DEBUG)==="true"){const n=e.map(r=>{if(!r)return r;if(r.headers){const s={...r,headers:{...r.headers}};for(const o in r.headers)JS.has(o.toLowerCase())&&(s.headers[o]="REDACTED");return s}let i=null;for(const s in r)JS.has(s.toLowerCase())&&(i??(i={...r}),i[s]="REDACTED");return i??r});console.log(`OpenAI:DEBUG:${t}`,...n)}}const c9=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),u9=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",d9=t=>typeof(t==null?void 0:t.get)=="function",ef=(t,e)=>{var r;const n=e.toLowerCase();if(d9(t)){const i=((r=e[0])==null?void 0:r.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(s,o,l)=>o+l.toUpperCase());for(const s of[e,n,e.toUpperCase(),i]){const o=t.get(s);if(o)return o}}for(const[i,s]of Object.entries(t))if(i.toLowerCase()===n)return Array.isArray(s)?(s.length<=1||console.warn(`Received ${s.length} entries for the ${e} header, using the first entry.`),s[0]):s},h9=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.charCodeAt(i);return Array.from(new Float32Array(r.buffer))}};function hx(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class Rm extends T3{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class lr extends T3{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const e=this.getPaginatedItems();if(!e.length)return null;const n=(r=e[e.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class zt{constructor(e){this._client=e}}let R3=class extends zt{list(e,n={},r){return Un(n)?this.list(e,{},n):this._client.getAPIList(`/chat/completions/${e}/messages`,f9,{query:n,...r})}},Bm=class extends zt{constructor(){super(...arguments),this.messages=new R3(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(`/chat/completions/${e}`,n)}update(e,n,r){return this._client.post(`/chat/completions/${e}`,{body:n,...r})}list(e={},n){return Un(e)?this.list({},e):this._client.getAPIList("/chat/completions",Dm,{query:e,...n})}del(e,n){return this._client.delete(`/chat/completions/${e}`,n)}};class Dm extends lr{}class f9 extends lr{}Bm.ChatCompletionsPage=Dm;Bm.Messages=R3;let Im=class extends zt{constructor(){super(...arguments),this.completions=new Bm(this._client)}};Im.Completions=Bm;Im.ChatCompletionsPage=Dm;class B3 extends zt{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class D3 extends zt{create(e,n){return this._client.post("/audio/transcriptions",$a({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}}))}}class I3 extends zt{create(e,n){return this._client.post("/audio/translations",$a({body:e,...n,__metadata:{model:e.model}}))}}let Hd=class extends zt{constructor(){super(...arguments),this.transcriptions=new D3(this._client),this.translations=new I3(this._client),this.speech=new B3(this._client)}};Hd.Transcriptions=D3;Hd.Translations=I3;Hd.Speech=B3;class mb extends zt{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return Un(e)?this.list({},e):this._client.getAPIList("/batches",gb,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}}class gb extends lr{}mb.BatchesPage=gb;var Oi=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Bn=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Mv,Cf,jf,yu,vu,Tf,wu,Ps,bu,gp,xp,El,L3;class xb{constructor(){Mv.add(this),this.controller=new AbortController,Cf.set(this,void 0),jf.set(this,()=>{}),yu.set(this,()=>{}),vu.set(this,void 0),Tf.set(this,()=>{}),wu.set(this,()=>{}),Ps.set(this,{}),bu.set(this,!1),gp.set(this,!1),xp.set(this,!1),El.set(this,!1),Oi(this,Cf,new Promise((e,n)=>{Oi(this,jf,e,"f"),Oi(this,yu,n,"f")}),"f"),Oi(this,vu,new Promise((e,n)=>{Oi(this,Tf,e,"f"),Oi(this,wu,n,"f")}),"f"),Bn(this,Cf,"f").catch(()=>{}),Bn(this,vu,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},Bn(this,Mv,"m",L3).bind(this))},0)}_connected(){this.ended||(Bn(this,jf,"f").call(this),this._emit("connect"))}get ended(){return Bn(this,bu,"f")}get errored(){return Bn(this,gp,"f")}get aborted(){return Bn(this,xp,"f")}abort(){this.controller.abort()}on(e,n){return(Bn(this,Ps,"f")[e]||(Bn(this,Ps,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=Bn(this,Ps,"f")[e];if(!r)return this;const i=r.findIndex(s=>s.listener===n);return i>=0&&r.splice(i,1),this}once(e,n){return(Bn(this,Ps,"f")[e]||(Bn(this,Ps,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{Oi(this,El,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){Oi(this,El,!0,"f"),await Bn(this,vu,"f")}_emit(e,...n){if(Bn(this,bu,"f"))return;e==="end"&&(Oi(this,bu,!0,"f"),Bn(this,Tf,"f").call(this));const r=Bn(this,Ps,"f")[e];if(r&&(Bn(this,Ps,"f")[e]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),e==="abort"){const i=n[0];!Bn(this,El,"f")&&!(r!=null&&r.length)&&Promise.reject(i),Bn(this,yu,"f").call(this,i),Bn(this,wu,"f").call(this,i),this._emit("end");return}if(e==="error"){const i=n[0];!Bn(this,El,"f")&&!(r!=null&&r.length)&&Promise.reject(i),Bn(this,yu,"f").call(this,i),Bn(this,wu,"f").call(this,i),this._emit("end")}}_emitFinal(){}}Cf=new WeakMap,jf=new WeakMap,yu=new WeakMap,vu=new WeakMap,Tf=new WeakMap,wu=new WeakMap,Ps=new WeakMap,bu=new WeakMap,gp=new WeakMap,xp=new WeakMap,El=new WeakMap,Mv=new WeakSet,L3=function(e){if(Oi(this,gp,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new Ti),e instanceof Ti)return Oi(this,xp,!0,"f"),this._emit("abort",e);if(e instanceof Ot)return this._emit("error",e);if(e instanceof Error){const n=new Ot(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new Ot(String(e)))};var Ct=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},li=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},xr,Ov,as,Pf,Ui,_a,Ml,ga,yp,ui,Ff,Nf,Ou,_u,Su,QS,ek,tk,nk,rk,ik,sk;class Wi extends xb{constructor(){super(...arguments),xr.add(this),Ov.set(this,[]),as.set(this,{}),Pf.set(this,{}),Ui.set(this,void 0),_a.set(this,void 0),Ml.set(this,void 0),ga.set(this,void 0),yp.set(this,void 0),ui.set(this,void 0),Ff.set(this,void 0),Nf.set(this,void 0),Ou.set(this,void 0)}[(Ov=new WeakMap,as=new WeakMap,Pf=new WeakMap,Ui=new WeakMap,_a=new WeakMap,Ml=new WeakMap,ga=new WeakMap,yp=new WeakMap,ui=new WeakMap,Ff=new WeakMap,Nf=new WeakMap,Ou=new WeakMap,xr=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Wi;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var s;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=us.fromReadableStream(e,this.controller);for await(const o of i)Ct(this,xr,"m",_u).call(this,o);if((s=i.controller.signal)!=null&&s.aborted)throw new Ti;return this._addRun(Ct(this,xr,"m",Su).call(this))}toReadableStream(){return new us(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,i,s){const o=new Wi;return o._run(()=>o._runToolAssistantStream(e,n,r,i,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(e,n,r,i,s){var h;const o=s==null?void 0:s.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const l={...i,stream:!0},u=await e.submitToolOutputs(n,r,l,{...s,signal:this.controller.signal});this._connected();for await(const f of u)Ct(this,xr,"m",_u).call(this,f);if((h=u.controller.signal)!=null&&h.aborted)throw new Ti;return this._addRun(Ct(this,xr,"m",Su).call(this))}static createThreadAssistantStream(e,n,r){const i=new Wi;return i._run(()=>i._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(e,n,r,i){const s=new Wi;return s._run(()=>s._runAssistantStream(e,n,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}currentEvent(){return Ct(this,Ff,"f")}currentRun(){return Ct(this,Nf,"f")}currentMessageSnapshot(){return Ct(this,Ui,"f")}currentRunStepSnapshot(){return Ct(this,Ou,"f")}async finalRunSteps(){return await this.done(),Object.values(Ct(this,as,"f"))}async finalMessages(){return await this.done(),Object.values(Ct(this,Pf,"f"))}async finalRun(){if(await this.done(),!Ct(this,_a,"f"))throw Error("Final run was not received.");return Ct(this,_a,"f")}async _createThreadAssistantStream(e,n,r){var l;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s={...n,stream:!0},o=await e.createAndRun(s,{...r,signal:this.controller.signal});this._connected();for await(const u of o)Ct(this,xr,"m",_u).call(this,u);if((l=o.controller.signal)!=null&&l.aborted)throw new Ti;return this._addRun(Ct(this,xr,"m",Su).call(this))}async _createAssistantStream(e,n,r,i){var u;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},l=await e.create(n,o,{...i,signal:this.controller.signal});this._connected();for await(const h of l)Ct(this,xr,"m",_u).call(this,h);if((u=l.controller.signal)!=null&&u.aborted)throw new Ti;return this._addRun(Ct(this,xr,"m",Su).call(this))}static accumulateDelta(e,n){for(const[r,i]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=i;continue}let s=e[r];if(s==null){e[r]=i;continue}if(r==="index"||r==="type"){e[r]=i;continue}if(typeof s=="string"&&typeof i=="string")s+=i;else if(typeof s=="number"&&typeof i=="number")s+=i;else if(hx(s)&&hx(i))s=this.accumulateDelta(s,i);else if(Array.isArray(s)&&Array.isArray(i)){if(s.every(o=>typeof o=="string"||typeof o=="number")){s.push(...i);continue}for(const o of i){if(!hx(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const l=o.index;if(l==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof l!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${l}`);const u=s[l];u==null?s.push(o):s[l]=this.accumulateDelta(u,o)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${i}, accValue: ${s}`);e[r]=s}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,i){return await this._createAssistantStream(n,e,r,i)}async _runToolAssistantStream(e,n,r,i,s){return await this._createToolAssistantStream(r,e,n,i,s)}}_u=function(e){if(!this.ended)switch(li(this,Ff,e,"f"),Ct(this,xr,"m",tk).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":Ct(this,xr,"m",sk).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Ct(this,xr,"m",ek).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":Ct(this,xr,"m",QS).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Su=function(){if(this.ended)throw new Ot("stream has ended, this shouldn't happen");if(!Ct(this,_a,"f"))throw Error("Final run has not been received");return Ct(this,_a,"f")},QS=function(e){const[n,r]=Ct(this,xr,"m",rk).call(this,e,Ct(this,Ui,"f"));li(this,Ui,n,"f"),Ct(this,Pf,"f")[n.id]=n;for(const i of r){const s=n.content[i.index];(s==null?void 0:s.type)=="text"&&this._emit("textCreated",s.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const i of e.data.delta.content){if(i.type=="text"&&i.text){let s=i.text,o=n.content[i.index];if(o&&o.type=="text")this._emit("textDelta",s,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=Ct(this,Ml,"f")){if(Ct(this,ga,"f"))switch(Ct(this,ga,"f").type){case"text":this._emit("textDone",Ct(this,ga,"f").text,Ct(this,Ui,"f"));break;case"image_file":this._emit("imageFileDone",Ct(this,ga,"f").image_file,Ct(this,Ui,"f"));break}li(this,Ml,i.index,"f")}li(this,ga,n.content[i.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(Ct(this,Ml,"f")!==void 0){const i=e.data.content[Ct(this,Ml,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,Ct(this,Ui,"f"));break;case"text":this._emit("textDone",i.text,Ct(this,Ui,"f"));break}}Ct(this,Ui,"f")&&this._emit("messageDone",e.data),li(this,Ui,void 0,"f")}},ek=function(e){const n=Ct(this,xr,"m",nk).call(this,e);switch(li(this,Ou,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const s of r.step_details.tool_calls)s.index==Ct(this,yp,"f")?this._emit("toolCallDelta",s,n.step_details.tool_calls[s.index]):(Ct(this,ui,"f")&&this._emit("toolCallDone",Ct(this,ui,"f")),li(this,yp,s.index,"f"),li(this,ui,n.step_details.tool_calls[s.index],"f"),Ct(this,ui,"f")&&this._emit("toolCallCreated",Ct(this,ui,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":li(this,Ou,void 0,"f"),e.data.step_details.type=="tool_calls"&&Ct(this,ui,"f")&&(this._emit("toolCallDone",Ct(this,ui,"f")),li(this,ui,void 0,"f")),this._emit("runStepDone",e.data,n);break}},tk=function(e){Ct(this,Ov,"f").push(e),this._emit("event",e)},nk=function(e){switch(e.event){case"thread.run.step.created":return Ct(this,as,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=Ct(this,as,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const i=Wi.accumulateDelta(n,r.delta);Ct(this,as,"f")[e.data.id]=i}return Ct(this,as,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":Ct(this,as,"f")[e.data.id]=e.data;break}if(Ct(this,as,"f")[e.data.id])return Ct(this,as,"f")[e.data.id];throw new Error("No snapshot available")},rk=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=e.data;if(i.delta.content)for(const s of i.delta.content)if(s.index in n.content){let o=n.content[s.index];n.content[s.index]=Ct(this,xr,"m",ik).call(this,s,o)}else n.content[s.index]=s,r.push(s);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},ik=function(e,n){return Wi.accumulateDelta(n,e)},sk=function(e){switch(li(this,Nf,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":li(this,_a,e.data,"f"),Ct(this,ui,"f")&&(this._emit("toolCallDone",Ct(this,ui,"f")),li(this,ui,void 0,"f"));break}};class yb extends zt{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/assistants/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return Un(e)?this.list({},e):this._client.getAPIList("/assistants",vb,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class vb extends lr{}yb.AssistantsPage=vb;function ok(t){return typeof t.parse=="function"}const Ql=t=>(t==null?void 0:t.role)==="assistant",M3=t=>(t==null?void 0:t.role)==="function",O3=t=>(t==null?void 0:t.role)==="tool";function wb(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function Wd(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function p9(t,e){return!e||!$3(e)?{...t,choices:t.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:bb(t,e)}function bb(t,e){const n=t.choices.map(r=>{var i;if(r.finish_reason==="length")throw new b3;if(r.finish_reason==="content_filter")throw new _3;return{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((i=r.message.tool_calls)==null?void 0:i.map(s=>g9(e,s)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?m9(e,r.message.content):null}}});return{...t,choices:n}}function m9(t,e){var n,r;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=t.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function g9(t,e){var r;const n=(r=t.tools)==null?void 0:r.find(i=>{var s;return((s=i.function)==null?void 0:s.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:Wd(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function x9(t,e){var r;if(!t)return!1;const n=(r=t.tools)==null?void 0:r.find(i=>{var s;return((s=i.function)==null?void 0:s.name)===e.function.name});return Wd(n)||(n==null?void 0:n.function.strict)||!1}function $3(t){var e;return wb(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>Wd(n)||n.type==="function"&&n.function.strict===!0))??!1}function y9(t){for(const e of t??[]){if(e.type!=="function")throw new Ot(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new Ot(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Xr=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},kr,$v,vp,Uv,zv,qv,U3,Vv;const ak=10;class z3 extends xb{constructor(){super(...arguments),kr.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(M3(e)||O3(e))&&e.content)this._emit("functionCallResult",e.content);else if(Ql(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(Ql(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Ot("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Xr(this,kr,"m",$v).call(this)}async finalMessage(){return await this.done(),Xr(this,kr,"m",vp).call(this)}async finalFunctionCall(){return await this.done(),Xr(this,kr,"m",Uv).call(this)}async finalFunctionCallResult(){return await this.done(),Xr(this,kr,"m",zv).call(this)}async totalUsage(){return await this.done(),Xr(this,kr,"m",qv).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=Xr(this,kr,"m",vp).call(this);n&&this._emit("finalMessage",n);const r=Xr(this,kr,"m",$v).call(this);r&&this._emit("finalContent",r);const i=Xr(this,kr,"m",Uv).call(this);i&&this._emit("finalFunctionCall",i);const s=Xr(this,kr,"m",zv).call(this);s!=null&&this._emit("finalFunctionCallResult",s),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",Xr(this,kr,"m",qv).call(this))}async _createChatCompletion(e,n,r){const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),Xr(this,kr,"m",U3).call(this,n);const s=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(bb(s,n))}async _runChatCompletion(e,n,r){for(const i of n.messages)this._addMessage(i,!1);return await this._createChatCompletion(e,n,r)}async _runFunctions(e,n,r){var g;const i="function",{function_call:s="auto",stream:o,...l}=n,u=typeof s!="string"&&(s==null?void 0:s.name),{maxChatCompletions:h=ak}=r||{},f={};for(const y of n.functions)f[y.name||y.function.name]=y;const p=n.functions.map(y=>({name:y.name||y.function.name,parameters:y.parameters,description:y.description}));for(const y of n.messages)this._addMessage(y,!1);for(let y=0;y<h;++y){const w=(g=(await this._createChatCompletion(e,{...l,function_call:s,functions:p,messages:[...this.messages]},r)).choices[0])==null?void 0:g.message;if(!w)throw new Ot("missing message in ChatCompletion response");if(!w.function_call)return;const{name:b,arguments:k}=w.function_call,x=f[b];if(x){if(u&&u!==b){const j=`Invalid function_call: ${JSON.stringify(b)}. ${JSON.stringify(u)} requested. Please try again`;this._addMessage({role:i,name:b,content:j});continue}}else{const j=`Invalid function_call: ${JSON.stringify(b)}. Available options are: ${p.map(R=>JSON.stringify(R.name)).join(", ")}. Please try again`;this._addMessage({role:i,name:b,content:j});continue}let v;try{v=ok(x)?await x.parse(k):k}catch(j){this._addMessage({role:i,name:b,content:j instanceof Error?j.message:String(j)});continue}const C=await x.function(v,this),F=Xr(this,kr,"m",Vv).call(this,C);if(this._addMessage({role:i,name:b,content:F}),u)return}}async _runTools(e,n,r){var y,_,w;const i="tool",{tool_choice:s="auto",stream:o,...l}=n,u=typeof s!="string"&&((y=s==null?void 0:s.function)==null?void 0:y.name),{maxChatCompletions:h=ak}=r||{},f=n.tools.map(b=>{if(Wd(b)){if(!b.$callback)throw new Ot("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:b.$callback,name:b.function.name,description:b.function.description||"",parameters:b.function.parameters,parse:b.$parseRaw,strict:!0}}}return b}),p={};for(const b of f)b.type==="function"&&(p[b.function.name||b.function.function.name]=b.function);const g="tools"in n?f.map(b=>b.type==="function"?{type:"function",function:{name:b.function.name||b.function.function.name,parameters:b.function.parameters,description:b.function.description,strict:b.function.strict}}:b):void 0;for(const b of n.messages)this._addMessage(b,!1);for(let b=0;b<h;++b){const x=(_=(await this._createChatCompletion(e,{...l,tool_choice:s,tools:g,messages:[...this.messages]},r)).choices[0])==null?void 0:_.message;if(!x)throw new Ot("missing message in ChatCompletion response");if(!((w=x.tool_calls)!=null&&w.length))return;for(const v of x.tool_calls){if(v.type!=="function")continue;const C=v.id,{name:F,arguments:j}=v.function,R=p[F];if(R){if(u&&u!==F){const X=`Invalid tool_call: ${JSON.stringify(F)}. ${JSON.stringify(u)} requested. Please try again`;this._addMessage({role:i,tool_call_id:C,content:X});continue}}else{const X=`Invalid tool_call: ${JSON.stringify(F)}. Available options are: ${Object.keys(p).map(te=>JSON.stringify(te)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:C,content:X});continue}let z;try{z=ok(R)?await R.parse(j):j}catch(X){const te=X instanceof Error?X.message:String(X);this._addMessage({role:i,tool_call_id:C,content:te});continue}const Q=await R.function(z,this),$=Xr(this,kr,"m",Vv).call(this,Q);if(this._addMessage({role:i,tool_call_id:C,content:$}),u)return}}}}kr=new WeakSet,$v=function(){return Xr(this,kr,"m",vp).call(this).content??null},vp=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Ql(n)){const{function_call:r,...i}=n,s={...i,content:n.content??null,refusal:n.refusal??null};return r&&(s.function_call=r),s}}throw new Ot("stream ended without producing a ChatCompletionMessage with role=assistant")},Uv=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const i=this.messages[r];if(Ql(i)&&(i!=null&&i.function_call))return i.function_call;if(Ql(i)&&((e=i==null?void 0:i.tool_calls)!=null&&e.length))return(n=i.tool_calls.at(-1))==null?void 0:n.function}},zv=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(M3(n)&&n.content!=null||O3(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var i;return r.role==="assistant"&&((i=r.tool_calls)==null?void 0:i.some(s=>s.type==="function"&&s.id===n.tool_call_id))}))return n.content}},qv=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},U3=function(e){if(e.n!=null&&e.n>1)throw new Ot("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Vv=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class md extends z3{static runFunctions(e,n,r){const i=new md,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(e,n,s)),i}static runTools(e,n,r){const i=new md,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}_addMessage(e,n=!0){super._addMessage(e,n),Ql(e)&&e.content&&this._emit("content",e.content)}}const q3=1,V3=2,H3=4,W3=8,K3=16,G3=32,Z3=64,Y3=128,X3=256,J3=Y3|X3,Q3=K3|G3|J3|Z3,e8=q3|V3|Q3,t8=H3|W3,v9=e8|t8,ur={STR:q3,NUM:V3,ARR:H3,OBJ:W3,NULL:K3,BOOL:G3,NAN:Z3,INFINITY:Y3,MINUS_INFINITY:X3,INF:J3,SPECIAL:Q3,ATOM:e8,COLLECTION:t8,ALL:v9};class w9 extends Error{}class b9 extends Error{}function _9(t,e=ur.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return S9(t.trim(),e)}const S9=(t,e)=>{const n=t.length;let r=0;const i=g=>{throw new w9(`${g} at position ${r}`)},s=g=>{throw new b9(`${g} at position ${r}`)},o=()=>(p(),r>=n&&i("Unexpected end of input"),t[r]==='"'?l():t[r]==="{"?u():t[r]==="["?h():t.substring(r,r+4)==="null"||ur.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||ur.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||ur.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||ur.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||ur.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||ur.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):f()),l=()=>{const g=r;let y=!1;for(r++;r<n&&(t[r]!=='"'||y&&t[r-1]==="\\");)y=t[r]==="\\"?!y:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(g,++r-Number(y)))}catch(_){s(String(_))}else if(ur.STR&e)try{return JSON.parse(t.substring(g,r-Number(y))+'"')}catch{return JSON.parse(t.substring(g,t.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},u=()=>{r++,p();const g={};try{for(;t[r]!=="}";){if(p(),r>=n&&ur.OBJ&e)return g;const y=l();p(),r++;try{const _=o();Object.defineProperty(g,y,{value:_,writable:!0,enumerable:!0,configurable:!0})}catch(_){if(ur.OBJ&e)return g;throw _}p(),t[r]===","&&r++}}catch{if(ur.OBJ&e)return g;i("Expected '}' at end of object")}return r++,g},h=()=>{r++;const g=[];try{for(;t[r]!=="]";)g.push(o()),p(),t[r]===","&&r++}catch{if(ur.ARR&e)return g;i("Expected ']' at end of array")}return r++,g},f=()=>{if(r===0){t==="-"&&ur.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t)}catch(y){if(ur.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}s(String(y))}}const g=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(ur.NUM&e)&&i("Unterminated number literal");try{return JSON.parse(t.substring(g,r))}catch{t.substring(g,r)==="-"&&ur.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t.substring(g,t.lastIndexOf("e")))}catch(_){s(String(_))}}},p=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return o()},lk=t=>_9(t,ur.ALL^ur.NUM);var xl=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},bn=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},tr,js,yl,ro,fx,tf,px,mx,gx,nf,xx,ck;class gd extends z3{constructor(e){super(),tr.add(this),js.set(this,void 0),yl.set(this,void 0),ro.set(this,void 0),xl(this,js,e,"f"),xl(this,yl,[],"f")}get currentChatCompletionSnapshot(){return bn(this,ro,"f")}static fromReadableStream(e){const n=new gd(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const i=new gd(n);return i._run(()=>i._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(e,n,r){var o;super._createChatCompletion;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),bn(this,tr,"m",fx).call(this);const s=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const l of s)bn(this,tr,"m",px).call(this,l);if((o=s.controller.signal)!=null&&o.aborted)throw new Ti;return this._addChatCompletion(bn(this,tr,"m",nf).call(this))}async _fromReadableStream(e,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),bn(this,tr,"m",fx).call(this),this._connected();const i=us.fromReadableStream(e,this.controller);let s;for await(const l of i)s&&s!==l.id&&this._addChatCompletion(bn(this,tr,"m",nf).call(this)),bn(this,tr,"m",px).call(this,l),s=l.id;if((o=i.controller.signal)!=null&&o.aborted)throw new Ti;return this._addChatCompletion(bn(this,tr,"m",nf).call(this))}[(js=new WeakMap,yl=new WeakMap,ro=new WeakMap,tr=new WeakSet,fx=function(){this.ended||xl(this,ro,void 0,"f")},tf=function(n){let r=bn(this,yl,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},bn(this,yl,"f")[n.index]=r,r)},px=function(n){var i,s,o,l,u,h,f,p,g,y,_,w,b,k,x;if(this.ended)return;const r=bn(this,tr,"m",ck).call(this,n);this._emit("chunk",n,r);for(const v of n.choices){const C=r.choices[v.index];v.delta.content!=null&&((i=C.message)==null?void 0:i.role)==="assistant"&&((s=C.message)!=null&&s.content)&&(this._emit("content",v.delta.content,C.message.content),this._emit("content.delta",{delta:v.delta.content,snapshot:C.message.content,parsed:C.message.parsed})),v.delta.refusal!=null&&((o=C.message)==null?void 0:o.role)==="assistant"&&((l=C.message)!=null&&l.refusal)&&this._emit("refusal.delta",{delta:v.delta.refusal,snapshot:C.message.refusal}),((u=v.logprobs)==null?void 0:u.content)!=null&&((h=C.message)==null?void 0:h.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(f=v.logprobs)==null?void 0:f.content,snapshot:((p=C.logprobs)==null?void 0:p.content)??[]}),((g=v.logprobs)==null?void 0:g.refusal)!=null&&((y=C.message)==null?void 0:y.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(_=v.logprobs)==null?void 0:_.refusal,snapshot:((w=C.logprobs)==null?void 0:w.refusal)??[]});const F=bn(this,tr,"m",tf).call(this,C);C.finish_reason&&(bn(this,tr,"m",gx).call(this,C),F.current_tool_call_index!=null&&bn(this,tr,"m",mx).call(this,C,F.current_tool_call_index));for(const j of v.delta.tool_calls??[])F.current_tool_call_index!==j.index&&(bn(this,tr,"m",gx).call(this,C),F.current_tool_call_index!=null&&bn(this,tr,"m",mx).call(this,C,F.current_tool_call_index)),F.current_tool_call_index=j.index;for(const j of v.delta.tool_calls??[]){const R=(b=C.message.tool_calls)==null?void 0:b[j.index];R!=null&&R.type&&((R==null?void 0:R.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(k=R.function)==null?void 0:k.name,index:j.index,arguments:R.function.arguments,parsed_arguments:R.function.parsed_arguments,arguments_delta:((x=j.function)==null?void 0:x.arguments)??""}):(R==null||R.type,void 0))}}},mx=function(n,r){var o,l,u;if(bn(this,tr,"m",tf).call(this,n).done_tool_calls.has(r))return;const s=(o=n.message.tool_calls)==null?void 0:o[r];if(!s)throw new Error("no tool call snapshot");if(!s.type)throw new Error("tool call snapshot missing `type`");if(s.type==="function"){const h=(u=(l=bn(this,js,"f"))==null?void 0:l.tools)==null?void 0:u.find(f=>f.type==="function"&&f.function.name===s.function.name);this._emit("tool_calls.function.arguments.done",{name:s.function.name,index:r,arguments:s.function.arguments,parsed_arguments:Wd(h)?h.$parseRaw(s.function.arguments):h!=null&&h.function.strict?JSON.parse(s.function.arguments):null})}else s.type},gx=function(n){var i,s;const r=bn(this,tr,"m",tf).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const o=bn(this,tr,"m",xx).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(i=n.logprobs)!=null&&i.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(s=n.logprobs)!=null&&s.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},nf=function(){if(this.ended)throw new Ot("stream has ended, this shouldn't happen");const n=bn(this,ro,"f");if(!n)throw new Ot("request ended without sending any chunks");return xl(this,ro,void 0,"f"),xl(this,yl,[],"f"),k9(n,bn(this,js,"f"))},xx=function(){var r;const n=(r=bn(this,js,"f"))==null?void 0:r.response_format;return wb(n)?n:null},ck=function(n){var r,i,s,o;let l=bn(this,ro,"f");const{choices:u,...h}=n;l?Object.assign(l,h):l=xl(this,ro,{...h,choices:[]},"f");for(const{delta:f,finish_reason:p,index:g,logprobs:y=null,..._}of n.choices){let w=l.choices[g];if(w||(w=l.choices[g]={finish_reason:p,index:g,message:{},logprobs:y,..._}),y)if(!w.logprobs)w.logprobs=Object.assign({},y);else{const{content:j,refusal:R,...z}=y;Object.assign(w.logprobs,z),j&&((r=w.logprobs).content??(r.content=[]),w.logprobs.content.push(...j)),R&&((i=w.logprobs).refusal??(i.refusal=[]),w.logprobs.refusal.push(...R))}if(p&&(w.finish_reason=p,bn(this,js,"f")&&$3(bn(this,js,"f")))){if(p==="length")throw new b3;if(p==="content_filter")throw new _3}if(Object.assign(w,_),!f)continue;const{content:b,refusal:k,function_call:x,role:v,tool_calls:C,...F}=f;if(Object.assign(w.message,F),k&&(w.message.refusal=(w.message.refusal||"")+k),v&&(w.message.role=v),x&&(w.message.function_call?(x.name&&(w.message.function_call.name=x.name),x.arguments&&((s=w.message.function_call).arguments??(s.arguments=""),w.message.function_call.arguments+=x.arguments)):w.message.function_call=x),b&&(w.message.content=(w.message.content||"")+b,!w.message.refusal&&bn(this,tr,"m",xx).call(this)&&(w.message.parsed=lk(w.message.content))),C){w.message.tool_calls||(w.message.tool_calls=[]);for(const{index:j,id:R,type:z,function:Q,...$}of C){const X=(o=w.message.tool_calls)[j]??(o[j]={});Object.assign(X,$),R&&(X.id=R),z&&(X.type=z),Q&&(X.function??(X.function={name:Q.name??"",arguments:""})),Q!=null&&Q.name&&(X.function.name=Q.name),Q!=null&&Q.arguments&&(X.function.arguments+=Q.arguments,x9(bn(this,js,"f"),X)&&(X.function.parsed_arguments=lk(X.function.arguments)))}}}return l},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new us(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function k9(t,e){const{id:n,choices:r,created:i,model:s,system_fingerprint:o,...l}=t,u={...l,id:n,choices:r.map(({message:h,finish_reason:f,index:p,logprobs:g,...y})=>{if(!f)throw new Ot(`missing finish_reason for choice ${p}`);const{content:_=null,function_call:w,tool_calls:b,...k}=h,x=h.role;if(!x)throw new Ot(`missing role for choice ${p}`);if(w){const{arguments:v,name:C}=w;if(v==null)throw new Ot(`missing function_call.arguments for choice ${p}`);if(!C)throw new Ot(`missing function_call.name for choice ${p}`);return{...y,message:{content:_,function_call:{arguments:v,name:C},role:x,refusal:h.refusal??null},finish_reason:f,index:p,logprobs:g}}return b?{...y,index:p,finish_reason:f,logprobs:g,message:{...k,role:x,content:_,refusal:h.refusal??null,tool_calls:b.map((v,C)=>{const{function:F,type:j,id:R,...z}=v,{arguments:Q,name:$,...X}=F||{};if(R==null)throw new Ot(`missing choices[${p}].tool_calls[${C}].id
${rf(t)}`);if(j==null)throw new Ot(`missing choices[${p}].tool_calls[${C}].type
${rf(t)}`);if($==null)throw new Ot(`missing choices[${p}].tool_calls[${C}].function.name
${rf(t)}`);if(Q==null)throw new Ot(`missing choices[${p}].tool_calls[${C}].function.arguments
${rf(t)}`);return{...z,id:R,type:j,function:{...X,name:$,arguments:Q}}})}}:{...y,message:{...k,content:_,role:x,refusal:h.refusal??null},finish_reason:f,index:p,logprobs:g}}),created:i,model:s,object:"chat.completion",...o?{system_fingerprint:o}:{}};return p9(u,e)}function rf(t){return JSON.stringify(t)}class ec extends gd{static fromReadableStream(e){const n=new ec(null);return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,r){const i=new ec(null),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(e,n,s)),i}static runTools(e,n,r){const i=new ec(n),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}}let n8=class extends zt{parse(e,n){return y9(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>bb(r,e))}runFunctions(e,n){return e.stream?ec.runFunctions(this._client,e,n):md.runFunctions(this._client,e,n)}runTools(e,n){return e.stream?ec.runTools(this._client,e,n):md.runTools(this._client,e,n)}stream(e,n){return gd.createChatCompletion(this._client,e,n)}};class Hv extends zt{constructor(){super(...arguments),this.completions=new n8(this._client)}}(function(t){t.Completions=n8})(Hv||(Hv={}));class r8 extends zt{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class i8 extends zt{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Lm extends zt{constructor(){super(...arguments),this.sessions=new r8(this._client),this.transcriptionSessions=new i8(this._client)}}Lm.Sessions=r8;Lm.TranscriptionSessions=i8;class _b extends zt{create(e,n,r){return this._client.post(`/threads/${e}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,i){return this._client.post(`/threads/${e}/messages/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n={},r){return Un(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,Sb,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Sb extends lr{}_b.MessagesPage=Sb;class kb extends zt{retrieve(e,n,r,i={},s){return Un(i)?this.retrieve(e,n,r,{},i):this._client.get(`/threads/${e}/runs/${n}/steps/${r}`,{query:i,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n,r={},i){return Un(r)?this.list(e,n,{},r):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,Eb,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}}class Eb extends lr{}kb.RunStepsPage=Eb;let Kd=class extends zt{constructor(){super(...arguments),this.steps=new kb(this._client)}create(e,n,r){const{include:i,...s}=n;return this._client.post(`/threads/${e}/runs`,{query:{include:i},body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(e,n,r){return this._client.get(`/threads/${e}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,i){return this._client.post(`/threads/${e}/runs/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n={},r){return Un(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,Ab,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}createAndStream(e,n,r){return Wi.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:o}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...i}}).withResponse();switch(s.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=o.headers.get("openai-poll-after-ms");if(u){const h=parseInt(u);isNaN(h)||(l=h)}}await Vd(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return s}}}stream(e,n,r){return Wi.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r,i){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(e,n,r,i){const s=await this.submitToolOutputs(e,n,r,i);return await this.poll(e,s.id,i)}submitToolOutputsStream(e,n,r,i){return Wi.createToolAssistantStream(e,n,this._client.beta.threads.runs,r,i)}};class Ab extends lr{}Kd.RunsPage=Ab;Kd.Steps=kb;Kd.RunStepsPage=Eb;class Nc extends zt{constructor(){super(...arguments),this.runs=new Kd(this._client),this.messages=new _b(this._client)}create(e={},n){return Un(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/threads/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(e,n){return Wi.createThreadAssistantStream(e,this._client.beta.threads,n)}}Nc.Runs=Kd;Nc.RunsPage=Ab;Nc.Messages=_b;Nc.MessagesPage=Sb;class Rc extends zt{constructor(){super(...arguments),this.realtime=new Lm(this._client),this.chat=new Hv(this._client),this.assistants=new yb(this._client),this.threads=new Nc(this._client)}}Rc.Realtime=Lm;Rc.Assistants=yb;Rc.AssistantsPage=vb;Rc.Threads=Nc;class s8 extends zt{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class o8 extends zt{retrieve(e,n,r){return this._client.get(`/containers/${e}/files/${n}/content`,{...r,headers:{Accept:"application/binary",...r==null?void 0:r.headers},__binaryResponse:!0})}}let Mm=class extends zt{constructor(){super(...arguments),this.content=new o8(this._client)}create(e,n,r){return this._client.post(`/containers/${e}/files`,$a({body:n,...r}))}retrieve(e,n,r){return this._client.get(`/containers/${e}/files/${n}`,r)}list(e,n={},r){return Un(n)?this.list(e,{},n):this._client.getAPIList(`/containers/${e}/files`,Cb,{query:n,...r})}del(e,n,r){return this._client.delete(`/containers/${e}/files/${n}`,{...r,headers:{Accept:"*/*",...r==null?void 0:r.headers}})}};class Cb extends lr{}Mm.FileListResponsesPage=Cb;Mm.Content=o8;class Gd extends zt{constructor(){super(...arguments),this.files=new Mm(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get(`/containers/${e}`,n)}list(e={},n){return Un(e)?this.list({},e):this._client.getAPIList("/containers",jb,{query:e,...n})}del(e,n){return this._client.delete(`/containers/${e}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}}class jb extends lr{}Gd.ContainerListResponsesPage=jb;Gd.Files=Mm;Gd.FileListResponsesPage=Cb;class a8 extends zt{create(e,n){const r=!!e.encoding_format;let i=r?e.encoding_format:"base64";r&&Fo("Request","User defined encoding_format:",e.encoding_format);const s=this._client.post("/embeddings",{body:{...e,encoding_format:i},...n});return r?s:(Fo("response","Decoding base64 embeddings to float32 array"),s._thenUnwrap(o=>(o&&o.data&&o.data.forEach(l=>{const u=l.embedding;l.embedding=h9(u)}),o)))}}class Tb extends zt{retrieve(e,n,r,i){return this._client.get(`/evals/${e}/runs/${n}/output_items/${r}`,i)}list(e,n,r={},i){return Un(r)?this.list(e,n,{},r):this._client.getAPIList(`/evals/${e}/runs/${n}/output_items`,Pb,{query:r,...i})}}class Pb extends lr{}Tb.OutputItemListResponsesPage=Pb;class Zd extends zt{constructor(){super(...arguments),this.outputItems=new Tb(this._client)}create(e,n,r){return this._client.post(`/evals/${e}/runs`,{body:n,...r})}retrieve(e,n,r){return this._client.get(`/evals/${e}/runs/${n}`,r)}list(e,n={},r){return Un(n)?this.list(e,{},n):this._client.getAPIList(`/evals/${e}/runs`,Fb,{query:n,...r})}del(e,n,r){return this._client.delete(`/evals/${e}/runs/${n}`,r)}cancel(e,n,r){return this._client.post(`/evals/${e}/runs/${n}`,r)}}class Fb extends lr{}Zd.RunListResponsesPage=Fb;Zd.OutputItems=Tb;Zd.OutputItemListResponsesPage=Pb;class Yd extends zt{constructor(){super(...arguments),this.runs=new Zd(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(`/evals/${e}`,n)}update(e,n,r){return this._client.post(`/evals/${e}`,{body:n,...r})}list(e={},n){return Un(e)?this.list({},e):this._client.getAPIList("/evals",Nb,{query:e,...n})}del(e,n){return this._client.delete(`/evals/${e}`,n)}}class Nb extends lr{}Yd.EvalListResponsesPage=Nb;Yd.Runs=Zd;Yd.RunListResponsesPage=Fb;let Rb=class extends zt{create(e,n){return this._client.post("/files",$a({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return Un(e)?this.list({},e):this._client.getAPIList("/files",Bb,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,n)}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const i=new Set(["processed","error","deleted"]),s=Date.now();let o=await this.retrieve(e);for(;!o.status||!i.has(o.status);)if(await Vd(n),o=await this.retrieve(e),Date.now()-s>r)throw new pb({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return o}};class Bb extends lr{}Rb.FileObjectsPage=Bb;class l8 extends zt{}let c8=class extends zt{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class Db extends zt{constructor(){super(...arguments),this.graders=new c8(this._client)}}Db.Graders=c8;class Ib extends zt{create(e,n,r){return this._client.getAPIList(`/fine_tuning/checkpoints/${e}/permissions`,Lb,{body:n,method:"post",...r})}retrieve(e,n={},r){return Un(n)?this.retrieve(e,{},n):this._client.get(`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...r})}del(e,n,r){return this._client.delete(`/fine_tuning/checkpoints/${e}/permissions/${n}`,r)}}class Lb extends Rm{}Ib.PermissionCreateResponsesPage=Lb;let Om=class extends zt{constructor(){super(...arguments),this.permissions=new Ib(this._client)}};Om.Permissions=Ib;Om.PermissionCreateResponsesPage=Lb;class Mb extends zt{list(e,n={},r){return Un(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,Ob,{query:n,...r})}}class Ob extends lr{}Mb.FineTuningJobCheckpointsPage=Ob;class Bc extends zt{constructor(){super(...arguments),this.checkpoints=new Mb(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return Un(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",$b,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return Un(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,Ub,{query:n,...r})}pause(e,n){return this._client.post(`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(`/fine_tuning/jobs/${e}/resume`,n)}}class $b extends lr{}class Ub extends lr{}Bc.FineTuningJobsPage=$b;Bc.FineTuningJobEventsPage=Ub;Bc.Checkpoints=Mb;Bc.FineTuningJobCheckpointsPage=Ob;class Zo extends zt{constructor(){super(...arguments),this.methods=new l8(this._client),this.jobs=new Bc(this._client),this.checkpoints=new Om(this._client),this.alpha=new Db(this._client)}}Zo.Methods=l8;Zo.Jobs=Bc;Zo.FineTuningJobsPage=$b;Zo.FineTuningJobEventsPage=Ub;Zo.Checkpoints=Om;Zo.Alpha=Db;class u8 extends zt{}class zb extends zt{constructor(){super(...arguments),this.graderModels=new u8(this._client)}}zb.GraderModels=u8;class d8 extends zt{createVariation(e,n){return this._client.post("/images/variations",$a({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",$a({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}class qb extends zt{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",Vb,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}}class Vb extends Rm{}qb.ModelsPage=Vb;class h8 extends zt{create(e,n){return this._client.post("/moderations",{body:e,...n})}}function E9(t,e){return!e||!C9(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:f8(t,e)}function f8(t,e){const n=t.output.map(i=>{if(i.type==="function_call")return{...i,parsed_arguments:P9(e,i)};if(i.type==="message"){const s=i.content.map(o=>o.type==="output_text"?{...o,parsed:A9(e,o.text)}:o);return{...i,content:s}}return i}),r=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||p8(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const i of r.output)if(i.type==="message"){for(const s of i.content)if(s.type==="output_text"&&s.parsed!==null)return s.parsed}return null}}),r}function A9(t,e){var n,r,i,s;return((r=(n=t.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((i=t.text)==null?void 0:i.format)?((s=t.text)==null?void 0:s.format).$parseRaw(e):JSON.parse(e)}function C9(t){var e;return!!wb((e=t.text)==null?void 0:e.format)}function j9(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function T9(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function P9(t,e){const n=T9(t.tools??[],e.name);return{...e,...e,parsed_arguments:j9(n)?n.$parseRaw(e.arguments):n!=null&&n.strict?JSON.parse(e.arguments):null}}function p8(t){const e=[];for(const n of t.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&e.push(r.text);t.output_text=e.join("")}class m8 extends zt{list(e,n={},r){return Un(n)?this.list(e,{},n):this._client.getAPIList(`/responses/${e}/input_items`,N9,{query:n,...r})}}var vl=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},io=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},wl,sf,so,of,uk,dk,hk,fk;class Hb extends xb{constructor(e){super(),wl.add(this),sf.set(this,void 0),so.set(this,void 0),of.set(this,void 0),vl(this,sf,e,"f")}static createResponse(e,n,r){const i=new Hb(n);return i._run(()=>i._createOrRetrieveResponse(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createOrRetrieveResponse(e,n,r){var l;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),io(this,wl,"m",uk).call(this);let s,o=null;"response_id"in n?(s=await e.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),o=n.starting_after??null):s=await e.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const u of s)io(this,wl,"m",dk).call(this,u,o);if((l=s.controller.signal)!=null&&l.aborted)throw new Ti;return io(this,wl,"m",hk).call(this)}[(sf=new WeakMap,so=new WeakMap,of=new WeakMap,wl=new WeakSet,uk=function(){this.ended||vl(this,so,void 0,"f")},dk=function(n,r){if(this.ended)return;const i=(o,l)=>{(r==null||l.sequence_number>r)&&this._emit(o,l)},s=io(this,wl,"m",fk).call(this,n);switch(i("event",n),n.type){case"response.output_text.delta":{const o=s.output[n.output_index];if(!o)throw new Ot(`missing output at index ${n.output_index}`);if(o.type==="message"){const l=o.content[n.content_index];if(!l)throw new Ot(`missing content at index ${n.content_index}`);if(l.type!=="output_text")throw new Ot(`expected content to be 'output_text', got ${l.type}`);i("response.output_text.delta",{...n,snapshot:l.text})}break}case"response.function_call_arguments.delta":{const o=s.output[n.output_index];if(!o)throw new Ot(`missing output at index ${n.output_index}`);o.type==="function_call"&&i("response.function_call_arguments.delta",{...n,snapshot:o.arguments});break}default:i(n.type,n);break}},hk=function(){if(this.ended)throw new Ot("stream has ended, this shouldn't happen");const n=io(this,so,"f");if(!n)throw new Ot("request ended without sending any events");vl(this,so,void 0,"f");const r=F9(n,io(this,sf,"f"));return vl(this,of,r,"f"),r},fk=function(n){let r=io(this,so,"f");if(!r){if(n.type!=="response.created")throw new Ot(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=vl(this,so,n.response,"f"),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const i=r.output[n.output_index];if(!i)throw new Ot(`missing output at index ${n.output_index}`);i.type==="message"&&i.content.push(n.part);break}case"response.output_text.delta":{const i=r.output[n.output_index];if(!i)throw new Ot(`missing output at index ${n.output_index}`);if(i.type==="message"){const s=i.content[n.content_index];if(!s)throw new Ot(`missing content at index ${n.content_index}`);if(s.type!=="output_text")throw new Ot(`expected content to be 'output_text', got ${s.type}`);s.text+=n.delta}break}case"response.function_call_arguments.delta":{const i=r.output[n.output_index];if(!i)throw new Ot(`missing output at index ${n.output_index}`);i.type==="function_call"&&(i.arguments+=n.delta);break}case"response.completed":{vl(this,so,n.response,"f");break}}return r},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=io(this,of,"f");if(!e)throw new Ot("stream ended without producing a ChatCompletion");return e}}function F9(t,e){return E9(t,e)}class Wb extends zt{constructor(){super(...arguments),this.inputItems=new m8(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&p8(r),r))}retrieve(e,n={},r){return this._client.get(`/responses/${e}`,{query:n,...r,stream:(n==null?void 0:n.stream)??!1})}del(e,n){return this._client.delete(`/responses/${e}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(r=>f8(r,e))}stream(e,n){return Hb.createResponse(this._client,e,n)}cancel(e,n){return this._client.post(`/responses/${e}/cancel`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}}class N9 extends lr{}Wb.InputItems=m8;class g8 extends zt{create(e,n,r){return this._client.post(`/uploads/${e}/parts`,$a({body:n,...r}))}}class Kb extends zt{constructor(){super(...arguments),this.parts=new g8(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(`/uploads/${e}/complete`,{body:n,...r})}}Kb.Parts=g8;const R9=async t=>{const e=await Promise.allSettled(t),n=e.filter(i=>i.status==="rejected");if(n.length){for(const i of n)console.error(i.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const i of e)i.status==="fulfilled"&&r.push(i.value);return r};class $m extends zt{create(e,n,r){return this._client.post(`/vector_stores/${e}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,i){return this._client.post(`/vector_stores/${e}/files/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n={},r){return Un(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,Um,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const s=await this.retrieve(e,n,{...r,headers:i}).withResponse(),o=s.data;switch(o.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=s.response.headers.get("openai-poll-after-ms");if(u){const h=parseInt(u);isNaN(h)||(l=h)}}await Vd(l);break;case"failed":case"completed":return o}}}async upload(e,n,r){const i=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:i.id},r)}async uploadAndPoll(e,n,r){const i=await this.upload(e,n,r);return await this.poll(e,i.id,r)}content(e,n,r){return this._client.getAPIList(`/vector_stores/${e}/files/${n}/content`,Gb,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Um extends lr{}class Gb extends Rm{}$m.VectorStoreFilesPage=Um;$m.FileContentResponsesPage=Gb;class x8 extends zt{create(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n);return await this.poll(e,i.id,r)}listFiles(e,n,r={},i){return Un(r)?this.listFiles(e,n,{},r):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,Um,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:o}=await this.retrieve(e,n,{...r,headers:i}).withResponse();switch(s.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=o.headers.get("openai-poll-after-ms");if(u){const h=parseInt(u);isNaN(h)||(l=h)}}await Vd(l);break;case"failed":case"cancelled":case"completed":return s}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},i){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const s=(i==null?void 0:i.maxConcurrency)??5,o=Math.min(s,n.length),l=this._client,u=n.values(),h=[...r];async function f(g){for(let y of g){const _=await l.files.create({file:y,purpose:"assistants"},i);h.push(_.id)}}const p=Array(o).fill(u).map(f);return await R9(p),await this.createAndPoll(e,{file_ids:h})}}class Yo extends zt{constructor(){super(...arguments),this.files=new $m(this._client),this.fileBatches=new x8(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/vector_stores/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return Un(e)?this.list({},e):this._client.getAPIList("/vector_stores",Zb,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}search(e,n,r){return this._client.getAPIList(`/vector_stores/${e}/search`,Yb,{body:n,method:"post",...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Zb extends lr{}class Yb extends Rm{}Yo.VectorStoresPage=Zb;Yo.VectorStoreSearchResponsesPage=Yb;Yo.Files=$m;Yo.VectorStoreFilesPage=Um;Yo.FileContentResponsesPage=Gb;Yo.FileBatches=x8;var y8;class Zt extends e9{constructor({baseURL:e=Qh("OPENAI_BASE_URL"),apiKey:n=Qh("OPENAI_API_KEY"),organization:r=Qh("OPENAI_ORG_ID")??null,project:i=Qh("OPENAI_PROJECT_ID")??null,...s}={}){if(n===void 0)throw new Ot("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:r,project:i,...s,baseURL:e||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&u9())throw new Ot(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new s8(this),this.chat=new Im(this),this.embeddings=new a8(this),this.files=new Rb(this),this.images=new d8(this),this.audio=new Hd(this),this.moderations=new h8(this),this.models=new qb(this),this.fineTuning=new Zo(this),this.graders=new zb(this),this.vectorStores=new Yo(this),this.beta=new Rc(this),this.batches=new mb(this),this.uploads=new Kb(this),this.responses=new Wb(this),this.evals=new Yd(this),this.containers=new Gd(this),this._options=o,this.apiKey=n,this.organization=r,this.project=i}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return I7(e,{arrayFormat:"brackets"})}}y8=Zt;Zt.OpenAI=y8;Zt.DEFAULT_TIMEOUT=6e5;Zt.OpenAIError=Ot;Zt.APIError=wr;Zt.APIConnectionError=Tm;Zt.APIConnectionTimeoutError=pb;Zt.APIUserAbortError=Ti;Zt.NotFoundError=g3;Zt.ConflictError=x3;Zt.RateLimitError=v3;Zt.BadRequestError=f3;Zt.AuthenticationError=p3;Zt.InternalServerError=w3;Zt.PermissionDeniedError=m3;Zt.UnprocessableEntityError=y3;Zt.toFile=A3;Zt.fileFromPath=u3;Zt.Completions=s8;Zt.Chat=Im;Zt.ChatCompletionsPage=Dm;Zt.Embeddings=a8;Zt.Files=Rb;Zt.FileObjectsPage=Bb;Zt.Images=d8;Zt.Audio=Hd;Zt.Moderations=h8;Zt.Models=qb;Zt.ModelsPage=Vb;Zt.FineTuning=Zo;Zt.Graders=zb;Zt.VectorStores=Yo;Zt.VectorStoresPage=Zb;Zt.VectorStoreSearchResponsesPage=Yb;Zt.Beta=Rc;Zt.Batches=mb;Zt.BatchesPage=gb;Zt.Uploads=Kb;Zt.Responses=Wb;Zt.Evals=Yd;Zt.EvalListResponsesPage=Nb;Zt.Containers=Gd;Zt.ContainerListResponsesPage=jb;class B9{constructor(){this.client=null,this.isConfigured=!1,this.quotaExceeded=!1;const e="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";e.startsWith("sk-")?(this.client=new Zt({apiKey:e,dangerouslyAllowBrowser:!0}),this.isConfigured=!0,console.log("OpenAI Service initialized with API key")):(console.warn("OpenAI API key not configured - using mock responses"),this.isConfigured=!1)}isQuotaError(e){var n,r;return(e==null?void 0:e.status)===429||(e==null?void 0:e.code)==="insufficient_quota"||((n=e==null?void 0:e.message)==null?void 0:n.includes("quota"))||((r=e==null?void 0:e.message)==null?void 0:r.includes("429"))}async transcribeAudio(e){var n;if(!this.isConfigured||!this.client||this.quotaExceeded)return console.log("Using mock transcription - OpenAI not available"),this.getMockTranscription();try{console.log("Transcribing audio with OpenAI Whisper...");const r=await this.client.audio.transcriptions.create({file:e,model:"whisper-1",language:"en",response_format:"verbose_json",timestamp_granularities:["segment"]});return{text:r.text,language:r.language||"en",duration:r.duration||0,segments:(n=r.segments)==null?void 0:n.map(i=>({start:i.start,end:i.end,text:i.text}))}}catch(r){return this.isQuotaError(r)?(console.warn("OpenAI quota exceeded - switching to mock responses"),this.quotaExceeded=!0):console.error("OpenAI transcription failed:",r),console.log("Falling back to mock transcription"),this.getMockTranscription()}}async analyzeContent(e,n){var r,i;if(!this.isConfigured||!this.client||this.quotaExceeded)return console.log("Using mock analysis - OpenAI not available"),this.getMockAnalysis(e);try{console.log("Analyzing content with GPT-3.5-turbo...");const s=`
Analyze the following content for emergency/crisis response purposes. Provide a JSON response with:

1. summary: A concise 2-3 sentence summary
2. keyFacts: Array of 3-5 key factual points
3. eventTags: Array of relevant tags from: [protest, explosion, medical_emergency, displacement, aid_needed, natural_disaster, conflict, infrastructure_damage, humanitarian_crisis, government_action, civilian_impact, other]
4. sentiment: positive, negative, or neutral
5. urgencyLevel: 1-10 scale (10 = immediate life-threatening)
6. credibilityScore: 0-100 based on content quality and specificity
7. contextualFlags: Array of flags like [high_urgency, requires_attention, unverified_claims, etc.]

Content to analyze:
${e}

${n?`Additional context: ${n}`:""}

Respond with valid JSON only:`,l=(i=(r=(await this.client.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are an AI assistant specialized in emergency response and crisis analysis. Provide accurate, helpful analysis for emergency coordination."},{role:"user",content:s}],temperature:.3,max_tokens:1e3})).choices[0])==null?void 0:r.message)==null?void 0:i.content;if(!l)throw new Error("No response from OpenAI");try{const u=JSON.parse(l);return{summary:u.summary||"Content analysis completed.",keyFacts:Array.isArray(u.keyFacts)?u.keyFacts.slice(0,5):[],eventTags:Array.isArray(u.eventTags)?u.eventTags.slice(0,3):["other"],sentiment:["positive","negative","neutral"].includes(u.sentiment)?u.sentiment:"neutral",urgencyLevel:Math.max(1,Math.min(10,parseInt(u.urgencyLevel)||5)),credibilityScore:Math.max(0,Math.min(100,parseInt(u.credibilityScore)||70)),contextualFlags:Array.isArray(u.contextualFlags)?u.contextualFlags.slice(0,5):[]}}catch(u){return console.error("Failed to parse OpenAI response:",u),this.getMockAnalysis(e)}}catch(s){return this.isQuotaError(s)?(console.warn("OpenAI quota exceeded - switching to mock responses"),this.quotaExceeded=!0):console.error("OpenAI content analysis failed:",s),console.log("Falling back to mock analysis"),this.getMockAnalysis(e)}}async enhanceVoiceMessage(e,n="emergency_response"){var r,i,s;if(!this.isConfigured||!this.client||this.quotaExceeded)return console.log("Using mock enhancement - OpenAI not available"),this.getMockEnhancement(e);try{console.log("Enhancing voice message with GPT-3.5-turbo...");const o=`
Enhance this emergency voice message transcription for professional communication:

Original: "${e}"
Context: ${n}

Make it:
- Clear and professional
- Remove filler words (um, uh, etc.)
- Maintain original meaning
- Add appropriate emergency response formatting
- Keep it concise

Enhanced message:`;return((s=(i=(r=(await this.client.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are an AI assistant that helps enhance emergency communications for clarity and professionalism while preserving the original meaning."},{role:"user",content:o}],temperature:.2,max_tokens:200})).choices[0])==null?void 0:r.message)==null?void 0:i.content)==null?void 0:s.trim())||this.getMockEnhancement(e)}catch(o){return this.isQuotaError(o)?(console.warn("OpenAI quota exceeded - switching to mock responses"),this.quotaExceeded=!0):console.error("OpenAI voice enhancement failed:",o),this.getMockEnhancement(e)}}async moderateContent(e){if(!this.isConfigured||!this.client||this.quotaExceeded)return{flagged:!1,categories:[]};try{const r=(await this.client.moderations.create({input:e})).results[0],i=Object.entries(r.categories).filter(([s,o])=>o).map(([s,o])=>s);return{flagged:r.flagged,categories:i}}catch(n){return this.isQuotaError(n)?(console.warn("OpenAI quota exceeded - switching to mock responses"),this.quotaExceeded=!0):console.error("OpenAI moderation failed:",n),{flagged:!1,categories:[]}}}getMockTranscription(){const e=["Emergency services are responding to the incident. Multiple units have been dispatched to the location.","We have a medical emergency at the intersection. Paramedics are needed immediately.","Fire department is on scene. The situation is being contained and residents are being evacuated.","Police have secured the area. Traffic is being diverted while emergency crews work.","Search and rescue teams are coordinating the response. All available resources have been mobilized."],n=e[Math.floor(Math.random()*e.length)];return{text:n,language:"en",duration:15+Math.random()*30,segments:[{start:0,end:5,text:n.split(".")[0]},{start:5,end:10,text:n.split(".")[1]||""}]}}getMockAnalysis(e){const n=[],r=[],i=e.toLowerCase();(i.includes("fire")||i.includes("burn"))&&n.push("fire"),(i.includes("medical")||i.includes("injured"))&&n.push("medical_emergency"),(i.includes("flood")||i.includes("water"))&&n.push("natural_disaster"),(i.includes("accident")||i.includes("crash"))&&n.push("accident"),(i.includes("help")||i.includes("aid"))&&n.push("aid_needed");const s=e.split(".").filter(u=>u.trim().length>10);r.push(...s.slice(0,3).map(u=>u.trim()));const l=["emergency","urgent","critical","immediate","danger","help"].some(u=>i.includes(u))?Math.floor(Math.random()*3)+7:Math.floor(Math.random()*5)+3;return{summary:`Analysis of emergency content: ${e.substring(0,100)}${e.length>100?"...":""}`,keyFacts:r.length>0?r:["Emergency situation reported","Response coordination needed"],eventTags:n.length>0?n:["other"],sentiment:Math.random()>.7?"negative":Math.random()>.5?"neutral":"positive",urgencyLevel:l,credibilityScore:Math.floor(Math.random()*30)+70,contextualFlags:l>7?["high_urgency","requires_attention"]:[]}}getMockEnhancement(e){return`[EMERGENCY UPDATE] ${e.replace(/um|uh|er|like/gi,"").replace(/\s+/g," ").trim()} - Status: Active Response`}isServiceConfigured(){return this.isConfigured&&!this.quotaExceeded}getServiceInfo(){return{configured:this.isConfigured,quotaExceeded:this.quotaExceeded,hasApiKey:!0,keyPrefix:"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".substring(0,8)+"..."}}resetQuotaStatus(){this.quotaExceeded=!1}}const Pi=new B9,v8=Y.createContext(void 0),ys=()=>{const t=Y.useContext(v8);if(!t)throw new Error("useEmergency must be used within an EmergencyProvider");return t},D9=({children:t})=>{const{walletAddress:e}=xs(),[n,r]=Y.useState([]),[i,s]=Y.useState([]),[o,l]=Y.useState([]),[u,h]=Y.useState(null),[f,p]=Y.useState(!1),[g,y]=Y.useState(!sr()),[_,w]=Y.useState({isEnabled:!1,offlineQueue:[],lastSync:new Date,lowDataMode:!1,emergencyContacts:[]});Y.useEffect(()=>{if(!Rs.isServiceConfigured()){console.log("Pusher not configured - real-time updates disabled");return}console.log("Setting up real-time emergency subscriptions...");const he=Rs.subscribeToEmergencyUpdates("global",Ne=>{switch(console.log("Real-time emergency update:",Ne),Ne.type){case"new_report":b(),tt.success("New emergency report received");break;case"status_update":b();break;case"responder_assigned":k();break}}),Ee=Rs.subscribeToResponderUpdates("global",Ne=>{console.log("Real-time responder update:",Ne),k()});return()=>{he(),Ee()}},[]);const b=async()=>{var he,Ee;if(!sr()){console.log("Emergency reports - running in offline mode"),y(!0);return}p(!0);try{const{data:Ne,error:me}=await Jr.from("emergency_reports").select("*").order("created_at",{ascending:!1});if(me)throw me;const ge=Ne.map(fe=>({id:fe.id,type:fe.type,title:fe.title,description:fe.description,location:{lat:Number(fe.location_lat),lng:Number(fe.location_lng),address:fe.location_address||void 0},severity:fe.severity,status:fe.status,timestamp:new Date(fe.timestamp),reporterId:fe.reporter_id||void 0,isAnonymous:fe.is_anonymous,media:[],urgencyScore:fe.urgency_score,responders:[],chatThreadId:fe.chat_thread_id,proofHash:fe.proof_hash,ipfsHash:fe.ipfs_hash||void 0,algorandTxId:fe.algorand_tx_id||void 0,aiSuggestions:fe.ai_suggestions||void 0}));r(ge),y(!1)}catch(Ne){console.error("Error loading reports:",Ne),(he=Ne.message)!=null&&he.includes("Failed to fetch")||(Ee=Ne.message)!=null&&Ee.includes("404")?(y(!0),console.log("Emergency reports - switching to offline mode")):tt.error("Failed to load emergency reports")}finally{p(!1)}},k=async()=>{var he,Ee;if(!sr()){console.log("Responders - running in offline mode");return}try{const{data:Ne,error:me}=await Jr.from("responders").select("*").order("created_at",{ascending:!1});if(me)throw me;const ge=Ne.map(fe=>({id:fe.id,name:fe.name,role:fe.role,location:fe.location_lat&&fe.location_lng?{lat:Number(fe.location_lat),lng:Number(fe.location_lng)}:void 0,isAvailable:fe.is_available,skills:fe.skills,verificationCode:fe.verification_code,isVerified:fe.is_verified,contactInfo:{phone:fe.contact_phone||void 0,radio:fe.contact_radio||void 0}}));s(ge)}catch(Ne){console.error("Error loading responders:",Ne),!((he=Ne.message)!=null&&he.includes("Failed to fetch"))&&!((Ee=Ne.message)!=null&&Ee.includes("404"))&&tt.error("Failed to load responders")}},x=async()=>{var he,Ee;if(!sr()){console.log("Chat messages - running in offline mode");return}try{const{data:Ne,error:me}=await Jr.from("chat_messages").select("*").order("timestamp",{ascending:!0});if(me)throw me;const ge=Ne.map(fe=>({id:fe.id,threadId:fe.thread_id,senderId:fe.sender_id,senderName:fe.sender_name,senderRole:fe.sender_role,content:fe.content,timestamp:new Date(fe.timestamp),type:fe.message_type,mediaUrl:fe.media_url||void 0,isSystemMessage:fe.is_system_message}));l(ge)}catch(Ne){console.error("Error loading messages:",Ne),!((he=Ne.message)!=null&&he.includes("Failed to fetch"))&&!((Ee=Ne.message)!=null&&Ee.includes("404"))&&tt.error("Failed to load chat messages")}},v=async he=>{var fe,le;const Ee=`report_${Date.now()}_${Math.random().toString(36).substring(2,8)}`,Ne=`thread_${Ee}`,me=`hash_${he.type}_${Date.now()}`,ge={...he,id:Ee,timestamp:new Date,chatThreadId:Ne,proofHash:me};try{const pe=await ae(ge);if(ge.aiSuggestions=pe,sr()){const{error:be}=await Jr.from("emergency_reports").insert({id:ge.id,type:ge.type,title:ge.title,description:ge.description,location_lat:ge.location.lat,location_lng:ge.location.lng,location_address:ge.location.address,severity:ge.severity,status:ge.status,timestamp:ge.timestamp.toISOString(),reporter_id:ge.reporterId,is_anonymous:ge.isAnonymous,urgency_score:ge.urgencyScore,chat_thread_id:ge.chatThreadId,proof_hash:ge.proofHash,ai_suggestions:ge.aiSuggestions});if(be)throw be;Rs.triggerEvent("emergency-updates-global","new-report",{reportId:ge.id,type:ge.type,severity:ge.severity,location:ge.location,timestamp:ge.timestamp.toISOString()})}r(be=>[ge,...be]),g?tt.success("Emergency report created (offline mode)"):tt.success("Emergency report created successfully")}catch(pe){console.error("Error creating report:",pe),_.isEnabled&&!navigator.onLine?(w(be=>({...be,offlineQueue:[...be.offlineQueue,ge]})),tt.success("Report queued for upload when online")):(r(be=>[ge,...be]),(fe=pe.message)!=null&&fe.includes("Failed to fetch")||(le=pe.message)!=null&&le.includes("404")?(y(!0),tt.success("Emergency report created (offline mode)")):tt.error("Failed to create emergency report in database"))}return Ee},C=(he,Ee)=>{r(Ne=>Ne.map(me=>me.id===he?{...me,...Ee}:me)),Rs.isServiceConfigured()&&Rs.triggerEvent("emergency-updates-global","status-update",{reportId:he,updates:Ee,timestamp:new Date().toISOString()})},F=async he=>{var me,ge,fe,le,pe,be;const Ee=`resp_${Date.now()}_${Math.random().toString(36).substring(2,8)}`,Ne={...he,id:Ee};try{if(sr()){const{error:ie}=await Jr.from("responders").insert({id:Ne.id,name:Ne.name,role:Ne.role,location_lat:(me=Ne.location)==null?void 0:me.lat,location_lng:(ge=Ne.location)==null?void 0:ge.lng,is_available:Ne.isAvailable,skills:Ne.skills,verification_code:Ne.verificationCode,is_verified:Ne.isVerified,contact_phone:(fe=Ne.contactInfo)==null?void 0:fe.phone,contact_radio:(le=Ne.contactInfo)==null?void 0:le.radio});if(ie)throw ie}s(ie=>[...ie,Ne]),h(he.role),g?tt.success("Responder registration successful (offline mode)"):tt.success("Responder registration successful")}catch(ie){console.error("Error registering responder:",ie),s(Te=>[...Te,Ne]),h(he.role),(pe=ie.message)!=null&&pe.includes("Failed to fetch")||(be=ie.message)!=null&&be.includes("404")?(y(!0),tt.success("Responder registration successful (offline mode)")):tt.error("Failed to register responder in database")}},j=he=>{e&&s(Ee=>Ee.map(Ne=>Ne.id===e?{...Ne,location:he}:Ne))},R=he=>{e&&s(Ee=>Ee.map(Ne=>Ne.id===e?{...Ne,isAvailable:he}:Ne))},z=async(he,Ee,Ne="text")=>{var fe,le;const ge={id:`msg_${Date.now()}_${Math.random().toString(36).substring(2,8)}`,threadId:he,senderId:e||"anonymous",senderName:u?`${u} User`:"Anonymous",senderRole:u||"reporter",content:Ee,timestamp:new Date,type:Ne};try{if(sr()){const{error:pe}=await Jr.from("chat_messages").insert({id:ge.id,thread_id:ge.threadId,sender_id:ge.senderId,sender_name:ge.senderName,sender_role:ge.senderRole,content:ge.content,timestamp:ge.timestamp.toISOString(),message_type:ge.type,is_system_message:!1});if(pe)throw pe;Rs.triggerEvent(`chat-${he}`,"new-message",{...ge,timestamp:ge.timestamp.toISOString()})}l(pe=>[...pe,ge])}catch(pe){console.error("Error sending message:",pe),l(be=>[...be,ge]),(fe=pe.message)!=null&&fe.includes("Failed to fetch")||(le=pe.message)!=null&&le.includes("404")?y(!0):tt.error("Failed to send message to database")}},Q=he=>o.filter(Ee=>Ee.threadId===he),$=()=>{w(he=>({...he,isEnabled:!0,lowDataMode:!0})),tt.success("Crisis mode enabled - Offline ready")},X=()=>{w(he=>({...he,isEnabled:!1,lowDataMode:!1})),tt.success("Crisis mode disabled")},te=async()=>{if(_.offlineQueue.length!==0)try{for(const he of _.offlineQueue)r(Ee=>[he,...Ee]);w(he=>({...he,offlineQueue:[],lastSync:new Date})),tt.success(`Synced ${_.offlineQueue.length} offline reports`)}catch{tt.error("Failed to sync offline data")}},ae=async he=>{try{console.log("Getting AI suggestions for emergency report...");const Ee=await Pi.analyzeContent(`${he.title}. ${he.description}`,`Emergency type: ${he.type}, Severity: ${he.severity}, Location: ${he.location.lat}, ${he.location.lng}`);return[`Urgency Level: ${Ee.urgencyLevel}/10 - ${Ee.urgencyLevel>7?"Immediate response required":"Standard response protocol"}`,...Ee.keyFacts.slice(0,3),`Recommended actions based on ${he.type} emergency protocols`]}catch(Ee){return console.error("AI suggestions failed, using fallback:",Ee),{fire:["Evacuate immediately","Call fire department","Avoid smoke inhalation","Use stairs, not elevators"],medical:["Call 911 immediately","Check pulse and breathing","Keep patient calm","Apply first aid if trained"],flood:["Move to higher ground","Avoid walking in moving water","Turn off utilities","Stay informed via radio"],earthquake:["Drop, cover, and hold on","Stay away from windows","Check for injuries","Be prepared for aftershocks"],accident:["Ensure scene safety","Call emergency services","Provide first aid if qualified","Direct traffic if needed"]}[he.type]||["Call emergency services","Ensure personal safety","Follow official instructions"]}},Ae=async he=>{try{console.log("Processing voice command with OpenAI Whisper...");const Ee=new File([he],"voice_command.webm",{type:"audio/webm"}),Ne=await Pi.transcribeAudio(Ee),me=Ne.text.toLowerCase();let ge;return me.includes("fire")||me.includes("burning")?ge="create_fire_report":me.includes("medical")||me.includes("injured")||me.includes("hurt")?ge="create_medical_report":me.includes("responder")||me.includes("help")?ge="show_responders":(me.includes("what should")||me.includes("advice"))&&(ge="get_advice"),{text:Ne.text,action:ge}}catch(Ee){console.error("Voice command processing failed, using mock:",Ee),await new Promise(me=>setTimeout(me,2e3));const Ne=[{text:"There is a fire on Main Street, need help immediately",action:"create_fire_report"},{text:"Medical emergency, person unconscious",action:"create_medical_report"},{text:"Show me nearby responders",action:"show_responders"},{text:"What should I do for chest pain?",action:"get_medical_advice"}];return Ne[Math.floor(Math.random()*Ne.length)]}};return Y.useEffect(()=>{b(),k(),x()},[]),Y.useEffect(()=>{if(!sr())return;const he=Jr.channel("emergency_reports").on("postgres_changes",{event:"*",schema:"public",table:"emergency_reports"},()=>{b()}).subscribe(),Ee=Jr.channel("chat_messages").on("postgres_changes",{event:"*",schema:"public",table:"chat_messages"},()=>{x()}).subscribe();return()=>{he.unsubscribe(),Ee.unsubscribe()}},[]),c.jsx(v8.Provider,{value:{reports:n,responders:i,chatMessages:o,crisisMode:_,currentUserRole:u,isLoading:f,isOfflineMode:g,createReport:v,updateReport:C,registerResponder:F,updateResponderLocation:j,setResponderAvailability:R,sendMessage:z,getThreadMessages:Q,enableCrisisMode:$,disableCrisisMode:X,syncOfflineData:te,getAISuggestions:ae,processVoiceCommand:Ae,loadReports:b,loadResponders:k,loadMessages:x},children:t})},w8=Y.createContext(void 0),Xo=()=>{const t=Y.useContext(w8);if(!t)throw new Error("useVerification must be used within a VerificationProvider");return t},I9=({children:t})=>{xs();const[e,n]=Y.useState([]),[r,i]=Y.useState(!1),[s,o]=Y.useState(!sr()),[l]=Y.useState([{id:"org_1",name:"Reuters Fact Check",type:"news_outlet",credibilityRating:4.8,verificationCount:1247,isActive:!0,contactInfo:{website:"reuters.com",email:"factcheck@reuters.com"}},{id:"org_2",name:"Human Rights Watch",type:"ngo",credibilityRating:4.7,verificationCount:892,isActive:!0,contactInfo:{website:"hrw.org",email:"verification@hrw.org"}},{id:"org_3",name:"MIT Digital Forensics Lab",type:"academic",credibilityRating:4.9,verificationCount:456,isActive:!0,contactInfo:{website:"mit.edu/digitalforensics"}}]),u=async()=>{var x,v;if(!sr()){console.log("Verification reports - running in offline mode"),o(!0);return}i(!0);try{const{data:C,error:F}=await Jr.from("verification_reports").select("*").order("created_at",{ascending:!1});if(F)throw F;const j=C.map(R=>({id:R.id,fileId:R.file_id,deepfakeAnalysis:R.deepfake_confidence?{confidence:R.deepfake_confidence,riskLevel:R.deepfake_risk_level,detectionMethod:"AI Detection",analysisTimestamp:new Date(R.created_at),flaggedForReview:R.deepfake_confidence>70}:void 0,metadata:R.metadata,transcription:R.transcription,aiAnalysis:R.ai_analysis,coSignatures:R.co_signatures||[],overallTrustScore:R.overall_trust_score,verificationStatus:R.verification_status,createdAt:new Date(R.created_at),updatedAt:new Date(R.updated_at)}));n(j),o(!1)}catch(C){console.error("Error loading verification reports:",C),(x=C.message)!=null&&x.includes("Failed to fetch")||(v=C.message)!=null&&v.includes("404")?(o(!0),console.log("Verification reports - switching to offline mode")):tt.error("Failed to load verification reports")}finally{i(!1)}},h=async x=>{await new Promise(R=>setTimeout(R,3e3));const v=x.type.startsWith("video/"),C=x.type.startsWith("image/");if(!v&&!C)throw new Error("Deepfake detection only supports video and image files");const F=Math.random()*100,j=F>80?"critical":F>60?"high":F>30?"medium":"low";return{confidence:F,riskLevel:j,detectionMethod:v?"FaceSwap Detection + Temporal Analysis":"Face Manipulation Detection",analysisTimestamp:new Date,flaggedForReview:F>70,reviewNotes:F>70?"High probability of manipulation detected. Manual review recommended.":void 0}},f=async x=>{let v;try{if(navigator.geolocation){const F=await new Promise((j,R)=>{navigator.geolocation.getCurrentPosition(j,R,{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})});v={lat:F.coords.latitude,lng:F.coords.longitude,accuracy:F.coords.accuracy,source:"gps"}}}catch{console.log("Geolocation not available or denied")}const C={make:"Apple",model:"iPhone 14 Pro",software:"iOS 17.1",dateTime:new Date().toISOString(),gpsLatitude:v==null?void 0:v.lat,gpsLongitude:v==null?void 0:v.lng};return{device:`${C.make} ${C.model}`,resolution:x.type.startsWith("image/")?"4032x3024":"1920x1080",timestamp:new Date(C.dateTime),location:v,exifData:C,fileSize:x.size,duration:x.type.startsWith("video/")?45:void 0}},p=async x=>{if(!x.type.startsWith("audio/")&&!x.type.startsWith("video/"))throw new Error("Transcription only supports audio and video files");await new Promise(F=>setTimeout(F,5e3));const v=["This is a live report from the scene. We can see significant damage to the infrastructure and people are being evacuated from the area.","Emergency services have arrived and are coordinating the response. Medical teams are treating injured civilians.","The situation appears to be under control now. Authorities are asking people to avoid the area while cleanup continues.","We're witnessing unprecedented cooperation between local organizations and international aid groups."],C=v[Math.floor(Math.random()*v.length)];return{text:C,language:"en",confidence:.95,segments:[{start:0,end:5,text:C.split(".")[0]},{start:5,end:10,text:C.split(".")[1]||""}],processingTime:4.2}},g=async(x,v)=>{await new Promise(Q=>setTimeout(Q,2e3));const C=[],F=[];(x.toLowerCase().includes("protest")||x.toLowerCase().includes("demonstration"))&&C.push("protest"),(x.toLowerCase().includes("explosion")||x.toLowerCase().includes("blast"))&&C.push("explosion"),(x.toLowerCase().includes("medical")||x.toLowerCase().includes("injured"))&&C.push("medical_emergency"),(x.toLowerCase().includes("evacuat")||x.toLowerCase().includes("displacement"))&&C.push("displacement"),(x.toLowerCase().includes("aid")||x.toLowerCase().includes("help"))&&C.push("aid_needed");const j=x.split(".").filter(Q=>Q.trim().length>10);F.push(...j.slice(0,3).map(Q=>Q.trim()));const z=["emergency","urgent","critical","immediate","danger"].some(Q=>x.toLowerCase().includes(Q))?Math.floor(Math.random()*3)+7:Math.floor(Math.random()*5)+3;return{summary:`AI Analysis: ${x.substring(0,200)}${x.length>200?"...":""}`,keyFacts:F,eventTags:C.length>0?C:["other"],sentiment:Math.random()>.5?"neutral":Math.random()>.5?"negative":"positive",urgencyLevel:z,credibilityScore:Math.floor(Math.random()*30)+70,contextualFlags:z>7?["high_urgency","requires_attention"]:[]}},y=async(x,v)=>{var F,j;const C=`verification_${Date.now()}_${Math.random().toString(36).substring(2,8)}`;try{const R=await f(x);let z;(x.type.startsWith("image/")||x.type.startsWith("video/"))&&(z=await h(x));let Q;(x.type.startsWith("audio/")||x.type.startsWith("video/"))&&(Q=await p(x));const $=(Q==null?void 0:Q.text)||x.name,X=await g($,R),te=z?100-z.confidence:100,ae=X.credibilityScore,Ae=R.location&&R.timestamp?90:70,he=Math.floor(te*.4+ae*.4+Ae*.2),Ee={id:C,fileId:v,deepfakeAnalysis:z,metadata:R,transcription:Q,aiAnalysis:X,coSignatures:[],overallTrustScore:he,verificationStatus:z!=null&&z.flaggedForReview?"flagged":"verified",createdAt:new Date,updatedAt:new Date};if(sr())try{const{error:Ne}=await Jr.from("verification_reports").insert({id:Ee.id,file_id:Ee.fileId,deepfake_confidence:z==null?void 0:z.confidence,deepfake_risk_level:z==null?void 0:z.riskLevel,metadata:Ee.metadata,transcription:Ee.transcription,ai_analysis:Ee.aiAnalysis,co_signatures:Ee.coSignatures,overall_trust_score:Ee.overallTrustScore,verification_status:Ee.verificationStatus});if(Ne)throw Ne;tt.success("Verification report saved to database")}catch(Ne){console.error("Error saving verification report:",Ne),(F=Ne.message)!=null&&F.includes("Failed to fetch")||(j=Ne.message)!=null&&j.includes("404")?(o(!0),tt.success("Verification report saved locally (offline mode)")):tt.error("Failed to save verification report to database")}else tt.success("Verification report created (offline mode)");return n(Ne=>[Ee,...Ne]),Ee}catch(R){throw console.error("Media analysis failed:",R),R}},_=async(x,v,C)=>{const F=l.find(R=>R.id===v);if(!F)throw new Error("Organization not found");await new Promise(R=>setTimeout(R,2e3));const j={id:`cosign_${Date.now()}`,organizationName:F.name,verifierName:"Dr. Sarah Johnson",verifierRole:"Senior Fact Checker",verificationDate:new Date,verificationHash:`hash_${Math.random().toString(36).substring(2,15)}`,credibilityRating:Math.floor(Math.random()*2)+4,notes:C,isVerified:!0};n(R=>R.map(z=>z.id===x?{...z,coSignatures:[...z.coSignatures,j],overallTrustScore:Math.min(100,z.overallTrustScore+10),verificationStatus:"verified",updatedAt:new Date}:z)),tt.success(`Co-signature requested from ${F.name}`)},w=()=>l.filter(x=>x.isActive),b=x=>e.filter(v=>x.some(C=>v.aiAnalysis.eventTags.includes(C))),k=x=>{const v=x.toLowerCase();return e.filter(C=>{var F;return C.aiAnalysis.summary.toLowerCase().includes(v)||((F=C.transcription)==null?void 0:F.text.toLowerCase().includes(v))||C.aiAnalysis.keyFacts.some(j=>j.toLowerCase().includes(v))})};return Y.useEffect(()=>{u()},[]),Y.useEffect(()=>{if(!sr())return;const x=Jr.channel("verification_reports").on("postgres_changes",{event:"*",schema:"public",table:"verification_reports"},()=>{u()}).subscribe();return()=>{x.unsubscribe()}},[]),c.jsx(w8.Provider,{value:{verificationReports:e,organizations:l,isLoading:r,isOfflineMode:s,analyzeMedia:y,requestCoSignature:_,detectDeepfake:h,extractMetadata:f,transcribeMedia:p,analyzeContent:g,getVerifiedOrganizations:w,filterByTags:b,searchReports:k,loadVerificationReports:u},children:t})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),mt=(t,e)=>{const n=Y.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:u,...h},f)=>Y.createElement("svg",{ref:f,...L9,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${M9(t)}`,l].join(" "),...h},[...e.map(([p,g])=>Y.createElement(p,g)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=mt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=mt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=mt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=mt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=mt("AudioWaveform",[["path",{d:"M2 13a2 2 0 0 0 2-2V7a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0V4a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0v-4a2 2 0 0 1 2-2",key:"57tc96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=mt("Blocks",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=mt("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=mt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=mt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=mt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=mt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=mt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=mt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=mt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=mt("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=mt("CloudSnow",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M8 19h.01",key:"puxtts"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M12 21h.01",key:"h35vbk"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M16 19h.01",key:"1vcnzz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=mt("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=mt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=mt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=mt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=mt("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=mt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=mt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=mt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=mt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=mt("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=mt("FolderSync",[["path",{d:"M9 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v.5",key:"1dkoa9"}],["path",{d:"M12 10v4h4",key:"1czhmt"}],["path",{d:"m12 14 1.535-1.605a5 5 0 0 1 8 1.5",key:"lvuxfi"}],["path",{d:"M22 22v-4h-4",key:"1ewp4q"}],["path",{d:"m22 18-1.535 1.605a5 5 0 0 1-8-1.5",key:"14ync0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=mt("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=mt("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=mt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=mt("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=mt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=mt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=mt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=mt("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=mt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=mt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=mt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=mt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=mt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=mt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=mt("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=mt("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=mt("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=mt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=mt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=mt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=mt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=mt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=mt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=mt("ShieldOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=mt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=mt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=mt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=mt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=mt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=mt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=mt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=mt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=mt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=mt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=mt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=mt("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=mt("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=mt("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=mt("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=mt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=mt("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=mt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=mt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);class h${constructor(){this.config={apiKey:"35bbfc8de2d3c515f5b7",apiSecret:"886f45008c260fe955f34457127c15228d760e7ac375524c42090ac1a14481f8",jwt:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiIxNjZkMGJjNy0zMmExLTRkMDQtODMzMC04Y2EzZGFmNmYxNzMiLCJlbWFpbCI6ImRhdmlkb2x1cmluZGVAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsInBpbl9wb2xpY3kiOnsicmVnaW9ucyI6W3siZGVzaXJlZFJlcGxpY2F0aW9uQ291bnQiOjEsImlkIjoiRlJBMSJ9LHsiZGVzaXJlZFJlcGxpY2F0aW9uQ291bnQiOjEsImlkIjoiTllDMSJ9XSwidmVyc2lvbiI6MX0sIm1mYV9lbmFibGVkIjpmYWxzZSwic3RhdHVzIjoiQUNUSVZFIn0sImF1dGhlbnRpY2F0aW9uVHlwZSI6InNjb3BlZEtleSIsInNjb3BlZEtleUtleSI6IjM1YmJmYzhkZTJkM2M1MTVmNWI3Iiwic2NvcGVkS2V5U2VjcmV0IjoiODg2ZjQ1MDA4YzI2MGZlOTU1ZjM0NDU3MTI3YzE1MjI4ZDc2MGU3YWMzNzU1MjRjNDIwOTBhYzFhMTQ0ODFmOCIsImV4cCI6MTc4MjA4NzgxM30.ZmoxOSzaBayomrQD1MF96peREElLv9lnuj86mIxRKNM",endpoint:"https://api.pinata.cloud"},console.log("Pinata Service initialized:",{hasApiKey:!!this.config.apiKey,hasJWT:!!this.config.jwt,endpoint:this.config.endpoint})}async uploadFile(e,n={}){console.log(`Uploading file to Pinata: ${e.name} (${(e.size/1024/1024).toFixed(2)} MB)`);try{const r=new FormData;r.append("file",e);const i={name:n.name||e.name,keyvalues:{app:"ProofVault",type:"emergency_evidence",timestamp:new Date().toISOString(),...n.keyvalues}};r.append("pinataMetadata",JSON.stringify(i));const s={cidVersion:1,customPinPolicy:{regions:[{id:"FRA1",desiredReplicationCount:1},{id:"NYC1",desiredReplicationCount:1}]}};r.append("pinataOptions",JSON.stringify(s));const o=await fetch(`${this.config.endpoint}/pinning/pinFileToIPFS`,{method:"POST",headers:{Authorization:`Bearer ${this.config.jwt}`},body:r});if(!o.ok){const u=await o.text().catch(()=>"Unknown error");throw new Error(`Pinata upload failed: ${o.status} ${o.statusText} - ${u}`)}const l=await o.json();return console.log("Pinata upload successful:",l.IpfsHash),{IpfsHash:l.IpfsHash,PinSize:l.PinSize,Timestamp:l.Timestamp,isDuplicate:l.isDuplicate}}catch(r){return console.error("Pinata upload error:",r),console.warn("Using mock IPFS hash due to error"),this.generateMockResponse(e)}}async uploadBuffer(e,n,r,i={}){try{console.log(`Uploading buffer to Pinata: ${n} (${(e.byteLength/1024).toFixed(2)} KB)`);const s=new Blob([e],{type:r}),o=new File([s],n,{type:r});return await this.uploadFile(o,i)}catch(s){throw console.error("Pinata buffer upload error:",s),s}}async uploadJSON(e,n,r={}){try{console.log(`Uploading JSON to Pinata: ${n}`);const i=await fetch(`${this.config.endpoint}/pinning/pinJSONToIPFS`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.config.jwt}`},body:JSON.stringify({pinataContent:e,pinataMetadata:{name:r.name||n,keyvalues:{app:"ProofVault",type:"json_data",timestamp:new Date().toISOString(),...r.keyvalues}},pinataOptions:{cidVersion:1}})});if(!i.ok){const o=await i.text().catch(()=>"Unknown error");throw new Error(`Pinata JSON upload failed: ${i.status} ${i.statusText} - ${o}`)}const s=await i.json();return console.log("Pinata JSON upload successful:",s.IpfsHash),{IpfsHash:s.IpfsHash,PinSize:s.PinSize,Timestamp:s.Timestamp,isDuplicate:s.isDuplicate}}catch(i){throw console.error("Pinata JSON upload error:",i),i}}async getFileInfo(e){try{const n=await fetch(`${this.config.endpoint}/data/pinList?hashContains=${e}`,{method:"GET",headers:{Authorization:`Bearer ${this.config.jwt}`}});if(!n.ok)throw new Error(`Failed to get file info: ${n.status} ${n.statusText}`);const r=await n.json();if(r.rows&&r.rows.length>0){const i=r.rows[0];return{ipfsHash:i.ipfs_pin_hash,size:i.size,timestamp:i.date_pinned,metadata:i.metadata}}throw new Error("File not found")}catch(n){return console.error("Pinata file info error:",n),{ipfsHash:e,size:0,timestamp:new Date().toISOString()}}}async unpinFile(e){try{console.log(`Unpinning file from Pinata: ${e}`);const n=await fetch(`${this.config.endpoint}/pinning/unpin/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${this.config.jwt}`}});return n.ok?(console.log(`Successfully unpinned file: ${e}`),!0):(console.warn(`Failed to unpin file: ${n.status} ${n.statusText}`),!1)}catch(n){return console.error("Pinata unpin error:",n),!1}}async listPinnedFiles(e={}){try{const n=new URLSearchParams;e.status&&n.append("status",e.status),e.pageLimit&&n.append("pageLimit",e.pageLimit.toString()),e.pageOffset&&n.append("pageOffset",e.pageOffset.toString()),e.metadata&&Object.entries(e.metadata).forEach(([i,s])=>{n.append(`metadata[keyvalues][${i}]`,s)});const r=await fetch(`${this.config.endpoint}/data/pinList?${n}`,{method:"GET",headers:{Authorization:`Bearer ${this.config.jwt}`}});if(!r.ok)throw new Error(`Failed to list pinned files: ${r.status} ${r.statusText}`);return await r.json()}catch(n){return console.error("Pinata list files error:",n),{count:0,rows:[]}}}generateMockResponse(e){const n=`Qm${Math.random().toString(36).substring(2,15)}${Math.random().toString(36).substring(2,15)}`;return console.log(`Generated mock IPFS hash: ${n}`),{IpfsHash:n,PinSize:e.size,Timestamp:new Date().toISOString(),isDuplicate:!1}}isConfigured(){return!!(this.config.apiKey&&this.config.jwt)}getGatewayUrl(e,n="https://gateway.pinata.cloud/ipfs"){return`${n}/${e}`}getGatewayUrls(e){return["https://gateway.pinata.cloud/ipfs","https://ipfs.io/ipfs","https://cloudflare-ipfs.com/ipfs","https://dweb.link/ipfs"].map(r=>`${r}/${e}`)}async getStatus(){try{const e=await fetch(`${this.config.endpoint}/data/testAuthentication`,{method:"GET",headers:{Authorization:`Bearer ${this.config.jwt}`}});if(e.ok){const n=await e.json();return{online:!0,version:"Pinata API v1",network:"IPFS"}}}catch(e){console.error("Pinata status check failed:",e)}return{online:!1}}getServiceInfo(){return{configured:this.isConfigured(),apiKey:this.config.apiKey?this.config.apiKey.substring(0,8)+"...":"Not set",hasJWT:!!this.config.jwt,endpoint:this.config.endpoint}}}const Hm=new h$;class f${constructor(){this.isConfigured=!1,this.config={cloudName:"dzcki3wbf",apiKey:"179969698823331",apiSecret:"7vxaemgDob__jG_NTPu4VZH41cE",uploadPreset:"proofvault_preset"},this.isConfigured=!!(this.config.cloudName&&this.config.apiKey),this.isConfigured?console.log("Cloudinary Service initialized:",{cloudName:this.config.cloudName,hasApiKey:!!this.config.apiKey,uploadPreset:this.config.uploadPreset}):console.warn("Cloudinary not configured - using mock responses")}async uploadFile(e,n){if(!this.isConfigured)return console.log("Cloudinary not configured, using mock response"),this.generateMockResponse(e,n==null?void 0:n.uploadToIPFS);try{console.log(`Uploading file to Cloudinary: ${e.name} (${(e.size/1024/1024).toFixed(2)} MB)`);const r=new FormData;r.append("file",e),r.append("upload_preset",this.config.uploadPreset),n!=null&&n.folder&&r.append("folder",n.folder),n!=null&&n.tags&&r.append("tags",n.tags.join(",")),n!=null&&n.transformation&&r.append("transformation",n.transformation),r.append("context",JSON.stringify({source:"ProofVault",upload_time:new Date().toISOString(),file_name:e.name,file_size:e.size}));const i=this.getResourceType(e.type),s=`https://api.cloudinary.com/v1_1/${this.config.cloudName}/${i}/upload`,o=await fetch(s,{method:"POST",body:r});if(!o.ok){const h=await o.text().catch(()=>"Unknown error");throw new Error(`Cloudinary upload failed: ${o.status} ${o.statusText} - ${h}`)}const l=await o.json();console.log("Cloudinary upload successful:",l.public_id);let u;if(n!=null&&n.uploadToIPFS)try{console.log("Also uploading to IPFS via Pinata..."),u=(await Hm.uploadFile(e)).cid,console.log("IPFS upload successful:",u)}catch(h){console.warn("IPFS upload failed, but Cloudinary upload succeeded:",h)}return{public_id:l.public_id,secure_url:l.secure_url,url:l.url,format:l.format,resource_type:l.resource_type,bytes:l.bytes,width:l.width,height:l.height,duration:l.duration,ipfs_cid:u}}catch(r){if(console.error("Cloudinary upload error:",r),!this.config.cloudName)return console.warn("Using mock Cloudinary response due to missing configuration"),this.generateMockResponse(e,n==null?void 0:n.uploadToIPFS);throw r}}async uploadBuffer(e,n,r,i){const s=new Blob([e],{type:r}),o=new File([s],n,{type:r});return this.uploadFile(o,i)}async uploadJSON(e,n,r){const i=JSON.stringify(e,null,2),s=new Blob([i],{type:"application/json"}),o=new File([s],n,{type:"application/json"});return this.uploadFile(o,r)}getResourceType(e){return e.startsWith("image/")?"image":e.startsWith("video/")||e.startsWith("audio/")?"video":"raw"}generateMockResponse(e,n){const r=`proofvault/${Date.now()}_${e.name.replace(/\.[^/.]+$/,"")}`,i=`https://res.cloudinary.com/demo/image/upload/${r}`;return console.log(`Generated mock Cloudinary response: ${r}`),{public_id:r,secure_url:i,url:i,format:e.type.split("/")[1]||"unknown",resource_type:this.getResourceType(e.type),bytes:e.size,width:e.type.startsWith("image/")?1920:void 0,height:e.type.startsWith("image/")?1080:void 0,duration:e.type.startsWith("video/")?30:void 0,ipfs_cid:n?`Qm${Math.random().toString(36).substring(2,15)}`:void 0}}getOptimizedUrl(e,n){if(!this.isConfigured)return`https://via.placeholder.com/${(n==null?void 0:n.width)||800}x${(n==null?void 0:n.height)||600}`;let r="";if(n){const i=[];n.width&&i.push(`w_${n.width}`),n.height&&i.push(`h_${n.height}`),n.quality&&i.push(`q_${n.quality}`),n.format&&i.push(`f_${n.format}`),n.crop&&i.push(`c_${n.crop}`),i.length>0&&(r=i.join(",")+"/")}return`https://res.cloudinary.com/${this.config.cloudName}/image/upload/${r}${e}`}async deleteFile(e){if(!this.isConfigured)return console.log("Cloudinary not configured, simulating delete"),!0;try{return console.warn("File deletion requires server-side implementation for security"),!1}catch(n){return console.error("Cloudinary delete error:",n),!1}}isServiceConfigured(){return this.isConfigured}getServiceInfo(){return{configured:this.isConfigured,cloudName:this.config.cloudName,hasApiKey:!!this.config.apiKey,uploadPreset:this.config.uploadPreset}}}const Jb=new f$;class p${constructor(){this.isConfigured=!1,this.defaultVoiceId="pNInz6obpgDQGcFmaJgB",this.apiKey="",this.isConfigured=!!this.apiKey,this.isConfigured?console.log("ElevenLabs Service initialized"):console.warn("ElevenLabs API key not configured - using mock narration")}async generateNarration(e,n=this.defaultVoiceId,r={stability:.5,similarity_boost:.75,style:.5,use_speaker_boost:!0}){if(!this.isConfigured)return this.getMockNarration(e,n);try{const i=await fetch(`https://api.elevenlabs.io/v1/text-to-speech/${n}`,{method:"POST",headers:{Accept:"audio/mpeg","Content-Type":"application/json","xi-api-key":this.apiKey},body:JSON.stringify({text:e,model_id:"eleven_monolingual_v1",voice_settings:r})});if(!i.ok)throw new Error(`ElevenLabs API error: ${i.status}`);const s=await i.blob(),o=URL.createObjectURL(s),u=e.split(" ").length/150*60;return{audioBlob:s,audioUrl:o,duration:u,voiceId:n,text:e}}catch(i){return console.error("ElevenLabs narration failed:",i),this.getMockNarration(e,n)}}async generateEmergencyBroadcast(e){const n=this.formatEmergencyBroadcast(e);return await this.generateNarration(n,"EXAVITQu4vr4xnSDxMaL",{stability:.8,similarity_boost:.8,style:.3,use_speaker_boost:!0})}async generateSummaryNarration(e,n,r){const i=this.formatSummaryNarration(e,n,r),s={stability:r>7?.7:.5,similarity_boost:.75,style:r>7?.8:.5,use_speaker_boost:!0};return await this.generateNarration(i,this.defaultVoiceId,s)}formatEmergencyBroadcast(e){let r=`${e.severity==="critical"?"URGENT ALERT: ":e.severity==="high"?"EMERGENCY ALERT: ":"ALERT: "}${e.type.replace("_"," ")} emergency reported at ${e.location}. `;return r+=`${e.description} `,e.instructions&&(r+=`Instructions: ${e.instructions} `),r+="Emergency responders have been notified. Stay safe and follow official guidance.",r}formatSummaryNarration(e,n,r){let i=`Emergency situation summary: ${e} `;return n.length>0&&(i+="Key details include: ",i+=n.slice(0,3).join(". ")+". "),r>7&&(i+="This is a high-priority situation requiring immediate attention. "),i+="This information has been verified and recorded for emergency response coordination.",i}async getMockNarration(e,n){const r=new AudioContext,i=Math.max(2,e.length*.05),s=r.sampleRate,l=r.createBuffer(1,i*s,s).getChannelData(0);for(let f=0;f<l.length;f++)l[f]=Math.sin(2*Math.PI*440*f/s)*.01;const u=new Blob([new ArrayBuffer(1024)],{type:"audio/mpeg"}),h=URL.createObjectURL(u);return console.log("Generated mock narration for:",e.substring(0,50)+"..."),{audioBlob:u,audioUrl:h,duration:i,voiceId:n,text:e}}async getAvailableVoices(){if(!this.isConfigured)return[{voice_id:"pNInz6obpgDQGcFmaJgB",name:"Adam (Mock)",category:"premade"},{voice_id:"EXAVITQu4vr4xnSDxMaL",name:"Bella (Mock)",category:"premade"}];try{const e=await fetch("https://api.elevenlabs.io/v1/voices",{headers:{"xi-api-key":this.apiKey}});if(!e.ok)throw new Error(`Failed to fetch voices: ${e.status}`);return(await e.json()).voices.map(r=>({voice_id:r.voice_id,name:r.name,category:r.category}))}catch(e){return console.error("Failed to fetch voices:",e),[{voice_id:"pNInz6obpgDQGcFmaJgB",name:"Adam",category:"premade"},{voice_id:"EXAVITQu4vr4xnSDxMaL",name:"Bella",category:"premade"}]}}isServiceConfigured(){return this.isConfigured}}const Qb=new p$;class m${constructor(){this.isConfigured=!1,this.apiKey="",this.isConfigured=!!this.apiKey,this.isConfigured?console.log("Translation Service initialized with Google Translate"):console.warn("Google Translate API key not configured - using mock translations")}async translateText(e,n,r){if(!this.isConfigured)return this.getMockTranslation(e,n,r);try{const i=new URLSearchParams({key:this.apiKey,q:e,target:n});r&&i.append("source",r);const s=await fetch(`https://translation.googleapis.com/language/translate/v2?${i}`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!s.ok)throw new Error(`Translation API error: ${s.status}`);const l=(await s.json()).data.translations[0];return{translatedText:l.translatedText,sourceLanguage:l.detectedSourceLanguage||r||"auto",targetLanguage:n,confidence:.95}}catch(i){return console.error("Translation failed:",i),this.getMockTranslation(e,n,r)}}async detectLanguage(e){if(!this.isConfigured)return this.getMockLanguageDetection(e);try{const n=new URLSearchParams({key:this.apiKey,q:e}),r=await fetch(`https://translation.googleapis.com/language/translate/v2/detect?${n}`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!r.ok)throw new Error(`Language detection API error: ${r.status}`);const s=(await r.json()).data.detections[0][0];return{language:s.language,confidence:s.confidence}}catch(n){return console.error("Language detection failed:",n),this.getMockLanguageDetection(e)}}async translateEmergencyReport(e,n){try{const[r,i,s]=await Promise.all([this.translateText(e.title,n),this.translateText(e.description,n),e.aiSuggestions?Promise.all(e.aiSuggestions.map(o=>this.translateText(o,n))):Promise.resolve([])]);return{title:r.translatedText,description:i.translatedText,aiSuggestions:s.map(o=>o.translatedText),sourceLanguage:r.sourceLanguage}}catch(r){throw console.error("Emergency report translation failed:",r),r}}async getSupportedLanguages(){if(!this.isConfigured)return this.getMockSupportedLanguages();try{const e=await fetch(`https://translation.googleapis.com/language/translate/v2/languages?key=${this.apiKey}&target=en`);if(!e.ok)throw new Error(`Languages API error: ${e.status}`);return(await e.json()).data.languages.map(r=>({code:r.language,name:r.name}))}catch(e){return console.error("Failed to fetch supported languages:",e),this.getMockSupportedLanguages()}}getMockTranslation(e,n,r){const i={es:{emergency:"emergencia",fire:"fuego",medical:"mdico",help:"ayuda",police:"polica",ambulance:"ambulancia"},fr:{emergency:"urgence",fire:"feu",medical:"mdical",help:"aide",police:"police",ambulance:"ambulance"},de:{emergency:"Notfall",fire:"Feuer",medical:"medizinisch",help:"Hilfe",police:"Polizei",ambulance:"Krankenwagen"}};let s=e;const o=i[n];return o?Object.entries(o).forEach(([l,u])=>{const h=new RegExp(`\\b${l}\\b`,"gi");s=s.replace(h,u)}):s=`[${n.toUpperCase()}] ${e}`,{translatedText:s,sourceLanguage:r||"en",targetLanguage:n,confidence:.8}}getMockLanguageDetection(e){const n=["emergencia","fuego","ayuda","polica"],r=["urgence","feu","aide","police"],i=["Notfall","Feuer","Hilfe","Polizei"],s=e.toLowerCase();return n.some(o=>s.includes(o))?{language:"es",confidence:.8}:r.some(o=>s.includes(o))?{language:"fr",confidence:.8}:i.some(o=>s.includes(o))?{language:"de",confidence:.8}:{language:"en",confidence:.9}}getMockSupportedLanguages(){return[{code:"en",name:"English"},{code:"es",name:"Spanish"},{code:"fr",name:"French"},{code:"de",name:"German"},{code:"it",name:"Italian"},{code:"pt",name:"Portuguese"},{code:"ru",name:"Russian"},{code:"zh",name:"Chinese"},{code:"ja",name:"Japanese"},{code:"ko",name:"Korean"},{code:"ar",name:"Arabic"},{code:"hi",name:"Hindi"}]}isServiceConfigured(){return this.isConfigured}}const tc=new m$;class g${constructor(){this.isConfigured=!1,this.apiKey="f691c216bc7f2604284bc9ff6f8162d9",this.isConfigured=!!this.apiKey&&this.apiKey.length>10,this.isConfigured?console.log("Weather Service initialized with OpenWeatherMap API key"):console.warn("OpenWeatherMap API key not configured or invalid - using mock weather data")}async getWeatherForLocation(e,n){var r,i;if(!this.isConfigured)return console.log("Using mock weather data - API key not configured"),this.getMockWeatherData();try{console.log(`Fetching weather for location: ${e}, ${n}`);const s=await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${e}&lon=${n}&appid=${this.apiKey}&units=metric`,{method:"GET",headers:{Accept:"application/json"}});if(!s.ok){const u=await s.text().catch(()=>"Unknown error");throw console.error("Weather API error details:",{status:s.status,statusText:s.statusText,error:u}),s.status===401?new Error(`Weather API authentication failed. Please check your API key. Status: ${s.status}`):s.status===429?new Error(`Weather API rate limit exceeded. Status: ${s.status}`):new Error(`Weather API error: ${s.status} ${s.statusText}`)}const o=await s.json();let l=[];try{const u=await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${e}&lon=${n}&appid=${this.apiKey}&exclude=minutely,hourly,daily`,{method:"GET",headers:{Accept:"application/json"}});u.ok&&(l=((r=(await u.json()).alerts)==null?void 0:r.map(f=>{var p;return{title:f.event,description:f.description,severity:this.mapSeverity(((p=f.tags)==null?void 0:p[0])||"moderate"),start:new Date(f.start*1e3),end:new Date(f.end*1e3)}}))||[])}catch(u){console.warn("Weather alerts fetch failed (non-critical):",u)}return{temperature:Math.round(o.main.temp),condition:o.weather[0].main,humidity:o.main.humidity,windSpeed:Math.round(((i=o.wind)==null?void 0:i.speed)||0),visibility:Math.round((o.visibility||1e4)/1e3),pressure:o.main.pressure,description:o.weather[0].description,icon:o.weather[0].icon,alerts:l}}catch(s){return console.error("Weather API failed:",s),this.getMockWeatherData()}}getMockWeatherData(){const e=["Clear","Clouds","Rain","Snow","Thunderstorm","Fog"],n=e[Math.floor(Math.random()*e.length)];return console.log("Returning mock weather data"),{temperature:Math.round(Math.random()*30+5),condition:n,humidity:Math.round(Math.random()*100),windSpeed:Math.round(Math.random()*20),visibility:Math.round(Math.random()*10+1),pressure:Math.round(Math.random()*50+1e3),description:n.toLowerCase(),icon:"01d",alerts:Math.random()>.8?[{title:"Severe Weather Warning",description:"Strong winds and heavy rain expected",severity:"severe",start:new Date,end:new Date(Date.now()+6*60*60*1e3)}]:[]}}mapSeverity(e){switch(e==null?void 0:e.toLowerCase()){case"minor":return"minor";case"moderate":return"moderate";case"severe":return"severe";case"extreme":return"extreme";default:return"moderate"}}isServiceConfigured(){return this.isConfigured}getServiceInfo(){return{configured:this.isConfigured,apiKey:this.apiKey?"********":"Not set",keyLength:this.apiKey.length}}}const e_=new g$,x$=({children:t})=>{const{isConnected:e,walletAddress:n,connectWallet:r,disconnectWallet:i,networkStatus:s}=xs(),{crisisMode:o,reports:l}=ys(),{verificationReports:u}=Xo(),h=kc(),f=async()=>{try{await r(),tt.success("Wallet connected successfully!")}catch{tt.error("Failed to connect wallet")}},p=()=>{i(),tt.success("Wallet disconnected")},g=[{name:"Emergency",href:"/emergency",icon:si,color:"text-red-600"},{name:"Responder",href:"/responder",icon:Ua,color:"text-blue-600"},{name:"Verification",href:"/verification",icon:Xd,color:"text-purple-600"},{name:"Evidence",href:"/dashboard",icon:Sn,color:"text-green-600"},{name:"Upload",href:"/upload",icon:fc,color:"text-orange-600"},{name:"History",href:"/history",icon:j8,color:"text-gray-600"}],y=l.filter(j=>j.status==="active").length,_=u.filter(j=>j.verificationStatus==="flagged").length,w=Pi.isServiceConfigured(),b=Rs.isServiceConfigured(),k=Jb.isServiceConfigured(),x=Qb.isServiceConfigured(),v=tc.isServiceConfigured(),C=e_.isServiceConfigured(),F=[w,k,x,v,C].filter(Boolean).length;return c.jsxs("div",{className:"min-h-screen",children:[o.isEnabled&&c.jsxs("div",{className:"bg-red-600 text-white px-4 py-2 text-center text-sm font-medium",children:[" CRISIS MODE ACTIVE - Offline Ready | ",o.offlineQueue.length," queued reports"]}),c.jsx("header",{className:`bg-white/80 backdrop-blur-lg border-b border-gray-200/50 sticky top-0 z-50 ${o.isEnabled?"border-t-2 border-t-red-500":""}`,children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsxs("div",{className:"flex items-center space-x-8",children:[c.jsxs(jr,{to:"/emergency",className:"flex items-center space-x-2",children:[c.jsx(Sn,{className:"h-8 w-8 text-blue-600"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"ProofVault"}),c.jsxs("div",{className:"text-xs text-gray-500 -mt-1 flex items-center space-x-1",children:[c.jsx("span",{children:"Crisis Response + AI Shield"}),F>3&&c.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 text-green-800 px-1 rounded",children:[c.jsx(Us,{className:"h-2 w-2"}),c.jsx("span",{className:"text-xs",children:"Enhanced"})]})]})]})]}),c.jsx("nav",{className:"hidden md:flex space-x-6",children:g.map(j=>{const R=h.pathname===j.href;return c.jsxs(jr,{to:j.href,className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors relative ${R?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[c.jsx(j.icon,{className:`h-4 w-4 ${R?"text-blue-700":j.color}`}),c.jsx("span",{children:j.name}),j.name==="Emergency"&&y>0&&c.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:y}),j.name==="Verification"&&_>0&&c.jsx("div",{className:"absolute -top-1 -right-1 bg-orange-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:_}),j.name==="Upload"&&F>3&&c.jsx("div",{className:"absolute -top-1 -right-1 bg-green-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:c.jsx(Us,{className:"h-2 w-2"})})]},j.name)})})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"hidden lg:flex items-center space-x-2",children:[c.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${w?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${w?"bg-green-500":"bg-gray-400"}`}),c.jsx("span",{children:"AI"})]}),c.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${b?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${b?"bg-green-500":"bg-gray-400"}`}),c.jsx("span",{children:"RT"})]}),k&&c.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),c.jsx("span",{children:"Cloud"})]}),x&&c.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),c.jsx("span",{children:"Voice"})]}),v&&c.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500"}),c.jsx("span",{children:"Trans"})]}),C&&c.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"}),c.jsx("span",{children:"Weather"})]}),c.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${s.online?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[s.online?c.jsx(Vm,{className:"h-3 w-3"}):c.jsx(za,{className:"h-3 w-3"}),c.jsx("span",{children:s.network})]})]}),e?c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("div",{className:"flex items-center space-x-2 bg-green-100 text-green-800 px-3 py-1 rounded-lg text-sm",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),c.jsxs("span",{className:"font-mono",children:[n==null?void 0:n.slice(0,6),"...",n==null?void 0:n.slice(-4)]})]}),c.jsx("button",{onClick:p,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(J9,{className:"h-4 w-4"})})]}):c.jsxs("button",{onClick:f,className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-lg font-medium transition-colors text-sm",children:[c.jsx(u$,{className:"h-3.5 w-3.5"}),c.jsx("span",{children:"Connect Wallet"})]})]})]})})}),c.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t}),c.jsx("footer",{className:"bg-gray-50 border-t border-gray-200 py-4",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(jr,{to:"/privacy",className:"hover:text-gray-700",children:"Privacy Policy"}),c.jsx(jr,{to:"/terms",className:"hover:text-gray-700",children:"Terms of Service"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{children:"Enhanced Features:"}),c.jsxs("span",{className:"font-medium",children:[F,"/5 Active"]}),F>3&&c.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 text-green-800 px-2 py-1 rounded",children:[c.jsx(Us,{className:"h-3 w-3"}),c.jsx("span",{children:"Full Suite"})]})]})]})})})]})},R8=Y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Wm=Y.createContext({}),Km=Y.createContext(null),Gm=typeof document<"u",t_=Gm?Y.useLayoutEffect:Y.useEffect,B8=Y.createContext({strict:!1}),n_=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),y$="framerAppearId",D8="data-"+n_(y$);function v$(t,e,n,r){const{visualElement:i}=Y.useContext(Wm),s=Y.useContext(B8),o=Y.useContext(Km),l=Y.useContext(R8).reducedMotion,u=Y.useRef();r=r||s.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const h=u.current;Y.useInsertionEffect(()=>{h&&h.update(n,o)});const f=Y.useRef(!!(n[D8]&&!window.HandoffComplete));return t_(()=>{h&&(h.render(),f.current&&h.animationState&&h.animationState.animateChanges())}),Y.useEffect(()=>{h&&(h.updateFeatures(),!f.current&&h.animationState&&h.animationState.animateChanges(),f.current&&(f.current=!1,window.HandoffComplete=!0))}),h}function Ol(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function w$(t,e,n){return Y.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ol(n)&&(n.current=r))},[e])}function yd(t){return typeof t=="string"||Array.isArray(t)}function Zm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const r_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],i_=["initial",...r_];function Ym(t){return Zm(t.animate)||i_.some(e=>yd(t[e]))}function I8(t){return!!(Ym(t)||t.variants)}function b$(t,e){if(Ym(t)){const{initial:n,animate:r}=t;return{initial:n===!1||yd(n)?n:void 0,animate:yd(r)?r:void 0}}return t.inherit!==!1?e:{}}function _$(t){const{initial:e,animate:n}=b$(t,Y.useContext(Wm));return Y.useMemo(()=>({initial:e,animate:n}),[gk(e),gk(n)])}function gk(t){return Array.isArray(t)?t.join(" "):t}const xk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vd={};for(const t in xk)vd[t]={isEnabled:e=>xk[t].some(n=>!!e[n])};function S$(t){for(const e in t)vd[e]={...vd[e],...t[e]}}const s_=Y.createContext({}),L8=Y.createContext({}),k$=Symbol.for("motionComponentSymbol");function E$({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&S$(t);function s(l,u){let h;const f={...Y.useContext(R8),...l,layoutId:A$(l)},{isStatic:p}=f,g=_$(l),y=r(l,p);if(!p&&Gm){g.visualElement=v$(i,y,f,e);const _=Y.useContext(L8),w=Y.useContext(B8).strict;g.visualElement&&(h=g.visualElement.loadFeatures(f,w,t,_))}return Y.createElement(Wm.Provider,{value:g},h&&g.visualElement?Y.createElement(h,{visualElement:g.visualElement,...f}):null,n(i,l,w$(y,g.visualElement,u),y,p,g.visualElement))}const o=Y.forwardRef(s);return o[k$]=i,o}function A$({layoutId:t}){const e=Y.useContext(s_).id;return e&&t!==void 0?e+"-"+t:t}function C$(t){function e(r,i={}){return E$(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const j$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function o_(t){return typeof t!="string"||t.includes("-")?!1:!!(j$.indexOf(t)>-1||/[A-Z]/.test(t))}const Sp={};function T$(t){Object.assign(Sp,t)}const Qd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Za=new Set(Qd);function M8(t,{layout:e,layoutId:n}){return Za.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Sp[t]||t==="opacity")}const oi=t=>!!(t&&t.getVelocity),P$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},F$=Qd.length;function N$(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<F$;o++){const l=Qd[o];if(t[l]!==void 0){const u=P$[l]||l;s+=`${u}(${t[l]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const O8=t=>e=>typeof e=="string"&&e.startsWith(t),$8=O8("--"),Zv=O8("var(--"),R$=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,B$=(t,e)=>e&&typeof t=="number"?e.transform(t):t,$o=(t,e,n)=>Math.min(Math.max(n,t),e),Ya={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},$u={...Ya,transform:t=>$o(0,1,t)},af={...Ya,default:1},Uu=t=>Math.round(t*1e5)/1e5,Xm=/(-)?([\d]*\.?[\d])+/g,U8=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,D$=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function eh(t){return typeof t=="string"}const th=t=>({test:e=>eh(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),lo=th("deg"),ps=th("%"),Mt=th("px"),I$=th("vh"),L$=th("vw"),yk={...ps,parse:t=>ps.parse(t)/100,transform:t=>ps.transform(t*100)},vk={...Ya,transform:Math.round},z8={borderWidth:Mt,borderTopWidth:Mt,borderRightWidth:Mt,borderBottomWidth:Mt,borderLeftWidth:Mt,borderRadius:Mt,radius:Mt,borderTopLeftRadius:Mt,borderTopRightRadius:Mt,borderBottomRightRadius:Mt,borderBottomLeftRadius:Mt,width:Mt,maxWidth:Mt,height:Mt,maxHeight:Mt,size:Mt,top:Mt,right:Mt,bottom:Mt,left:Mt,padding:Mt,paddingTop:Mt,paddingRight:Mt,paddingBottom:Mt,paddingLeft:Mt,margin:Mt,marginTop:Mt,marginRight:Mt,marginBottom:Mt,marginLeft:Mt,rotate:lo,rotateX:lo,rotateY:lo,rotateZ:lo,scale:af,scaleX:af,scaleY:af,scaleZ:af,skew:lo,skewX:lo,skewY:lo,distance:Mt,translateX:Mt,translateY:Mt,translateZ:Mt,x:Mt,y:Mt,z:Mt,perspective:Mt,transformPerspective:Mt,opacity:$u,originX:yk,originY:yk,originZ:Mt,zIndex:vk,fillOpacity:$u,strokeOpacity:$u,numOctaves:vk};function a_(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:l}=t;let u=!1,h=!1,f=!0;for(const p in e){const g=e[p];if($8(p)){s[p]=g;continue}const y=z8[p],_=B$(g,y);if(Za.has(p)){if(u=!0,o[p]=_,!f)continue;g!==(y.default||0)&&(f=!1)}else p.startsWith("origin")?(h=!0,l[p]=_):i[p]=_}if(e.transform||(u||r?i.transform=N$(t.transform,n,f,r):i.transform&&(i.transform="none")),h){const{originX:p="50%",originY:g="50%",originZ:y=0}=l;i.transformOrigin=`${p} ${g} ${y}`}}const l_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function q8(t,e,n){for(const r in e)!oi(e[r])&&!M8(r,n)&&(t[r]=e[r])}function M$({transformTemplate:t},e,n){return Y.useMemo(()=>{const r=l_();return a_(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function O$(t,e,n){const r=t.style||{},i={};return q8(i,r,t),Object.assign(i,M$(t,e,n)),t.transformValues?t.transformValues(i):i}function $$(t,e,n){const r={},i=O$(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const U$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||U$.has(t)}let V8=t=>!kp(t);function z$(t){t&&(V8=e=>e.startsWith("on")?!kp(e):t(e))}try{z$(require("@emotion/is-prop-valid").default)}catch{}function q$(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(V8(i)||n===!0&&kp(i)||!e&&!kp(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function wk(t,e,n){return typeof t=="string"?t:Mt.transform(e+n*t)}function V$(t,e,n){const r=wk(e,t.x,t.width),i=wk(n,t.y,t.height);return`${r} ${i}`}const H$={offset:"stroke-dashoffset",array:"stroke-dasharray"},W$={offset:"strokeDashoffset",array:"strokeDasharray"};function K$(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?H$:W$;t[s.offset]=Mt.transform(-r);const o=Mt.transform(e),l=Mt.transform(n);t[s.array]=`${o} ${l}`}function c_(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...h},f,p,g){if(a_(t,h,f,g),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:_,dimensions:w}=t;y.transform&&(w&&(_.transform=y.transform),delete y.transform),w&&(i!==void 0||s!==void 0||_.transform)&&(_.transformOrigin=V$(w,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),o!==void 0&&K$(y,o,l,u,!1)}const H8=()=>({...l_(),attrs:{}}),u_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function G$(t,e,n,r){const i=Y.useMemo(()=>{const s=H8();return c_(s,e,{enableHardwareAcceleration:!1},u_(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};q8(s,t.style,t),i.style={...s,...i.style}}return i}function Z$(t=!1){return(n,r,i,{latestValues:s},o)=>{const u=(o_(n)?G$:$$)(r,s,o,n),f={...q$(r,typeof n=="string",t),...u,ref:i},{children:p}=r,g=Y.useMemo(()=>oi(p)?p.get():p,[p]);return Y.createElement(n,{...f,children:g})}}function W8(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const K8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function G8(t,e,n,r){W8(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(K8.has(i)?i:n_(i),e.attrs[i])}function d_(t,e){const{style:n}=t,r={};for(const i in n)(oi(n[i])||e.style&&oi(e.style[i])||M8(i,t))&&(r[i]=n[i]);return r}function Z8(t,e){const n=d_(t,e);for(const r in t)if(oi(t[r])||oi(e[r])){const i=Qd.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function h_(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function Y8(t){const e=Y.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ep=t=>Array.isArray(t),Y$=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),X$=t=>Ep(t)?t[t.length-1]||0:t;function Rf(t){const e=oi(t)?t.get():t;return Y$(e)?e.toValue():e}function J$({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:Q$(r,i,s,t),renderState:e()};return n&&(o.mount=l=>n(r,l,o)),o}const X8=t=>(e,n)=>{const r=Y.useContext(Wm),i=Y.useContext(Km),s=()=>J$(t,e,r,i);return n?s():Y8(s)};function Q$(t,e,n,r){const i={},s=r(t,{});for(const g in s)i[g]=Rf(s[g]);let{initial:o,animate:l}=t;const u=Ym(t),h=I8(t);e&&h&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const p=f?l:o;return p&&typeof p!="boolean"&&!Zm(p)&&(Array.isArray(p)?p:[p]).forEach(y=>{const _=h_(t,y);if(!_)return;const{transitionEnd:w,transition:b,...k}=_;for(const x in k){let v=k[x];if(Array.isArray(v)){const C=f?v.length-1:0;v=v[C]}v!==null&&(i[x]=v)}for(const x in w)i[x]=w[x]}),i}const Kn=t=>t;class bk{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function eU(t){let e=new bk,n=new bk,r=0,i=!1,s=!1;const o=new WeakSet,l={schedule:(u,h=!1,f=!1)=>{const p=f&&i,g=p?e:n;return h&&o.add(u),g.add(u)&&p&&i&&(r=e.order.length),u},cancel:u=>{n.remove(u),o.delete(u)},process:u=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let h=0;h<r;h++){const f=e.order[h];f(u),o.has(f)&&(l.schedule(f),t())}i=!1,s&&(s=!1,l.process(u))}};return l}const lf=["prepare","read","update","preRender","render","postRender"],tU=40;function nU(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=lf.reduce((p,g)=>(p[g]=eU(()=>n=!0),p),{}),o=p=>s[p].process(i),l=()=>{const p=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(p-i.timestamp,tU),1),i.timestamp=p,i.isProcessing=!0,lf.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(l))},u=()=>{n=!0,r=!0,i.isProcessing||t(l)};return{schedule:lf.reduce((p,g)=>{const y=s[g];return p[g]=(_,w=!1,b=!1)=>(n||u(),y.schedule(_,w,b)),p},{}),cancel:p=>lf.forEach(g=>s[g].cancel(p)),state:i,steps:s}}const{schedule:An,cancel:Xs,state:Ar,steps:vx}=nU(typeof requestAnimationFrame<"u"?requestAnimationFrame:Kn,!0),rU={useVisualState:X8({scrapeMotionValuesFromProps:Z8,createRenderState:H8,onMount:(t,e,{renderState:n,latestValues:r})=>{An.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),An.render(()=>{c_(n,r,{enableHardwareAcceleration:!1},u_(e.tagName),t.transformTemplate),G8(e,n)})}})},iU={useVisualState:X8({scrapeMotionValuesFromProps:d_,createRenderState:l_})};function sU(t,{forwardMotionProps:e=!1},n,r){return{...o_(t)?rU:iU,preloadedFeatures:n,useRender:Z$(e),createVisualElement:r,Component:t}}function Ls(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const J8=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Jm(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const oU=t=>e=>J8(e)&&t(e,Jm(e));function zs(t,e,n,r){return Ls(t,e,oU(n),r)}const aU=(t,e)=>n=>e(t(n)),Ro=(...t)=>t.reduce(aU);function Q8(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const _k=Q8("dragHorizontal"),Sk=Q8("dragVertical");function eT(t){let e=!1;if(t==="y")e=Sk();else if(t==="x")e=_k();else{const n=_k(),r=Sk();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function tT(){const t=eT(!0);return t?(t(),!1):!0}class Jo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function kk(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||tT())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[r]&&An.update(()=>l[r](s,o))};return zs(t.current,n,i,{passive:!t.getProps()[r]})}class lU extends Jo{mount(){this.unmount=Ro(kk(this.node,!0),kk(this.node,!1))}unmount(){}}class cU extends Jo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ro(Ls(this.node.current,"focus",()=>this.onFocus()),Ls(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const nT=(t,e)=>e?t===e?!0:nT(t,e.parentElement):!1;function wx(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Jm(n))}class uU extends Jo{constructor(){super(...arguments),this.removeStartListeners=Kn,this.removeEndListeners=Kn,this.removeAccessibleListeners=Kn,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=zs(window,"pointerup",(l,u)=>{if(!this.checkPressEnd())return;const{onTap:h,onTapCancel:f,globalTapTarget:p}=this.node.getProps();An.update(()=>{!p&&!nT(this.node.current,l.target)?f&&f(l,u):h&&h(l,u)})},{passive:!(r.onTap||r.onPointerUp)}),o=zs(window,"pointercancel",(l,u)=>this.cancelPress(l,u),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ro(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||wx("up",(u,h)=>{const{onTap:f}=this.node.getProps();f&&An.update(()=>f(u,h))})};this.removeEndListeners(),this.removeEndListeners=Ls(this.node.current,"keyup",o),wx("down",(l,u)=>{this.startPress(l,u)})},n=Ls(this.node.current,"keydown",e),r=()=>{this.isPressing&&wx("cancel",(s,o)=>this.cancelPress(s,o))},i=Ls(this.node.current,"blur",r);this.removeAccessibleListeners=Ro(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&An.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!tT()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&An.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=zs(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Ls(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ro(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Yv=new WeakMap,bx=new WeakMap,dU=t=>{const e=Yv.get(t.target);e&&e(t)},hU=t=>{t.forEach(dU)};function fU({root:t,...e}){const n=t||document;bx.has(n)||bx.set(n,{});const r=bx.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(hU,{root:t,...e})),r[i]}function pU(t,e,n){const r=fU(e);return Yv.set(t,n),r.observe(t),()=>{Yv.delete(t),r.unobserve(t)}}const mU={some:0,all:1};class gU extends Jo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:mU[i]},l=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),g=h?f:p;g&&g(u)};return pU(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(xU(e,n))&&this.startObserver()}unmount(){}}function xU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const yU={inView:{Feature:gU},tap:{Feature:uU},focus:{Feature:cU},hover:{Feature:lU}};function rT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function vU(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function wU(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Qm(t,e,n){const r=t.getProps();return h_(r,e,n!==void 0?n:r.custom,vU(t),wU(t))}let Ap=Kn;const Ta=t=>t*1e3,qs=t=>t/1e3,bU={current:!1},iT=t=>Array.isArray(t)&&typeof t[0]=="number";function sT(t){return!!(!t||typeof t=="string"&&oT[t]||iT(t)||Array.isArray(t)&&t.every(sT))}const ku=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,oT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ku([0,.65,.55,1]),circOut:ku([.55,0,1,.45]),backIn:ku([.31,.01,.66,-.59]),backOut:ku([.33,1.53,.69,.99])};function aT(t){if(t)return iT(t)?ku(t):Array.isArray(t)?t.map(aT):oT[t]}function _U(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:l,times:u}={}){const h={[e]:n};u&&(h.offset=u);const f=aT(l);return Array.isArray(f)&&(h.easing=f),t.animate(h,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function SU(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const lT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,kU=1e-7,EU=12;function AU(t,e,n,r,i){let s,o,l=0;do o=e+(n-e)/2,s=lT(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>kU&&++l<EU);return o}function nh(t,e,n,r){if(t===e&&n===r)return Kn;const i=s=>AU(s,0,1,t,n);return s=>s===0||s===1?s:lT(i(s),e,r)}const CU=nh(.42,0,1,1),jU=nh(0,0,.58,1),cT=nh(.42,0,.58,1),TU=t=>Array.isArray(t)&&typeof t[0]!="number",uT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,dT=t=>e=>1-t(1-e),f_=t=>1-Math.sin(Math.acos(t)),hT=dT(f_),PU=uT(f_),fT=nh(.33,1.53,.69,.99),p_=dT(fT),FU=uT(p_),NU=t=>(t*=2)<1?.5*p_(t):.5*(2-Math.pow(2,-10*(t-1))),Ek={linear:Kn,easeIn:CU,easeInOut:cT,easeOut:jU,circIn:f_,circInOut:PU,circOut:hT,backIn:p_,backInOut:FU,backOut:fT,anticipate:NU},Ak=t=>{if(Array.isArray(t)){Ap(t.length===4);const[e,n,r,i]=t;return nh(e,n,r,i)}else if(typeof t=="string")return Ap(Ek[t]!==void 0),Ek[t];return t},m_=(t,e)=>n=>!!(eh(n)&&D$.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),pT=(t,e,n)=>r=>{if(!eh(r))return r;const[i,s,o,l]=r.match(Xm);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},RU=t=>$o(0,255,t),_x={...Ya,transform:t=>Math.round(RU(t))},Sa={test:m_("rgb","red"),parse:pT("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+_x.transform(t)+", "+_x.transform(e)+", "+_x.transform(n)+", "+Uu($u.transform(r))+")"};function BU(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Xv={test:m_("#"),parse:BU,transform:Sa.transform},$l={test:m_("hsl","hue"),parse:pT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ps.transform(Uu(e))+", "+ps.transform(Uu(n))+", "+Uu($u.transform(r))+")"},Dr={test:t=>Sa.test(t)||Xv.test(t)||$l.test(t),parse:t=>Sa.test(t)?Sa.parse(t):$l.test(t)?$l.parse(t):Xv.parse(t),transform:t=>eh(t)?t:t.hasOwnProperty("red")?Sa.transform(t):$l.transform(t)},Ln=(t,e,n)=>-n*t+n*e+t;function Sx(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function DU({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;i=Sx(u,l,t+1/3),s=Sx(u,l,t),o=Sx(u,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const kx=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},IU=[Xv,Sa,$l],LU=t=>IU.find(e=>e.test(t));function Ck(t){const e=LU(t);let n=e.parse(t);return e===$l&&(n=DU(n)),n}const mT=(t,e)=>{const n=Ck(t),r=Ck(e),i={...n};return s=>(i.red=kx(n.red,r.red,s),i.green=kx(n.green,r.green,s),i.blue=kx(n.blue,r.blue,s),i.alpha=Ln(n.alpha,r.alpha,s),Sa.transform(i))};function MU(t){var e,n;return isNaN(t)&&eh(t)&&(((e=t.match(Xm))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(U8))===null||n===void 0?void 0:n.length)||0)>0}const gT={regex:R$,countKey:"Vars",token:"${v}",parse:Kn},xT={regex:U8,countKey:"Colors",token:"${c}",parse:Dr.parse},yT={regex:Xm,countKey:"Numbers",token:"${n}",parse:Ya.parse};function Ex(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function Cp(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Ex(n,gT),Ex(n,xT),Ex(n,yT),n}function vT(t){return Cp(t).values}function wT(t){const{values:e,numColors:n,numVars:r,tokenised:i}=Cp(t),s=e.length;return o=>{let l=i;for(let u=0;u<s;u++)u<r?l=l.replace(gT.token,o[u]):u<r+n?l=l.replace(xT.token,Dr.transform(o[u])):l=l.replace(yT.token,Uu(o[u]));return l}}const OU=t=>typeof t=="number"?0:t;function $U(t){const e=vT(t);return wT(t)(e.map(OU))}const Uo={test:MU,parse:vT,createTransformer:wT,getAnimatableNone:$U},bT=(t,e)=>n=>`${n>0?e:t}`;function _T(t,e){return typeof t=="number"?n=>Ln(t,e,n):Dr.test(t)?mT(t,e):t.startsWith("var(")?bT(t,e):kT(t,e)}const ST=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>_T(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},UU=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=_T(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},kT=(t,e)=>{const n=Uo.createTransformer(e),r=Cp(t),i=Cp(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Ro(ST(r.values,i.values),n):bT(t,e)},wd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},jk=(t,e)=>n=>Ln(t,e,n);function zU(t){return typeof t=="number"?jk:typeof t=="string"?Dr.test(t)?mT:kT:Array.isArray(t)?ST:typeof t=="object"?UU:jk}function qU(t,e,n){const r=[],i=n||zU(t[0]),s=t.length-1;for(let o=0;o<s;o++){let l=i(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||Kn:e;l=Ro(u,l)}r.push(l)}return r}function ET(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Ap(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=qU(e,r,i),l=o.length,u=h=>{let f=0;if(l>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const p=wd(t[f],t[f+1],h);return o[f](p)};return n?h=>u($o(t[0],t[s-1],h)):u}function VU(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=wd(0,e,r);t.push(Ln(n,1,i))}}function HU(t){const e=[0];return VU(e,t.length-1),e}function WU(t,e){return t.map(n=>n*e)}function KU(t,e){return t.map(()=>e||cT).splice(0,t.length-1)}function jp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=TU(r)?r.map(Ak):Ak(r),s={done:!1,value:e[0]},o=WU(n&&n.length===e.length?n:HU(e),t),l=ET(o,e,{ease:Array.isArray(i)?i:KU(e,i)});return{calculatedDuration:t,next:u=>(s.value=l(u),s.done=u>=t,s)}}function AT(t,e){return e?t*(1e3/e):0}const GU=5;function CT(t,e,n){const r=Math.max(e-GU,0);return AT(n-t(r),e-r)}const Ax=.001,ZU=.01,YU=10,XU=.05,JU=1;function QU({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=$o(XU,JU,o),t=$o(ZU,YU,qs(t)),o<1?(i=h=>{const f=h*o,p=f*t,g=f-n,y=Jv(h,o),_=Math.exp(-p);return Ax-g/y*_},s=h=>{const p=h*o*t,g=p*n+n,y=Math.pow(o,2)*Math.pow(h,2)*t,_=Math.exp(-p),w=Jv(Math.pow(h,2),o);return(-i(h)+Ax>0?-1:1)*((g-y)*_)/w}):(i=h=>{const f=Math.exp(-h*t),p=(h-n)*t+1;return-Ax+f*p},s=h=>{const f=Math.exp(-h*t),p=(n-h)*(t*t);return f*p});const l=5/t,u=tz(i,s,l);if(t=Ta(t),isNaN(u))return{stiffness:100,damping:10,duration:t};{const h=Math.pow(u,2)*r;return{stiffness:h,damping:o*2*Math.sqrt(r*h),duration:t}}}const ez=12;function tz(t,e,n){let r=n;for(let i=1;i<ez;i++)r=r-t(r)/e(r);return r}function Jv(t,e){return t*Math.sqrt(1-e*e)}const nz=["duration","bounce"],rz=["stiffness","damping","mass"];function Tk(t,e){return e.some(n=>t[n]!==void 0)}function iz(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Tk(t,rz)&&Tk(t,nz)){const n=QU(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function jT({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:l,damping:u,mass:h,duration:f,velocity:p,isResolvedFromDuration:g}=iz({...r,velocity:-qs(r.velocity||0)}),y=p||0,_=u/(2*Math.sqrt(l*h)),w=s-i,b=qs(Math.sqrt(l/h)),k=Math.abs(w)<5;n||(n=k?.01:2),e||(e=k?.005:.5);let x;if(_<1){const v=Jv(b,_);x=C=>{const F=Math.exp(-_*b*C);return s-F*((y+_*b*w)/v*Math.sin(v*C)+w*Math.cos(v*C))}}else if(_===1)x=v=>s-Math.exp(-b*v)*(w+(y+b*w)*v);else{const v=b*Math.sqrt(_*_-1);x=C=>{const F=Math.exp(-_*b*C),j=Math.min(v*C,300);return s-F*((y+_*b*w)*Math.sinh(j)+v*w*Math.cosh(j))/v}}return{calculatedDuration:g&&f||null,next:v=>{const C=x(v);if(g)o.done=v>=f;else{let F=y;v!==0&&(_<1?F=CT(x,v,C):F=0);const j=Math.abs(F)<=n,R=Math.abs(s-C)<=e;o.done=j&&R}return o.value=o.done?s:C,o}}}function Pk({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:u,restDelta:h=.5,restSpeed:f}){const p=t[0],g={done:!1,value:p},y=z=>l!==void 0&&z<l||u!==void 0&&z>u,_=z=>l===void 0?u:u===void 0||Math.abs(l-z)<Math.abs(u-z)?l:u;let w=n*e;const b=p+w,k=o===void 0?b:o(b);k!==b&&(w=k-p);const x=z=>-w*Math.exp(-z/r),v=z=>k+x(z),C=z=>{const Q=x(z),$=v(z);g.done=Math.abs(Q)<=h,g.value=g.done?k:$};let F,j;const R=z=>{y(g.value)&&(F=z,j=jT({keyframes:[g.value,_(g.value)],velocity:CT(v,z,g.value),damping:i,stiffness:s,restDelta:h,restSpeed:f}))};return R(0),{calculatedDuration:null,next:z=>{let Q=!1;return!j&&F===void 0&&(Q=!0,C(z),R(z)),F!==void 0&&z>F?j.next(z-F):(!Q&&C(z),g)}}}const sz=t=>{const e=({timestamp:n})=>t(n);return{start:()=>An.update(e,!0),stop:()=>Xs(e),now:()=>Ar.isProcessing?Ar.timestamp:performance.now()}},Fk=2e4;function Nk(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Fk;)e+=n,r=t.next(e);return e>=Fk?1/0:e}const oz={decay:Pk,inertia:Pk,tween:jp,keyframes:jp,spring:jT};function Tp({autoplay:t=!0,delay:e=0,driver:n=sz,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",onPlay:u,onStop:h,onComplete:f,onUpdate:p,...g}){let y=1,_=!1,w,b;const k=()=>{b=new Promise(le=>{w=le})};k();let x;const v=oz[i]||jp;let C;v!==jp&&typeof r[0]!="number"&&(C=ET([0,100],r,{clamp:!1}),r=[0,100]);const F=v({...g,keyframes:r});let j;l==="mirror"&&(j=v({...g,keyframes:[...r].reverse(),velocity:-(g.velocity||0)}));let R="idle",z=null,Q=null,$=null;F.calculatedDuration===null&&s&&(F.calculatedDuration=Nk(F));const{calculatedDuration:X}=F;let te=1/0,ae=1/0;X!==null&&(te=X+o,ae=te*(s+1)-o);let Ae=0;const he=le=>{if(Q===null)return;y>0&&(Q=Math.min(Q,le)),y<0&&(Q=Math.min(le-ae/y,Q)),z!==null?Ae=z:Ae=Math.round(le-Q)*y;const pe=Ae-e*(y>=0?1:-1),be=y>=0?pe<0:pe>ae;Ae=Math.max(pe,0),R==="finished"&&z===null&&(Ae=ae);let ie=Ae,Te=F;if(s){const We=Math.min(Ae,ae)/te;let V=Math.floor(We),ee=We%1;!ee&&We>=1&&(ee=1),ee===1&&V--,V=Math.min(V,s+1),!!(V%2)&&(l==="reverse"?(ee=1-ee,o&&(ee-=o/te)):l==="mirror"&&(Te=j)),ie=$o(0,1,ee)*te}const Le=be?{done:!1,value:r[0]}:Te.next(ie);C&&(Le.value=C(Le.value));let{done:Ze}=Le;!be&&X!==null&&(Ze=y>=0?Ae>=ae:Ae<=0);const Be=z===null&&(R==="finished"||R==="running"&&Ze);return p&&p(Le.value),Be&&me(),Le},Ee=()=>{x&&x.stop(),x=void 0},Ne=()=>{R="idle",Ee(),w(),k(),Q=$=null},me=()=>{R="finished",f&&f(),Ee(),w()},ge=()=>{if(_)return;x||(x=n(he));const le=x.now();u&&u(),z!==null?Q=le-z:(!Q||R==="finished")&&(Q=le),R==="finished"&&k(),$=Q,z=null,R="running",x.start()};t&&ge();const fe={then(le,pe){return b.then(le,pe)},get time(){return qs(Ae)},set time(le){le=Ta(le),Ae=le,z!==null||!x||y===0?z=le:Q=x.now()-le/y},get duration(){const le=F.calculatedDuration===null?Nk(F):F.calculatedDuration;return qs(le)},get speed(){return y},set speed(le){le===y||!x||(y=le,fe.time=qs(Ae))},get state(){return R},play:ge,pause:()=>{R="paused",z=Ae},stop:()=>{_=!0,R!=="idle"&&(R="idle",h&&h(),Ne())},cancel:()=>{$!==null&&he($),Ne()},complete:()=>{R="finished"},sample:le=>(Q=0,he(le))};return fe}function az(t){let e;return()=>(e===void 0&&(e=t()),e)}const lz=az(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),cz=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),cf=10,uz=2e4,dz=(t,e)=>e.type==="spring"||t==="backgroundColor"||!sT(e.ease);function hz(t,e,{onUpdate:n,onComplete:r,...i}){if(!(lz()&&cz.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,l,u,h=!1;const f=()=>{u=new Promise(v=>{l=v})};f();let{keyframes:p,duration:g=300,ease:y,times:_}=i;if(dz(e,i)){const v=Tp({...i,repeat:0,delay:0});let C={done:!1,value:p[0]};const F=[];let j=0;for(;!C.done&&j<uz;)C=v.sample(j),F.push(C.value),j+=cf;_=void 0,p=F,g=j-cf,y="linear"}const w=_U(t.owner.current,e,p,{...i,duration:g,ease:y,times:_}),b=()=>{h=!1,w.cancel()},k=()=>{h=!0,An.update(b),l(),f()};return w.onfinish=()=>{h||(t.set(SU(p,i)),r&&r(),k())},{then(v,C){return u.then(v,C)},attachTimeline(v){return w.timeline=v,w.onfinish=null,Kn},get time(){return qs(w.currentTime||0)},set time(v){w.currentTime=Ta(v)},get speed(){return w.playbackRate},set speed(v){w.playbackRate=v},get duration(){return qs(g)},play:()=>{o||(w.play(),Xs(b))},pause:()=>w.pause(),stop:()=>{if(o=!0,w.playState==="idle")return;const{currentTime:v}=w;if(v){const C=Tp({...i,autoplay:!1});t.setWithVelocity(C.sample(v-cf).value,C.sample(v).value,cf)}k()},complete:()=>{h||w.finish()},cancel:k}}function fz({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Kn,pause:Kn,stop:Kn,then:s=>(s(),Promise.resolve()),cancel:Kn,complete:Kn});return e?Tp({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const pz={type:"spring",stiffness:500,damping:25,restSpeed:10},mz=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),gz={type:"keyframes",duration:.8},xz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yz=(t,{keyframes:e})=>e.length>2?gz:Za.has(t)?t.startsWith("scale")?mz(e[1]):pz:xz,Qv=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Uo.test(e)||e==="0")&&!e.startsWith("url(")),vz=new Set(["brightness","contrast","saturate","opacity"]);function wz(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Xm)||[];if(!r)return t;const i=n.replace(r,"");let s=vz.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const bz=/([a-z-]*)\(.*?\)/g,ew={...Uo,getAnimatableNone:t=>{const e=t.match(bz);return e?e.map(wz).join(" "):t}},_z={...z8,color:Dr,backgroundColor:Dr,outlineColor:Dr,fill:Dr,stroke:Dr,borderColor:Dr,borderTopColor:Dr,borderRightColor:Dr,borderBottomColor:Dr,borderLeftColor:Dr,filter:ew,WebkitFilter:ew},g_=t=>_z[t];function TT(t,e){let n=g_(t);return n!==ew&&(n=Uo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const PT=t=>/^0[^.\s]+$/.test(t);function Sz(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||PT(t)}function kz(t,e,n,r){const i=Qv(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let l;const u=[];for(let h=0;h<s.length;h++)s[h]===null&&(s[h]=h===0?o:s[h-1]),Sz(s[h])&&u.push(h),typeof s[h]=="string"&&s[h]!=="none"&&s[h]!=="0"&&(l=s[h]);if(i&&u.length&&l)for(let h=0;h<u.length;h++){const f=u[h];s[f]=TT(e,l)}return s}function Ez({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:u,elapsed:h,...f}){return!!Object.keys(f).length}function x_(t,e){return t[e]||t.default||t}const Az={skipAnimations:!1},y_=(t,e,n,r={})=>i=>{const s=x_(r,t)||{},o=s.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Ta(o);const u=kz(e,t,n,s),h=u[0],f=u[u.length-1],p=Qv(t,h),g=Qv(t,f);let y={keyframes:u,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-l,onUpdate:_=>{e.set(_),s.onUpdate&&s.onUpdate(_)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(Ez(s)||(y={...y,...yz(t,y)}),y.duration&&(y.duration=Ta(y.duration)),y.repeatDelay&&(y.repeatDelay=Ta(y.repeatDelay)),!p||!g||bU.current||s.type===!1||Az.skipAnimations)return fz(y);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const _=hz(e,t,y);if(_)return _}return Tp(y)};function Pp(t){return!!(oi(t)&&t.add)}const FT=t=>/^\-?\d*\.?\d+$/.test(t);function v_(t,e){t.indexOf(e)===-1&&t.push(e)}function w_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class b_{constructor(){this.subscriptions=[]}add(e){return v_(this.subscriptions,e),()=>w_(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Cz=t=>!isNaN(parseFloat(t));class jz{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Ar;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,An.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>An.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Cz(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new b_);const r=this.events[e].add(n);return e==="change"?()=>{r(),An.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?AT(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mc(t,e){return new jz(t,e)}const NT=t=>e=>e.test(t),Tz={test:t=>t==="auto",parse:t=>t},RT=[Ya,Mt,ps,lo,L$,I$,Tz],cu=t=>RT.find(NT(t)),Pz=[...RT,Dr,Uo],Fz=t=>Pz.find(NT(t));function Nz(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,mc(n))}function Rz(t,e){const n=Qm(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const l=X$(s[o]);Nz(t,o,l)}}function Bz(t,e,n){var r,i;const s=Object.keys(e).filter(l=>!t.hasValue(l)),o=s.length;if(o)for(let l=0;l<o;l++){const u=s[l],h=e[u];let f=null;Array.isArray(h)&&(f=h[0]),f===null&&(f=(i=(r=n[u])!==null&&r!==void 0?r:t.readValue(u))!==null&&i!==void 0?i:e[u]),f!=null&&(typeof f=="string"&&(FT(f)||PT(f))?f=parseFloat(f):!Fz(f)&&Uo.test(h)&&(f=TT(u,h)),t.addValue(u,mc(f,{owner:t})),n[u]===void 0&&(n[u]=f),f!==null&&t.setBaseTarget(u,f))}}function Dz(t,e){return e?(e[t]||e.default||e).from:void 0}function Iz(t,e,n){const r={};for(const i in t){const s=Dz(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function Lz({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Mz(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function BT(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...l}=t.makeTargetAnimatable(e);const u=t.getValue("willChange");r&&(s=r);const h=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const p in l){const g=t.getValue(p),y=l[p];if(!g||y===void 0||f&&Lz(f,p))continue;const _={delay:n,elapsed:0,...x_(s||{},p)};if(window.HandoffAppearAnimations){const k=t.getProps()[D8];if(k){const x=window.HandoffAppearAnimations(k,p,g,An);x!==null&&(_.elapsed=x,_.isHandoff=!0)}}let w=!_.isHandoff&&!Mz(g,y);if(_.type==="spring"&&(g.getVelocity()||_.velocity)&&(w=!1),g.animation&&(w=!1),w)continue;g.start(y_(p,g,y,t.shouldReduceMotion&&Za.has(p)?{type:!1}:_));const b=g.animation;Pp(u)&&(u.add(p),b.then(()=>u.remove(p))),h.push(b)}return o&&Promise.all(h).then(()=>{o&&Rz(t,o)}),h}function tw(t,e,n={}){const r=Qm(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(BT(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:p}=i;return Oz(t,e,h+u,f,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,h]=l==="beforeChildren"?[s,o]:[o,s];return u().then(()=>h())}else return Promise.all([s(),o(n.delay)])}function Oz(t,e,n=0,r=0,i=1,s){const o=[],l=(t.variantChildren.size-1)*r,u=i===1?(h=0)=>h*r:(h=0)=>l-h*r;return Array.from(t.variantChildren).sort($z).forEach((h,f)=>{h.notify("AnimationStart",e),o.push(tw(h,e,{...s,delay:n+u(f)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(o)}function $z(t,e){return t.sortNodePosition(e)}function Uz(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>tw(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=tw(t,e,n);else{const i=typeof e=="function"?Qm(t,e,n.custom):e;r=Promise.all(BT(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const zz=[...r_].reverse(),qz=r_.length;function Vz(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Uz(t,n,r)))}function Hz(t){let e=Vz(t);const n=Kz();let r=!0;const i=(u,h)=>{const f=Qm(t,h);if(f){const{transition:p,transitionEnd:g,...y}=f;u={...u,...y,...g}}return u};function s(u){e=u(t)}function o(u,h){const f=t.getProps(),p=t.getVariantContext(!0)||{},g=[],y=new Set;let _={},w=1/0;for(let k=0;k<qz;k++){const x=zz[k],v=n[x],C=f[x]!==void 0?f[x]:p[x],F=yd(C),j=x===h?v.isActive:null;j===!1&&(w=k);let R=C===p[x]&&C!==f[x]&&F;if(R&&r&&t.manuallyAnimateOnMount&&(R=!1),v.protectedKeys={..._},!v.isActive&&j===null||!C&&!v.prevProp||Zm(C)||typeof C=="boolean")continue;let Q=Wz(v.prevProp,C)||x===h&&v.isActive&&!R&&F||k>w&&F,$=!1;const X=Array.isArray(C)?C:[C];let te=X.reduce(i,{});j===!1&&(te={});const{prevResolvedValues:ae={}}=v,Ae={...ae,...te},he=Ee=>{Q=!0,y.has(Ee)&&($=!0,y.delete(Ee)),v.needsAnimating[Ee]=!0};for(const Ee in Ae){const Ne=te[Ee],me=ae[Ee];if(_.hasOwnProperty(Ee))continue;let ge=!1;Ep(Ne)&&Ep(me)?ge=!rT(Ne,me):ge=Ne!==me,ge?Ne!==void 0?he(Ee):y.add(Ee):Ne!==void 0&&y.has(Ee)?he(Ee):v.protectedKeys[Ee]=!0}v.prevProp=C,v.prevResolvedValues=te,v.isActive&&(_={..._,...te}),r&&t.blockInitialAnimation&&(Q=!1),Q&&(!R||$)&&g.push(...X.map(Ee=>({animation:Ee,options:{type:x,...u}})))}if(y.size){const k={};y.forEach(x=>{const v=t.getBaseTarget(x);v!==void 0&&(k[x]=v)}),g.push({animation:k})}let b=!!g.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(g):Promise.resolve()}function l(u,h,f){var p;if(n[u].isActive===h)return Promise.resolve();(p=t.variantChildren)===null||p===void 0||p.forEach(y=>{var _;return(_=y.animationState)===null||_===void 0?void 0:_.setActive(u,h)}),n[u].isActive=h;const g=o(f,u);for(const y in n)n[y].protectedKeys={};return g}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>n}}function Wz(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!rT(e,t):!1}function oa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Kz(){return{animate:oa(!0),whileInView:oa(),whileHover:oa(),whileTap:oa(),whileDrag:oa(),whileFocus:oa(),exit:oa()}}class Gz extends Jo{constructor(e){super(e),e.animationState||(e.animationState=Hz(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Zm(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Zz=0;class Yz extends Jo{constructor(){super(...arguments),this.id=Zz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Xz={animation:{Feature:Gz},exit:{Feature:Yz}},Rk=(t,e)=>Math.abs(t-e);function Jz(t,e){const n=Rk(t.x,e.x),r=Rk(t.y,e.y);return Math.sqrt(n**2+r**2)}class DT{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=jx(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,y=Jz(p.offset,{x:0,y:0})>=3;if(!g&&!y)return;const{point:_}=p,{timestamp:w}=Ar;this.history.push({..._,timestamp:w});const{onStart:b,onMove:k}=this.handlers;g||(b&&b(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Cx(g,this.transformPagePoint),An.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:y,onSessionEnd:_,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=jx(p.type==="pointercancel"?this.lastMoveEventInfo:Cx(g,this.transformPagePoint),this.history);this.startEvent&&y&&y(p,b),_&&_(p,b)},!J8(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Jm(e),l=Cx(o,this.transformPagePoint),{point:u}=l,{timestamp:h}=Ar;this.history=[{...u,timestamp:h}];const{onSessionStart:f}=n;f&&f(e,jx(l,this.history)),this.removeListeners=Ro(zs(this.contextWindow,"pointermove",this.handlePointerMove),zs(this.contextWindow,"pointerup",this.handlePointerUp),zs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Xs(this.updatePoint)}}function Cx(t,e){return e?{point:e(t.point)}:t}function Bk(t,e){return{x:t.x-e.x,y:t.y-e.y}}function jx({point:t},e){return{point:t,delta:Bk(t,IT(e)),offset:Bk(t,Qz(e)),velocity:eq(e,.1)}}function Qz(t){return t[0]}function IT(t){return t[t.length-1]}function eq(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=IT(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ta(e)));)n--;if(!r)return{x:0,y:0};const s=qs(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function mi(t){return t.max-t.min}function nw(t,e=0,n=.01){return Math.abs(t-e)<=n}function Dk(t,e,n,r=.5){t.origin=r,t.originPoint=Ln(e.min,e.max,t.origin),t.scale=mi(n)/mi(e),(nw(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ln(n.min,n.max,t.origin)-t.originPoint,(nw(t.translate)||isNaN(t.translate))&&(t.translate=0)}function zu(t,e,n,r){Dk(t.x,e.x,n.x,r?r.originX:void 0),Dk(t.y,e.y,n.y,r?r.originY:void 0)}function Ik(t,e,n){t.min=n.min+e.min,t.max=t.min+mi(e)}function tq(t,e,n){Ik(t.x,e.x,n.x),Ik(t.y,e.y,n.y)}function Lk(t,e,n){t.min=e.min-n.min,t.max=t.min+mi(e)}function qu(t,e,n){Lk(t.x,e.x,n.x),Lk(t.y,e.y,n.y)}function nq(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ln(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ln(n,t,r.max):Math.min(t,n)),t}function Mk(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function rq(t,{top:e,left:n,bottom:r,right:i}){return{x:Mk(t.x,n,i),y:Mk(t.y,e,r)}}function Ok(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function iq(t,e){return{x:Ok(t.x,e.x),y:Ok(t.y,e.y)}}function sq(t,e){let n=.5;const r=mi(t),i=mi(e);return i>r?n=wd(e.min,e.max-r,t.min):r>i&&(n=wd(t.min,t.max-i,e.min)),$o(0,1,n)}function oq(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const rw=.35;function aq(t=rw){return t===!1?t=0:t===!0&&(t=rw),{x:$k(t,"left","right"),y:$k(t,"top","bottom")}}function $k(t,e,n){return{min:Uk(t,e),max:Uk(t,n)}}function Uk(t,e){return typeof t=="number"?t:t[e]||0}const zk=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ul=()=>({x:zk(),y:zk()}),qk=()=>({min:0,max:0}),Jn=()=>({x:qk(),y:qk()});function Si(t){return[t("x"),t("y")]}function LT({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function lq({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function cq(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Tx(t){return t===void 0||t===1}function iw({scale:t,scaleX:e,scaleY:n}){return!Tx(t)||!Tx(e)||!Tx(n)}function ua(t){return iw(t)||MT(t)||t.z||t.rotate||t.rotateX||t.rotateY}function MT(t){return Vk(t.x)||Vk(t.y)}function Vk(t){return t&&t!=="0%"}function Fp(t,e,n){const r=t-n,i=e*r;return n+i}function Hk(t,e,n,r,i){return i!==void 0&&(t=Fp(t,i,r)),Fp(t,n,r)+e}function sw(t,e=0,n=1,r,i){t.min=Hk(t.min,e,n,r,i),t.max=Hk(t.max,e,n,r,i)}function OT(t,{x:e,y:n}){sw(t.x,e.translate,e.scale,e.originPoint),sw(t.y,n.translate,n.scale,n.originPoint)}function uq(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let l=0;l<i;l++){s=n[l],o=s.projectionDelta;const u=s.instance;u&&u.style&&u.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&zl(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,OT(t,o)),r&&ua(s.latestValues)&&zl(t,s.latestValues))}e.x=Wk(e.x),e.y=Wk(e.y)}function Wk(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function fo(t,e){t.min=t.min+e,t.max=t.max+e}function Kk(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Ln(t.min,t.max,s);sw(t,e[n],e[r],o,e.scale)}const dq=["x","scaleX","originX"],hq=["y","scaleY","originY"];function zl(t,e){Kk(t.x,e,dq),Kk(t.y,e,hq)}function $T(t,e){return LT(cq(t.getBoundingClientRect(),e))}function fq(t,e,n){const r=$T(t,n),{scroll:i}=e;return i&&(fo(r.x,i.offset.x),fo(r.y,i.offset.y)),r}const UT=({current:t})=>t?t.ownerDocument.defaultView:null,pq=new WeakMap;class mq{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Jn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Jm(f,"page").point)},s=(f,p)=>{const{drag:g,dragPropagation:y,onDragStart:_}=this.getProps();if(g&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=eT(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Si(b=>{let k=this.getAxisMotionValue(b).get()||0;if(ps.test(k)){const{projection:x}=this.visualElement;if(x&&x.layout){const v=x.layout.layoutBox[b];v&&(k=mi(v)*(parseFloat(k)/100))}}this.originPoint[b]=k}),_&&An.update(()=>_(f,p),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(f,p)=>{const{dragPropagation:g,dragDirectionLock:y,onDirectionLock:_,onDrag:w}=this.getProps();if(!g&&!this.openGlobalLock)return;const{offset:b}=p;if(y&&this.currentDirection===null){this.currentDirection=gq(b),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",p.point,b),this.updateAxis("y",p.point,b),this.visualElement.render(),w&&w(f,p)},l=(f,p)=>this.stop(f,p),u=()=>Si(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new DT(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:UT(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&An.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!uf(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=nq(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Ol(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=rq(i.layoutBox,n):this.constraints=!1,this.elastic=aq(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Si(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=oq(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ol(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=fq(r,i.root,this.visualElement.getTransformPagePoint());let o=iq(i.layout.layoutBox,s);if(n){const l=n(lq(o));this.hasMutatedConstraints=!!l,l&&(o=LT(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},h=Si(f=>{if(!uf(f,n,this.currentDirection))return;let p=u&&u[f]||{};o&&(p={min:0,max:0});const g=i?200:1e6,y=i?40:1e7,_={type:"inertia",velocity:r?e[f]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(f,_)});return Promise.all(h).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(y_(e,r,0,n))}stopAnimation(){Si(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Si(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Si(n=>{const{drag:r}=this.getProps();if(!uf(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];s.set(e[n]-Ln(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ol(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Si(o=>{const l=this.getAxisMotionValue(o);if(l){const u=l.get();i[o]=sq({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Si(o=>{if(!uf(o,e,null))return;const l=this.getAxisMotionValue(o),{min:u,max:h}=this.constraints[o];l.set(Ln(u,h,i[o]))})}addListeners(){if(!this.visualElement.current)return;pq.set(this.visualElement,this);const e=this.visualElement.current,n=zs(e,"pointerdown",u=>{const{drag:h,dragListener:f=!0}=this.getProps();h&&f&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Ol(u)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Ls(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(Si(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=u[f].translate,p.set(p.get()+u[f].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=rw,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function uf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function gq(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class xq extends Jo{constructor(e){super(e),this.removeGroupControls=Kn,this.removeListeners=Kn,this.controls=new mq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Kn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Gk=t=>(e,n)=>{t&&An.update(()=>t(e,n))};class yq extends Jo{constructor(){super(...arguments),this.removePointerDownListener=Kn}onPointerDown(e){this.session=new DT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:UT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Gk(e),onStart:Gk(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&An.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=zs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function vq(){const t=Y.useContext(Km);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=Y.useId();return Y.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Bf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Zk(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const uu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Mt.test(t))t=parseFloat(t);else return t;const n=Zk(t,e.target.x),r=Zk(t,e.target.y);return`${n}% ${r}%`}},wq={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Uo.parse(t);if(i.length>5)return r;const s=Uo.createTransformer(t),o=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,u=n.y.scale*e.y;i[0+o]/=l,i[1+o]/=u;const h=Ln(l,u,.5);return typeof i[2+o]=="number"&&(i[2+o]/=h),typeof i[3+o]=="number"&&(i[3+o]/=h),s(i)}};class bq extends Do.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;T$(_q),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Bf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||An.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function zT(t){const[e,n]=vq(),r=Y.useContext(s_);return Do.createElement(bq,{...t,layoutGroup:r,switchLayoutGroup:Y.useContext(L8),isPresent:e,safeToRemove:n})}const _q={borderRadius:{...uu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:uu,borderTopRightRadius:uu,borderBottomLeftRadius:uu,borderBottomRightRadius:uu,boxShadow:wq},qT=["TopLeft","TopRight","BottomLeft","BottomRight"],Sq=qT.length,Yk=t=>typeof t=="string"?parseFloat(t):t,Xk=t=>typeof t=="number"||Mt.test(t);function kq(t,e,n,r,i,s){i?(t.opacity=Ln(0,n.opacity!==void 0?n.opacity:1,Eq(r)),t.opacityExit=Ln(e.opacity!==void 0?e.opacity:1,0,Aq(r))):s&&(t.opacity=Ln(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Sq;o++){const l=`border${qT[o]}Radius`;let u=Jk(e,l),h=Jk(n,l);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||Xk(u)===Xk(h)?(t[l]=Math.max(Ln(Yk(u),Yk(h),r),0),(ps.test(h)||ps.test(u))&&(t[l]+="%")):t[l]=h}(e.rotate||n.rotate)&&(t.rotate=Ln(e.rotate||0,n.rotate||0,r))}function Jk(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Eq=VT(0,.5,hT),Aq=VT(.5,.95,Kn);function VT(t,e,n){return r=>r<t?0:r>e?1:n(wd(t,e,r))}function Qk(t,e){t.min=e.min,t.max=e.max}function _i(t,e){Qk(t.x,e.x),Qk(t.y,e.y)}function eE(t,e,n,r,i){return t-=e,t=Fp(t,1/n,r),i!==void 0&&(t=Fp(t,1/i,r)),t}function Cq(t,e=0,n=1,r=.5,i,s=t,o=t){if(ps.test(e)&&(e=parseFloat(e),e=Ln(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Ln(s.min,s.max,r);t===s&&(l-=e),t.min=eE(t.min,e,n,l,i),t.max=eE(t.max,e,n,l,i)}function tE(t,e,[n,r,i],s,o){Cq(t,e[n],e[r],e[i],e.scale,s,o)}const jq=["x","scaleX","originX"],Tq=["y","scaleY","originY"];function nE(t,e,n,r){tE(t.x,e,jq,n?n.x:void 0,r?r.x:void 0),tE(t.y,e,Tq,n?n.y:void 0,r?r.y:void 0)}function rE(t){return t.translate===0&&t.scale===1}function HT(t){return rE(t.x)&&rE(t.y)}function Pq(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function WT(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function iE(t){return mi(t.x)/mi(t.y)}class Fq{constructor(){this.members=[]}add(e){v_(this.members,e),e.scheduleRender()}remove(e){if(w_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sE(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:u,rotateX:h,rotateY:f}=n;u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const Nq=(t,e)=>t.depth-e.depth;class Rq{constructor(){this.children=[],this.isDirty=!1}add(e){v_(this.children,e),this.isDirty=!0}remove(e){w_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Nq),this.isDirty=!1,this.children.forEach(e)}}function Bq(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Xs(r),t(s-e))};return An.read(r,!0),()=>Xs(r)}function Dq(t){window.MotionDebug&&window.MotionDebug.record(t)}function Iq(t){return t instanceof SVGElement&&t.tagName!=="svg"}function Lq(t,e,n){const r=oi(t)?t:mc(t);return r.start(y_("",r,e,n)),r.animation}const oE=["","X","Y","Z"],Mq={visibility:"hidden"},aE=1e3;let Oq=0;const da={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function KT({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=Oq++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,da.totalNodes=da.resolvedTargetDeltas=da.recalculatedProjection=0,this.nodes.forEach(zq),this.nodes.forEach(Kq),this.nodes.forEach(Gq),this.nodes.forEach(qq),Dq(da)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Rq)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new b_),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Iq(o),this.instance=o;const{layoutId:u,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(h||u)&&(this.isLayoutDirty=!0),t){let p;const g=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=Bq(g,250),Bf.hasAnimatedSinceResize&&(Bf.hasAnimatedSinceResize=!1,this.nodes.forEach(cE))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeTargetChanged:y,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||f.getDefaultTransition()||Qq,{onLayoutAnimationStart:b,onLayoutAnimationComplete:k}=f.getProps(),x=!this.targetLayout||!WT(this.targetLayout,_)||y,v=!g&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||g&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,v);const C={...x_(w,"layout"),onPlay:b,onComplete:k};(f.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else g||cE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Xs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Zq),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lE);return}this.isUpdating||this.nodes.forEach(Hq),this.isUpdating=!1,this.nodes.forEach(Wq),this.nodes.forEach($q),this.nodes.forEach(Uq),this.clearAllSnapshots();const l=performance.now();Ar.delta=$o(0,1e3/60,l-Ar.timestamp),Ar.timestamp=l,Ar.isProcessing=!0,vx.update.process(Ar),vx.preRender.process(Ar),vx.render.process(Ar),Ar.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Vq),this.sharedNodes.forEach(Yq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,An.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){An.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Jn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!HT(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;o&&(l||ua(this.latestValues)||f)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),eV(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Jn();const l=o.measureViewportBox(),{scroll:u}=this.root;return u&&(fo(l.x,u.offset.x),fo(l.y,u.offset.y)),l}removeElementScroll(o){const l=Jn();_i(l,o);for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:f,options:p}=h;if(h!==this.root&&f&&p.layoutScroll){if(f.isRoot){_i(l,o);const{scroll:g}=this.root;g&&(fo(l.x,-g.offset.x),fo(l.y,-g.offset.y))}fo(l.x,f.offset.x),fo(l.y,f.offset.y)}}return l}applyTransform(o,l=!1){const u=Jn();_i(u,o);for(let h=0;h<this.path.length;h++){const f=this.path[h];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&zl(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),ua(f.latestValues)&&zl(u,f.latestValues)}return ua(this.latestValues)&&zl(u,this.latestValues),u}removeTransform(o){const l=Jn();_i(l,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!ua(h.latestValues))continue;iw(h.latestValues)&&h.updateSnapshot();const f=Jn(),p=h.measurePageBox();_i(f,p),nE(l,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return ua(this.latestValues)&&nE(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ar.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(o||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Ar.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jn(),this.relativeTargetOrigin=Jn(),qu(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),_i(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Jn(),this.targetWithTransforms=Jn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),tq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_i(this.target,this.layout.layoutBox),OT(this.target,this.targetDelta)):_i(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jn(),this.relativeTargetOrigin=Jn(),qu(this.relativeTargetOrigin,this.target,y.target),_i(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}da.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||iw(this.parent.latestValues)||MT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Ar.timestamp&&(h=!1),h)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;_i(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;uq(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:_}=l;if(!_){this.projectionTransform&&(this.projectionDelta=Ul(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ul(),this.projectionDeltaWithTransform=Ul());const w=this.projectionTransform;zu(this.projectionDelta,this.layoutCorrected,_,this.latestValues),this.projectionTransform=sE(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==g||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),da.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const u=this.snapshot,h=u?u.latestValues:{},f={...this.latestValues},p=Ul();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=Jn(),y=u?u.source:void 0,_=this.layout?this.layout.source:void 0,w=y!==_,b=this.getStack(),k=!b||b.members.length<=1,x=!!(w&&!k&&this.options.crossfade===!0&&!this.path.some(Jq));this.animationProgress=0;let v;this.mixTargetDelta=C=>{const F=C/1e3;uE(p.x,o.x,F),uE(p.y,o.y,F),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qu(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Xq(this.relativeTarget,this.relativeTargetOrigin,g,F),v&&Pq(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=Jn()),_i(v,this.relativeTarget)),w&&(this.animationValues=f,kq(f,h,this.latestValues,F,x,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Xs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=An.update(()=>{Bf.hasAnimatedSinceResize=!0,this.currentAnimation=Lq(0,aE,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(aE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:h,latestValues:f}=o;if(!(!l||!u||!h)){if(this!==o&&this.layout&&h&&GT(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||Jn();const p=mi(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+p;const g=mi(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+g}_i(l,u),zl(l,f),zu(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Fq),this.sharedNodes.get(o).add(l);const h=l.options.initialPromotionConfig;l.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.rotate||u.rotateX||u.rotateY||u.rotateZ)&&(l=!0),!l)return;const h={};for(let f=0;f<oE.length;f++){const p="rotate"+oE[f];u[p]&&(h[p]=u[p],o.setStaticValue(p,0))}o.render();for(const f in h)o.setStaticValue(f,h[f]);o.scheduleRender()}getProjectionStyles(o){var l,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Mq;const h={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Rf(o==null?void 0:o.pointerEvents)||"",h.transform=f?f(this.latestValues,""):"none",h;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Rf(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ua(this.latestValues)&&(w.transform=f?f({},""):"none",this.hasProjected=!1),w}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),h.transform=sE(this.projectionDeltaWithTransform,this.treeScale,g),f&&(h.transform=f(g,h.transform));const{x:y,y:_}=this.projectionDelta;h.transformOrigin=`${y.origin*100}% ${_.origin*100}% 0`,p.animationValues?h.opacity=p===this?(u=(l=g.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:h.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const w in Sp){if(g[w]===void 0)continue;const{correct:b,applyTo:k}=Sp[w],x=h.transform==="none"?g[w]:b(g[w],p);if(k){const v=k.length;for(let C=0;C<v;C++)h[k[C]]=x}else h[w]=x}return this.options.layoutId&&(h.pointerEvents=p===this?Rf(o==null?void 0:o.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(lE),this.root.sharedNodes.clear()}}}function $q(t){t.updateLayout()}function Uq(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Si(p=>{const g=o?n.measuredBox[p]:n.layoutBox[p],y=mi(g);g.min=r[p].min,g.max=g.min+y}):GT(s,n.layoutBox,r)&&Si(p=>{const g=o?n.measuredBox[p]:n.layoutBox[p],y=mi(r[p]);g.max=g.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+y)});const l=Ul();zu(l,r,n.layoutBox);const u=Ul();o?zu(u,t.applyTransform(i,!0),n.measuredBox):zu(u,r,n.layoutBox);const h=!HT(l);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:y}=p;if(g&&y){const _=Jn();qu(_,n.layoutBox,g.layoutBox);const w=Jn();qu(w,r,y.layoutBox),WT(_,w)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=_,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:l,hasLayoutChanged:h,hasRelativeTargetChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function zq(t){da.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function qq(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Vq(t){t.clearSnapshot()}function lE(t){t.clearMeasurements()}function Hq(t){t.isLayoutDirty=!1}function Wq(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function cE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Kq(t){t.resolveTargetDelta()}function Gq(t){t.calcProjection()}function Zq(t){t.resetRotation()}function Yq(t){t.removeLeadSnapshot()}function uE(t,e,n){t.translate=Ln(e.translate,0,n),t.scale=Ln(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function dE(t,e,n,r){t.min=Ln(e.min,n.min,r),t.max=Ln(e.max,n.max,r)}function Xq(t,e,n,r){dE(t.x,e.x,n.x,r),dE(t.y,e.y,n.y,r)}function Jq(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Qq={duration:.45,ease:[.4,0,.1,1]},hE=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),fE=hE("applewebkit/")&&!hE("chrome/")?Math.round:Kn;function pE(t){t.min=fE(t.min),t.max=fE(t.max)}function eV(t){pE(t.x),pE(t.y)}function GT(t,e,n){return t==="position"||t==="preserve-aspect"&&!nw(iE(e),iE(n),.2)}const tV=KT({attachResizeListener:(t,e)=>Ls(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Px={current:void 0},ZT=KT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Px.current){const t=new tV({});t.mount(window),t.setOptions({layoutScroll:!0}),Px.current=t}return Px.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),nV={pan:{Feature:yq},drag:{Feature:xq,ProjectionNode:ZT,MeasureLayout:zT}},rV=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function iV(t){const e=rV.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function ow(t,e,n=1){const[r,i]=iV(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return FT(o)?parseFloat(o):o}else return Zv(i)?ow(i,e,n+1):i}function sV(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!Zv(s))return;const o=ow(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!Zv(s))continue;const o=ow(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const oV=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),YT=t=>oV.has(t),aV=t=>Object.keys(t).some(YT),mE=t=>t===Ya||t===Mt,gE=(t,e)=>parseFloat(t.split(", ")[e]),xE=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return gE(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?gE(s[1],t):0}},lV=new Set(["x","y","z"]),cV=Qd.filter(t=>!lV.has(t));function uV(t){const e=[];return cV.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const gc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:xE(4,13),y:xE(5,14)};gc.translateX=gc.x;gc.translateY=gc.y;const dV=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,l={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(h=>{l[h]=gc[h](r,s)}),e.render();const u=e.measureViewportBox();return n.forEach(h=>{const f=e.getValue(h);f&&f.jump(l[h]),t[h]=gc[h](u,s)}),t},hV=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(YT);let s=[],o=!1;const l=[];if(i.forEach(u=>{const h=t.getValue(u);if(!t.hasValue(u))return;let f=n[u],p=cu(f);const g=e[u];let y;if(Ep(g)){const _=g.length,w=g[0]===null?1:0;f=g[w],p=cu(f);for(let b=w;b<_&&g[b]!==null;b++)y?Ap(cu(g[b])===y):y=cu(g[b])}else y=cu(g);if(p!==y)if(mE(p)&&mE(y)){const _=h.get();typeof _=="string"&&h.set(parseFloat(_)),typeof g=="string"?e[u]=parseFloat(g):Array.isArray(g)&&y===Mt&&(e[u]=g.map(parseFloat))}else p!=null&&p.transform&&(y!=null&&y.transform)&&(f===0||g===0)?f===0?h.set(y.transform(f)):e[u]=p.transform(g):(o||(s=uV(t),o=!0),l.push(u),r[u]=r[u]!==void 0?r[u]:e[u],h.jump(g))}),l.length){const u=l.indexOf("height")>=0?window.pageYOffset:null,h=dV(e,t,l);return s.length&&s.forEach(([f,p])=>{t.getValue(f).set(p)}),t.render(),Gm&&u!==null&&window.scrollTo({top:u}),{target:h,transitionEnd:r}}else return{target:e,transitionEnd:r}};function fV(t,e,n,r){return aV(e)?hV(t,e,n,r):{target:e,transitionEnd:r}}const pV=(t,e,n,r)=>{const i=sV(t,e,r);return e=i.target,r=i.transitionEnd,fV(t,e,n,r)},aw={current:null},XT={current:!1};function mV(){if(XT.current=!0,!!Gm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>aw.current=t.matches;t.addListener(e),e()}else aw.current=!1}function gV(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(oi(s))t.addValue(i,s),Pp(r)&&r.add(i);else if(oi(o))t.addValue(i,mc(s,{owner:t})),Pp(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const l=t.getValue(i);!l.hasAnimated&&l.set(s)}else{const l=t.getStaticValue(i);t.addValue(i,mc(l!==void 0?l:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const yE=new WeakMap,JT=Object.keys(vd),xV=JT.length,vE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],yV=i_.length;class vV{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>An.render(this.render,!1,!0);const{latestValues:l,renderState:u}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Ym(n),this.isVariantNode=I8(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{});for(const p in f){const g=f[p];l[p]!==void 0&&oi(g)&&(g.set(l[p],!1),Pp(h)&&h.add(p))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,yE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),XT.current||mV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:aw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){yE.delete(this.current),this.projection&&this.projection.unmount(),Xs(this.notifyUpdate),Xs(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Za.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&An.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,l;for(let u=0;u<xV;u++){const h=JT[u],{isEnabled:f,Feature:p,ProjectionNode:g,MeasureLayout:y}=vd[h];g&&(o=g),f(n)&&(!this.features[h]&&p&&(this.features[h]=new p(this)),y&&(l=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:h,drag:f,dragConstraints:p,layoutScroll:g,layoutRoot:y}=n;this.projection.setOptions({layoutId:u,layout:h,alwaysMeasureLayout:!!f||p&&Ol(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof h=="string"?h:"both",initialPromotionConfig:s,layoutScroll:g,layoutRoot:y})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Jn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<vE.length;r++){const i=vE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=gV(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<yV;r++){const i=i_[r],s=this.props[i];(yd(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=mc(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=h_(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!oi(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new b_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class QT extends vV{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=Iz(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){Bz(this,r,o);const l=pV(this,r,o,n);n=l.transitionEnd,r=l.target}return{transition:e,transitionEnd:n,...r}}}function wV(t){return window.getComputedStyle(t)}class bV extends QT{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Za.has(n)){const r=g_(n);return r&&r.default||0}else{const r=wV(e),i=($8(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return $T(e,n)}build(e,n,r,i){a_(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return d_(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;oi(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){W8(e,n,r,i)}}class _V extends QT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Za.has(n)){const r=g_(n);return r&&r.default||0}return n=K8.has(n)?n:n_(n),e.getAttribute(n)}measureInstanceViewportBox(){return Jn()}scrapeMotionValuesFromProps(e,n){return Z8(e,n)}build(e,n,r,i){c_(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){G8(e,n,r,i)}mount(e){this.isSVGTag=u_(e.tagName),super.mount(e)}}const SV=(t,e)=>o_(t)?new _V(e,{enableHardwareAcceleration:!1}):new bV(e,{enableHardwareAcceleration:!0}),kV={layout:{ProjectionNode:ZT,MeasureLayout:zT}},EV={...Xz,...yU,...nV,...kV},wt=C$((t,e)=>sU(t,e,EV,SV));function eP(){const t=Y.useRef(!1);return t_(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function AV(){const t=eP(),[e,n]=Y.useState(0),r=Y.useCallback(()=>{t.current&&n(e+1)},[e]);return[Y.useCallback(()=>An.postRender(r),[r]),e]}class CV extends Y.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function jV({children:t,isPresent:e}){const n=Y.useId(),r=Y.useRef(null),i=Y.useRef({width:0,height:0,top:0,left:0});return Y.useInsertionEffect(()=>{const{width:s,height:o,top:l,left:u}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),Y.createElement(CV,{isPresent:e,childRef:r,sizeRef:i},Y.cloneElement(t,{ref:r}))}const Fx=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const l=Y8(TV),u=Y.useId(),h=Y.useMemo(()=>({id:u,initial:e,isPresent:n,custom:i,onExitComplete:f=>{l.set(f,!0);for(const p of l.values())if(!p)return;r&&r()},register:f=>(l.set(f,!1),()=>l.delete(f))}),s?void 0:[n]);return Y.useMemo(()=>{l.forEach((f,p)=>l.set(p,!1))},[n]),Y.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=Y.createElement(jV,{isPresent:n},t)),Y.createElement(Km.Provider,{value:h},t)};function TV(){return new Map}function PV(t){return Y.useEffect(()=>()=>t(),[])}const ha=t=>t.key||"";function FV(t,e){t.forEach(n=>{const r=ha(n);e.set(r,n)})}function NV(t){const e=[];return Y.Children.forEach(t,n=>{Y.isValidElement(n)&&e.push(n)}),e}const Ur=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const l=Y.useContext(s_).forceRender||AV()[0],u=eP(),h=NV(t);let f=h;const p=Y.useRef(new Map).current,g=Y.useRef(f),y=Y.useRef(new Map).current,_=Y.useRef(!0);if(t_(()=>{_.current=!1,FV(h,y),g.current=f}),PV(()=>{_.current=!0,y.clear(),p.clear()}),_.current)return Y.createElement(Y.Fragment,null,f.map(x=>Y.createElement(Fx,{key:ha(x),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},x)));f=[...f];const w=g.current.map(ha),b=h.map(ha),k=w.length;for(let x=0;x<k;x++){const v=w[x];b.indexOf(v)===-1&&!p.has(v)&&p.set(v,void 0)}return o==="wait"&&p.size&&(f=[]),p.forEach((x,v)=>{if(b.indexOf(v)!==-1)return;const C=y.get(v);if(!C)return;const F=w.indexOf(v);let j=x;if(!j){const R=()=>{p.delete(v);const z=Array.from(y.keys()).filter(Q=>!b.includes(Q));if(z.forEach(Q=>y.delete(Q)),g.current=h.filter(Q=>{const $=ha(Q);return $===v||z.includes($)}),!p.size){if(u.current===!1)return;l(),r&&r()}};j=Y.createElement(Fx,{key:ha(C),isPresent:!1,onExitComplete:R,custom:e,presenceAffectsLayout:s,mode:o},C),p.set(v,j)}f.splice(F,0,j)}),f=f.map(x=>{const v=x.key;return p.has(v)?x:Y.createElement(Fx,{key:ha(x),isPresent:!0,presenceAffectsLayout:s,mode:o},x)}),Y.createElement(Y.Fragment,null,p.size?f:f.map(x=>Y.cloneElement(x)))},RV=()=>{const{isConnected:t}=xs(),{proofs:e}=qd(),n=e.slice(0,3),r=e.filter(o=>o.status==="completed").length,i=e.filter(o=>o.status==="processing").length,s=[{name:"Total Proofs",value:e.length,icon:Sn,color:"blue"},{name:"Completed",value:r,icon:Tr,color:"green"},{name:"Processing",value:i,icon:zr,color:"yellow"}];return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx(wt.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800 bg-clip-text text-transparent",children:"ProofVault Dashboard"}),c.jsx(wt.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},className:"mt-2 text-gray-600 text-lg",children:"Secure, AI-powered evidence management on the blockchain"})]}),!t&&c.jsxs(wt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-amber-50 border border-amber-200 rounded-xl p-6 text-center",children:[c.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-amber-100 rounded-lg mx-auto mb-4",children:c.jsx(Sn,{className:"h-6 w-6 text-amber-600"})}),c.jsx("h3",{className:"text-lg font-semibold text-amber-800 mb-2",children:"Connect Your Wallet"}),c.jsx("p",{className:"text-amber-700 mb-4",children:"Connect your Algorand wallet to start securing your evidence on the blockchain."})]}),t&&c.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s.map((o,l)=>c.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-gray-200/50 hover:shadow-lg transition-all duration-200",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`flex-shrink-0 p-3 rounded-lg ${o.color==="blue"?"bg-blue-100 text-blue-600":o.color==="green"?"bg-green-100 text-green-600":"bg-yellow-100 text-yellow-600"}`,children:c.jsx(o.icon,{className:"h-6 w-6"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:o.name}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.value})]})]})},o.name))}),c.jsxs(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs(jr,{to:"/upload",className:"group bg-gradient-to-br from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl p-8 transition-all duration-200 transform hover:scale-105 hover:shadow-xl",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-white/20 rounded-lg group-hover:bg-white/30 transition-colors",children:c.jsx(fs,{className:"h-8 w-8"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold",children:"Upload Evidence"}),c.jsx("p",{className:"text-blue-100 mt-1",children:"Secure your files with AI analysis and blockchain verification"})]})]}),c.jsxs("div",{className:"mt-6 flex items-center space-x-4 text-blue-100",children:[c.jsx(Ys,{className:"h-5 w-5"}),c.jsx(Or,{className:"h-5 w-5"}),c.jsx(pc,{className:"h-5 w-5"}),c.jsx("span",{className:"text-sm",children:"Supports documents, audio, and images"})]})]}),c.jsxs(jr,{to:"/history",className:"group bg-gradient-to-br from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-xl p-8 transition-all duration-200 transform hover:scale-105 hover:shadow-xl",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-3 bg-white/20 rounded-lg group-hover:bg-white/30 transition-colors",children:c.jsx(j8,{className:"h-8 w-8"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold",children:"Proof History"}),c.jsx("p",{className:"text-purple-100 mt-1",children:"View and manage all your verified evidence records"})]})]}),c.jsx("div",{className:"mt-6 text-purple-100",children:c.jsxs("span",{className:"text-sm",children:[e.length," proof",e.length!==1?"s":""," stored securely"]})})]})]}),t&&n.length>0&&c.jsxs(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white/70 backdrop-blur-sm rounded-xl border border-gray-200/50 overflow-hidden",children:[c.jsx("div",{className:"p-6 border-b border-gray-200/50",children:c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"})}),c.jsx("div",{className:"divide-y divide-gray-200/50",children:n.map(o=>c.jsx(jr,{to:`/proof/${o.id}`,className:"block p-6 hover:bg-gray-50/50 transition-colors",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:`p-2 rounded-lg ${o.fileType.startsWith("audio")?"bg-green-100 text-green-600":o.fileType.startsWith("image")?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:o.fileType.startsWith("audio")?c.jsx(Or,{className:"h-4 w-4"}):o.fileType.startsWith("image")?c.jsx(pc,{className:"h-4 w-4"}):c.jsx(Ys,{className:"h-4 w-4"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:o.fileName}),c.jsx("p",{className:"text-sm text-gray-500",children:o.uploadDate.toLocaleDateString()})]})]}),c.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${o.status==="completed"?"bg-green-100 text-green-800":o.status==="processing"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:o.status})]})},o.id))})]})]})};var tP={exports:{}},BV="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",DV=BV,IV=DV;function nP(){}function rP(){}rP.resetWarningCache=nP;var LV=function(){function t(r,i,s,o,l,u){if(u!==IV){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:rP,resetWarningCache:nP};return n.PropTypes=n,n};tP.exports=LV();var MV=tP.exports;const _n=zo(MV);function Xa(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(f){try{h(r.next(f))}catch(p){o(p)}}function u(f){try{h(r.throw(f))}catch(p){o(p)}}function h(f){f.done?s(f.value):i(f.value).then(l,u)}h((r=r.apply(t,e||[])).next())})}const OV=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function xc(t,e,n){const r=$V(t),{webkitRelativePath:i}=t,s=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&wE(r,"path",s),wE(r,"relativePath",s),r}function $V(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=OV.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function wE(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const UV=[".DS_Store","Thumbs.db"];function zV(t){return Xa(this,void 0,void 0,function*(){return Np(t)&&qV(t.dataTransfer)?KV(t.dataTransfer,t.type):VV(t)?HV(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?WV(t):[]})}function qV(t){return Np(t)}function VV(t){return Np(t)&&Np(t.target)}function Np(t){return typeof t=="object"&&t!==null}function HV(t){return lw(t.target.files).map(e=>xc(e))}function WV(t){return Xa(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>xc(n))})}function KV(t,e){return Xa(this,void 0,void 0,function*(){if(t.items){const n=lw(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(GV));return bE(iP(r))}return bE(lw(t.files).map(n=>xc(n)))})}function bE(t){return t.filter(e=>UV.indexOf(e.name)===-1)}function lw(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function GV(t){if(typeof t.webkitGetAsEntry!="function")return _E(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?sP(e):_E(t,e)}function iP(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?iP(n):[n]],[])}function _E(t,e){return Xa(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const s=yield t.getAsFileSystemHandle();if(s===null)throw new Error(`${t} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,xc(o)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return xc(r,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function ZV(t){return Xa(this,void 0,void 0,function*(){return t.isDirectory?sP(t):YV(t)})}function sP(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function s(){e.readEntries(o=>Xa(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(ZV));i.push(l),s()}else try{const l=yield Promise.all(i);n(l)}catch(l){r(l)}}),o=>{r(o)})}s()})}function YV(t){return Xa(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=xc(r,t.fullPath);e(i)},r=>{n(r)})})})}var Nx=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?s===l.replace(/\/.*$/,""):i===l})}return!0};function SE(t){return QV(t)||JV(t)||aP(t)||XV()}function XV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JV(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QV(t){if(Array.isArray(t))return cw(t)}function kE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kE(Object(n),!0).forEach(function(r){oP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oP(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bd(t,e){return nH(t)||tH(t,e)||aP(t,e)||eH()}function eH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aP(t,e){if(t){if(typeof t=="string")return cw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cw(t,e)}}function cw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,l;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(u){s=!0,l=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function nH(t){if(Array.isArray(t))return t}var rH=typeof Nx=="function"?Nx:Nx.default,iH="file-invalid-type",sH="file-too-large",oH="file-too-small",aH="too-many-files",lH=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:iH,message:"File type must be ".concat(r)}},AE=function(e){return{code:sH,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},CE=function(e){return{code:oH,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},cH={code:aH,message:"Too many files"};function lP(t,e){var n=t.type==="application/x-moz-file"||rH(t,e);return[n,n?null:lH(e)]}function cP(t,e,n){if(xa(t.size))if(xa(e)&&xa(n)){if(t.size>n)return[!1,AE(n)];if(t.size<e)return[!1,CE(e)]}else{if(xa(e)&&t.size<e)return[!1,CE(e)];if(xa(n)&&t.size>n)return[!1,AE(n)]}return[!0,null]}function xa(t){return t!=null}function uH(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,o=t.maxFiles,l=t.validator;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(u){var h=lP(u,n),f=bd(h,1),p=f[0],g=cP(u,r,i),y=bd(g,1),_=y[0],w=l?l(u):null;return p&&_&&!w})}function Rp(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function df(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function jE(t){t.preventDefault()}function dH(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function hH(t){return t.indexOf("Edge/")!==-1}function fH(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return dH(t)||hH(t)}function rs(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(l){return!Rp(r)&&l&&l.apply(void 0,[r].concat(s)),Rp(r)})}}function pH(){return"showOpenFilePicker"in window}function mH(t){if(xa(t)){var e=Object.entries(t).filter(function(n){var r=bd(n,2),i=r[0],s=r[1],o=!0;return uP(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(dP))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var i=bd(r,2),s=i[0],o=i[1];return EE(EE({},n),{},oP({},s,o))},{});return[{description:"Files",accept:e}]}return t}function gH(t){if(xa(t))return Object.entries(t).reduce(function(e,n){var r=bd(n,2),i=r[0],s=r[1];return[].concat(SE(e),[i],SE(s))},[]).filter(function(e){return uP(e)||dP(e)}).join(",")}function xH(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function yH(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function uP(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function dP(t){return/^.*\.[\w]+$/.test(t)}var vH=["children"],wH=["open"],bH=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_H=["refKey","onChange","onClick"];function SH(t){return AH(t)||EH(t)||hP(t)||kH()}function kH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AH(t){if(Array.isArray(t))return uw(t)}function Rx(t,e){return TH(t)||jH(t,e)||hP(t,e)||CH()}function CH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hP(t,e){if(t){if(typeof t=="string")return uw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uw(t,e)}}function uw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,l;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(u){s=!0,l=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function TH(t){if(Array.isArray(t))return t}function TE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TE(Object(n),!0).forEach(function(r){dw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bp(t,e){if(t==null)return{};var n=PH(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var __=Y.forwardRef(function(t,e){var n=t.children,r=Bp(t,vH),i=pP(r),s=i.open,o=Bp(i,wH);return Y.useImperativeHandle(e,function(){return{open:s}},[s]),Do.createElement(Y.Fragment,null,n(Dn(Dn({},o),{},{open:s})))});__.displayName="Dropzone";var fP={disabled:!1,getFilesFromEvent:zV,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};__.defaultProps=fP;__.propTypes={children:_n.func,accept:_n.objectOf(_n.arrayOf(_n.string)),multiple:_n.bool,preventDropOnDocument:_n.bool,noClick:_n.bool,noKeyboard:_n.bool,noDrag:_n.bool,noDragEventsBubbling:_n.bool,minSize:_n.number,maxSize:_n.number,maxFiles:_n.number,disabled:_n.bool,getFilesFromEvent:_n.func,onFileDialogCancel:_n.func,onFileDialogOpen:_n.func,useFsAccessApi:_n.bool,autoFocus:_n.bool,onDragEnter:_n.func,onDragLeave:_n.func,onDragOver:_n.func,onDrop:_n.func,onDropAccepted:_n.func,onDropRejected:_n.func,onError:_n.func,validator:_n.func};var hw={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function pP(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Dn(Dn({},fP),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,l=e.multiple,u=e.maxFiles,h=e.onDragEnter,f=e.onDragLeave,p=e.onDragOver,g=e.onDrop,y=e.onDropAccepted,_=e.onDropRejected,w=e.onFileDialogCancel,b=e.onFileDialogOpen,k=e.useFsAccessApi,x=e.autoFocus,v=e.preventDropOnDocument,C=e.noClick,F=e.noKeyboard,j=e.noDrag,R=e.noDragEventsBubbling,z=e.onError,Q=e.validator,$=Y.useMemo(function(){return gH(n)},[n]),X=Y.useMemo(function(){return mH(n)},[n]),te=Y.useMemo(function(){return typeof b=="function"?b:PE},[b]),ae=Y.useMemo(function(){return typeof w=="function"?w:PE},[w]),Ae=Y.useRef(null),he=Y.useRef(null),Ee=Y.useReducer(FH,hw),Ne=Rx(Ee,2),me=Ne[0],ge=Ne[1],fe=me.isFocused,le=me.isFileDialogActive,pe=Y.useRef(typeof window<"u"&&window.isSecureContext&&k&&pH()),be=function(){!pe.current&&le&&setTimeout(function(){if(he.current){var se=he.current.files;se.length||(ge({type:"closeDialog"}),ae())}},300)};Y.useEffect(function(){return window.addEventListener("focus",be,!1),function(){window.removeEventListener("focus",be,!1)}},[he,le,ae,pe]);var ie=Y.useRef([]),Te=function(se){Ae.current&&Ae.current.contains(se.target)||(se.preventDefault(),ie.current=[])};Y.useEffect(function(){return v&&(document.addEventListener("dragover",jE,!1),document.addEventListener("drop",Te,!1)),function(){v&&(document.removeEventListener("dragover",jE),document.removeEventListener("drop",Te))}},[Ae,v]),Y.useEffect(function(){return!r&&x&&Ae.current&&Ae.current.focus(),function(){}},[Ae,x,r]);var Le=Y.useCallback(function(K){z?z(K):console.error(K)},[z]),Ze=Y.useCallback(function(K){K.preventDefault(),K.persist(),H(K),ie.current=[].concat(SH(ie.current),[K.target]),df(K)&&Promise.resolve(i(K)).then(function(se){if(!(Rp(K)&&!R)){var xe=se.length,D=xe>0&&uH({files:se,accept:$,minSize:o,maxSize:s,multiple:l,maxFiles:u,validator:Q}),E=xe>0&&!D;ge({isDragAccept:D,isDragReject:E,isDragActive:!0,type:"setDraggedFiles"}),h&&h(K)}}).catch(function(se){return Le(se)})},[i,h,Le,R,$,o,s,l,u,Q]),Be=Y.useCallback(function(K){K.preventDefault(),K.persist(),H(K);var se=df(K);if(se&&K.dataTransfer)try{K.dataTransfer.dropEffect="copy"}catch{}return se&&p&&p(K),!1},[p,R]),We=Y.useCallback(function(K){K.preventDefault(),K.persist(),H(K);var se=ie.current.filter(function(D){return Ae.current&&Ae.current.contains(D)}),xe=se.indexOf(K.target);xe!==-1&&se.splice(xe,1),ie.current=se,!(se.length>0)&&(ge({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),df(K)&&f&&f(K))},[Ae,f,R]),V=Y.useCallback(function(K,se){var xe=[],D=[];K.forEach(function(E){var P=lP(E,$),U=Rx(P,2),oe=U[0],ve=U[1],Fe=cP(E,o,s),Qe=Rx(Fe,2),ct=Qe[0],dt=Qe[1],it=Q?Q(E):null;if(oe&&ct&&!it)xe.push(E);else{var St=[ve,dt];it&&(St=St.concat(it)),D.push({file:E,errors:St.filter(function(dn){return dn})})}}),(!l&&xe.length>1||l&&u>=1&&xe.length>u)&&(xe.forEach(function(E){D.push({file:E,errors:[cH]})}),xe.splice(0)),ge({acceptedFiles:xe,fileRejections:D,isDragReject:D.length>0,type:"setFiles"}),g&&g(xe,D,se),D.length>0&&_&&_(D,se),xe.length>0&&y&&y(xe,se)},[ge,l,$,o,s,u,g,y,_,Q]),ee=Y.useCallback(function(K){K.preventDefault(),K.persist(),H(K),ie.current=[],df(K)&&Promise.resolve(i(K)).then(function(se){Rp(K)&&!R||V(se,K)}).catch(function(se){return Le(se)}),ge({type:"reset"})},[i,V,Le,R]),ce=Y.useCallback(function(){if(pe.current){ge({type:"openDialog"}),te();var K={multiple:l,types:X};window.showOpenFilePicker(K).then(function(se){return i(se)}).then(function(se){V(se,null),ge({type:"closeDialog"})}).catch(function(se){xH(se)?(ae(se),ge({type:"closeDialog"})):yH(se)?(pe.current=!1,he.current?(he.current.value=null,he.current.click()):Le(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Le(se)});return}he.current&&(ge({type:"openDialog"}),te(),he.current.value=null,he.current.click())},[ge,te,ae,k,V,Le,X,l]),Ce=Y.useCallback(function(K){!Ae.current||!Ae.current.isEqualNode(K.target)||(K.key===" "||K.key==="Enter"||K.keyCode===32||K.keyCode===13)&&(K.preventDefault(),ce())},[Ae,ce]),_e=Y.useCallback(function(){ge({type:"focus"})},[]),je=Y.useCallback(function(){ge({type:"blur"})},[]),Me=Y.useCallback(function(){C||(fH()?setTimeout(ce,0):ce())},[C,ce]),we=function(se){return r?null:se},ke=function(se){return F?null:we(se)},Re=function(se){return j?null:we(se)},H=function(se){R&&se.stopPropagation()},N=Y.useMemo(function(){return function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},se=K.refKey,xe=se===void 0?"ref":se,D=K.role,E=K.onKeyDown,P=K.onFocus,U=K.onBlur,oe=K.onClick,ve=K.onDragEnter,Fe=K.onDragOver,Qe=K.onDragLeave,ct=K.onDrop,dt=Bp(K,bH);return Dn(Dn(dw({onKeyDown:ke(rs(E,Ce)),onFocus:ke(rs(P,_e)),onBlur:ke(rs(U,je)),onClick:we(rs(oe,Me)),onDragEnter:Re(rs(ve,Ze)),onDragOver:Re(rs(Fe,Be)),onDragLeave:Re(rs(Qe,We)),onDrop:Re(rs(ct,ee)),role:typeof D=="string"&&D!==""?D:"presentation"},xe,Ae),!r&&!F?{tabIndex:0}:{}),dt)}},[Ae,Ce,_e,je,Me,Ze,Be,We,ee,F,j,r]),W=Y.useCallback(function(K){K.stopPropagation()},[]),J=Y.useMemo(function(){return function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},se=K.refKey,xe=se===void 0?"ref":se,D=K.onChange,E=K.onClick,P=Bp(K,_H),U=dw({accept:$,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:we(rs(D,ee)),onClick:we(rs(E,W)),tabIndex:-1},xe,he);return Dn(Dn({},U),P)}},[he,n,l,ee,r]);return Dn(Dn({},me),{},{isFocused:fe&&!r,getRootProps:N,getInputProps:J,rootRef:Ae,inputRef:he,open:we(ce)})}function FH(t,e){switch(e.type){case"focus":return Dn(Dn({},t),{},{isFocused:!0});case"blur":return Dn(Dn({},t),{},{isFocused:!1});case"openDialog":return Dn(Dn({},hw),{},{isFileDialogActive:!0});case"closeDialog":return Dn(Dn({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Dn(Dn({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Dn(Dn({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Dn({},hw);default:return t}}function PE(){}var mP={exports:{}},Bx={exports:{}},FE;function an(){return FE||(FE=1,function(t,e){(function(n,r){t.exports=r()})(jt,function(){var n=n||function(r,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof jt<"u"&&jt.crypto&&(s=jt.crypto),!s&&typeof J6=="function")try{s=e4}catch{}var o=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},l=Object.create||function(){function x(){}return function(v){var C;return x.prototype=v,C=new x,x.prototype=null,C}}(),u={},h=u.lib={},f=h.Base=function(){return{extend:function(x){var v=l(this);return x&&v.mixIn(x),(!v.hasOwnProperty("init")||this.init===v.init)&&(v.init=function(){v.$super.init.apply(this,arguments)}),v.init.prototype=v,v.$super=this,v},create:function(){var x=this.extend();return x.init.apply(x,arguments),x},init:function(){},mixIn:function(x){for(var v in x)x.hasOwnProperty(v)&&(this[v]=x[v]);x.hasOwnProperty("toString")&&(this.toString=x.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),p=h.WordArray=f.extend({init:function(x,v){x=this.words=x||[],v!=i?this.sigBytes=v:this.sigBytes=x.length*4},toString:function(x){return(x||y).stringify(this)},concat:function(x){var v=this.words,C=x.words,F=this.sigBytes,j=x.sigBytes;if(this.clamp(),F%4)for(var R=0;R<j;R++){var z=C[R>>>2]>>>24-R%4*8&255;v[F+R>>>2]|=z<<24-(F+R)%4*8}else for(var Q=0;Q<j;Q+=4)v[F+Q>>>2]=C[Q>>>2];return this.sigBytes+=j,this},clamp:function(){var x=this.words,v=this.sigBytes;x[v>>>2]&=4294967295<<32-v%4*8,x.length=r.ceil(v/4)},clone:function(){var x=f.clone.call(this);return x.words=this.words.slice(0),x},random:function(x){for(var v=[],C=0;C<x;C+=4)v.push(o());return new p.init(v,x)}}),g=u.enc={},y=g.Hex={stringify:function(x){for(var v=x.words,C=x.sigBytes,F=[],j=0;j<C;j++){var R=v[j>>>2]>>>24-j%4*8&255;F.push((R>>>4).toString(16)),F.push((R&15).toString(16))}return F.join("")},parse:function(x){for(var v=x.length,C=[],F=0;F<v;F+=2)C[F>>>3]|=parseInt(x.substr(F,2),16)<<24-F%8*4;return new p.init(C,v/2)}},_=g.Latin1={stringify:function(x){for(var v=x.words,C=x.sigBytes,F=[],j=0;j<C;j++){var R=v[j>>>2]>>>24-j%4*8&255;F.push(String.fromCharCode(R))}return F.join("")},parse:function(x){for(var v=x.length,C=[],F=0;F<v;F++)C[F>>>2]|=(x.charCodeAt(F)&255)<<24-F%4*8;return new p.init(C,v)}},w=g.Utf8={stringify:function(x){try{return decodeURIComponent(escape(_.stringify(x)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(x){return _.parse(unescape(encodeURIComponent(x)))}},b=h.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new p.init,this._nDataBytes=0},_append:function(x){typeof x=="string"&&(x=w.parse(x)),this._data.concat(x),this._nDataBytes+=x.sigBytes},_process:function(x){var v,C=this._data,F=C.words,j=C.sigBytes,R=this.blockSize,z=R*4,Q=j/z;x?Q=r.ceil(Q):Q=r.max((Q|0)-this._minBufferSize,0);var $=Q*R,X=r.min($*4,j);if($){for(var te=0;te<$;te+=R)this._doProcessBlock(F,te);v=F.splice(0,$),C.sigBytes-=X}return new p.init(v,X)},clone:function(){var x=f.clone.call(this);return x._data=this._data.clone(),x},_minBufferSize:0});h.Hasher=b.extend({cfg:f.extend(),init:function(x){this.cfg=this.cfg.extend(x),this.reset()},reset:function(){b.reset.call(this),this._doReset()},update:function(x){return this._append(x),this._process(),this},finalize:function(x){x&&this._append(x);var v=this._doFinalize();return v},blockSize:16,_createHelper:function(x){return function(v,C){return new x.init(C).finalize(v)}},_createHmacHelper:function(x){return function(v,C){return new k.HMAC.init(x,C).finalize(v)}}});var k=u.algo={};return u}(Math);return n})}(Bx)),Bx.exports}var Dx={exports:{}},NE;function eg(){return NE||(NE=1,function(t,e){(function(n,r){t.exports=r(an())})(jt,function(n){return function(r){var i=n,s=i.lib,o=s.Base,l=s.WordArray,u=i.x64={};u.Word=o.extend({init:function(h,f){this.high=h,this.low=f}}),u.WordArray=o.extend({init:function(h,f){h=this.words=h||[],f!=r?this.sigBytes=f:this.sigBytes=h.length*8},toX32:function(){for(var h=this.words,f=h.length,p=[],g=0;g<f;g++){var y=h[g];p.push(y.high),p.push(y.low)}return l.create(p,this.sigBytes)},clone:function(){for(var h=o.clone.call(this),f=h.words=this.words.slice(0),p=f.length,g=0;g<p;g++)f[g]=f[g].clone();return h}})}(),n})}(Dx)),Dx.exports}var Ix={exports:{}},RE;function NH(){return RE||(RE=1,function(t,e){(function(n,r){t.exports=r(an())})(jt,function(n){return function(){if(typeof ArrayBuffer=="function"){var r=n,i=r.lib,s=i.WordArray,o=s.init,l=s.init=function(u){if(u instanceof ArrayBuffer&&(u=new Uint8Array(u)),(u instanceof Int8Array||typeof Uint8ClampedArray<"u"&&u instanceof Uint8ClampedArray||u instanceof Int16Array||u instanceof Uint16Array||u instanceof Int32Array||u instanceof Uint32Array||u instanceof Float32Array||u instanceof Float64Array)&&(u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength)),u instanceof Uint8Array){for(var h=u.byteLength,f=[],p=0;p<h;p++)f[p>>>2]|=u[p]<<24-p%4*8;o.call(this,f,h)}else o.apply(this,arguments)};l.prototype=s}}(),n.lib.WordArray})}(Ix)),Ix.exports}var Lx={exports:{}},BE;function RH(){return BE||(BE=1,function(t,e){(function(n,r){t.exports=r(an())})(jt,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Utf16=o.Utf16BE={stringify:function(u){for(var h=u.words,f=u.sigBytes,p=[],g=0;g<f;g+=2){var y=h[g>>>2]>>>16-g%4*8&65535;p.push(String.fromCharCode(y))}return p.join("")},parse:function(u){for(var h=u.length,f=[],p=0;p<h;p++)f[p>>>1]|=u.charCodeAt(p)<<16-p%2*16;return s.create(f,h*2)}},o.Utf16LE={stringify:function(u){for(var h=u.words,f=u.sigBytes,p=[],g=0;g<f;g+=2){var y=l(h[g>>>2]>>>16-g%4*8&65535);p.push(String.fromCharCode(y))}return p.join("")},parse:function(u){for(var h=u.length,f=[],p=0;p<h;p++)f[p>>>1]|=l(u.charCodeAt(p)<<16-p%2*16);return s.create(f,h*2)}};function l(u){return u<<8&4278255360|u>>>8&16711935}}(),n.enc.Utf16})}(Lx)),Lx.exports}var Mx={exports:{}},DE;function Ja(){return DE||(DE=1,function(t,e){(function(n,r){t.exports=r(an())})(jt,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Base64={stringify:function(u){var h=u.words,f=u.sigBytes,p=this._map;u.clamp();for(var g=[],y=0;y<f;y+=3)for(var _=h[y>>>2]>>>24-y%4*8&255,w=h[y+1>>>2]>>>24-(y+1)%4*8&255,b=h[y+2>>>2]>>>24-(y+2)%4*8&255,k=_<<16|w<<8|b,x=0;x<4&&y+x*.75<f;x++)g.push(p.charAt(k>>>6*(3-x)&63));var v=p.charAt(64);if(v)for(;g.length%4;)g.push(v);return g.join("")},parse:function(u){var h=u.length,f=this._map,p=this._reverseMap;if(!p){p=this._reverseMap=[];for(var g=0;g<f.length;g++)p[f.charCodeAt(g)]=g}var y=f.charAt(64);if(y){var _=u.indexOf(y);_!==-1&&(h=_)}return l(u,h,p)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function l(u,h,f){for(var p=[],g=0,y=0;y<h;y++)if(y%4){var _=f[u.charCodeAt(y-1)]<<y%4*2,w=f[u.charCodeAt(y)]>>>6-y%4*2,b=_|w;p[g>>>2]|=b<<24-g%4*8,g++}return s.create(p,g)}}(),n.enc.Base64})}(Mx)),Mx.exports}var Ox={exports:{}},IE;function BH(){return IE||(IE=1,function(t,e){(function(n,r){t.exports=r(an())})(jt,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Base64url={stringify:function(u,h){h===void 0&&(h=!0);var f=u.words,p=u.sigBytes,g=h?this._safe_map:this._map;u.clamp();for(var y=[],_=0;_<p;_+=3)for(var w=f[_>>>2]>>>24-_%4*8&255,b=f[_+1>>>2]>>>24-(_+1)%4*8&255,k=f[_+2>>>2]>>>24-(_+2)%4*8&255,x=w<<16|b<<8|k,v=0;v<4&&_+v*.75<p;v++)y.push(g.charAt(x>>>6*(3-v)&63));var C=g.charAt(64);if(C)for(;y.length%4;)y.push(C);return y.join("")},parse:function(u,h){h===void 0&&(h=!0);var f=u.length,p=h?this._safe_map:this._map,g=this._reverseMap;if(!g){g=this._reverseMap=[];for(var y=0;y<p.length;y++)g[p.charCodeAt(y)]=y}var _=p.charAt(64);if(_){var w=u.indexOf(_);w!==-1&&(f=w)}return l(u,f,g)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function l(u,h,f){for(var p=[],g=0,y=0;y<h;y++)if(y%4){var _=f[u.charCodeAt(y-1)]<<y%4*2,w=f[u.charCodeAt(y)]>>>6-y%4*2,b=_|w;p[g>>>2]|=b<<24-g%4*8,g++}return s.create(p,g)}}(),n.enc.Base64url})}(Ox)),Ox.exports}var $x={exports:{}},LE;function Qa(){return LE||(LE=1,function(t,e){(function(n,r){t.exports=r(an())})(jt,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,l=s.Hasher,u=i.algo,h=[];(function(){for(var w=0;w<64;w++)h[w]=r.abs(r.sin(w+1))*4294967296|0})();var f=u.MD5=l.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(w,b){for(var k=0;k<16;k++){var x=b+k,v=w[x];w[x]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360}var C=this._hash.words,F=w[b+0],j=w[b+1],R=w[b+2],z=w[b+3],Q=w[b+4],$=w[b+5],X=w[b+6],te=w[b+7],ae=w[b+8],Ae=w[b+9],he=w[b+10],Ee=w[b+11],Ne=w[b+12],me=w[b+13],ge=w[b+14],fe=w[b+15],le=C[0],pe=C[1],be=C[2],ie=C[3];le=p(le,pe,be,ie,F,7,h[0]),ie=p(ie,le,pe,be,j,12,h[1]),be=p(be,ie,le,pe,R,17,h[2]),pe=p(pe,be,ie,le,z,22,h[3]),le=p(le,pe,be,ie,Q,7,h[4]),ie=p(ie,le,pe,be,$,12,h[5]),be=p(be,ie,le,pe,X,17,h[6]),pe=p(pe,be,ie,le,te,22,h[7]),le=p(le,pe,be,ie,ae,7,h[8]),ie=p(ie,le,pe,be,Ae,12,h[9]),be=p(be,ie,le,pe,he,17,h[10]),pe=p(pe,be,ie,le,Ee,22,h[11]),le=p(le,pe,be,ie,Ne,7,h[12]),ie=p(ie,le,pe,be,me,12,h[13]),be=p(be,ie,le,pe,ge,17,h[14]),pe=p(pe,be,ie,le,fe,22,h[15]),le=g(le,pe,be,ie,j,5,h[16]),ie=g(ie,le,pe,be,X,9,h[17]),be=g(be,ie,le,pe,Ee,14,h[18]),pe=g(pe,be,ie,le,F,20,h[19]),le=g(le,pe,be,ie,$,5,h[20]),ie=g(ie,le,pe,be,he,9,h[21]),be=g(be,ie,le,pe,fe,14,h[22]),pe=g(pe,be,ie,le,Q,20,h[23]),le=g(le,pe,be,ie,Ae,5,h[24]),ie=g(ie,le,pe,be,ge,9,h[25]),be=g(be,ie,le,pe,z,14,h[26]),pe=g(pe,be,ie,le,ae,20,h[27]),le=g(le,pe,be,ie,me,5,h[28]),ie=g(ie,le,pe,be,R,9,h[29]),be=g(be,ie,le,pe,te,14,h[30]),pe=g(pe,be,ie,le,Ne,20,h[31]),le=y(le,pe,be,ie,$,4,h[32]),ie=y(ie,le,pe,be,ae,11,h[33]),be=y(be,ie,le,pe,Ee,16,h[34]),pe=y(pe,be,ie,le,ge,23,h[35]),le=y(le,pe,be,ie,j,4,h[36]),ie=y(ie,le,pe,be,Q,11,h[37]),be=y(be,ie,le,pe,te,16,h[38]),pe=y(pe,be,ie,le,he,23,h[39]),le=y(le,pe,be,ie,me,4,h[40]),ie=y(ie,le,pe,be,F,11,h[41]),be=y(be,ie,le,pe,z,16,h[42]),pe=y(pe,be,ie,le,X,23,h[43]),le=y(le,pe,be,ie,Ae,4,h[44]),ie=y(ie,le,pe,be,Ne,11,h[45]),be=y(be,ie,le,pe,fe,16,h[46]),pe=y(pe,be,ie,le,R,23,h[47]),le=_(le,pe,be,ie,F,6,h[48]),ie=_(ie,le,pe,be,te,10,h[49]),be=_(be,ie,le,pe,ge,15,h[50]),pe=_(pe,be,ie,le,$,21,h[51]),le=_(le,pe,be,ie,Ne,6,h[52]),ie=_(ie,le,pe,be,z,10,h[53]),be=_(be,ie,le,pe,he,15,h[54]),pe=_(pe,be,ie,le,j,21,h[55]),le=_(le,pe,be,ie,ae,6,h[56]),ie=_(ie,le,pe,be,fe,10,h[57]),be=_(be,ie,le,pe,X,15,h[58]),pe=_(pe,be,ie,le,me,21,h[59]),le=_(le,pe,be,ie,Q,6,h[60]),ie=_(ie,le,pe,be,Ee,10,h[61]),be=_(be,ie,le,pe,R,15,h[62]),pe=_(pe,be,ie,le,Ae,21,h[63]),C[0]=C[0]+le|0,C[1]=C[1]+pe|0,C[2]=C[2]+be|0,C[3]=C[3]+ie|0},_doFinalize:function(){var w=this._data,b=w.words,k=this._nDataBytes*8,x=w.sigBytes*8;b[x>>>5]|=128<<24-x%32;var v=r.floor(k/4294967296),C=k;b[(x+64>>>9<<4)+15]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,b[(x+64>>>9<<4)+14]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,w.sigBytes=(b.length+1)*4,this._process();for(var F=this._hash,j=F.words,R=0;R<4;R++){var z=j[R];j[R]=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360}return F},clone:function(){var w=l.clone.call(this);return w._hash=this._hash.clone(),w}});function p(w,b,k,x,v,C,F){var j=w+(b&k|~b&x)+v+F;return(j<<C|j>>>32-C)+b}function g(w,b,k,x,v,C,F){var j=w+(b&x|k&~x)+v+F;return(j<<C|j>>>32-C)+b}function y(w,b,k,x,v,C,F){var j=w+(b^k^x)+v+F;return(j<<C|j>>>32-C)+b}function _(w,b,k,x,v,C,F){var j=w+(k^(b|~x))+v+F;return(j<<C|j>>>32-C)+b}i.MD5=l._createHelper(f),i.HmacMD5=l._createHmacHelper(f)}(Math),n.MD5})}($x)),$x.exports}var Ux={exports:{}},ME;function gP(){return ME||(ME=1,function(t,e){(function(n,r){t.exports=r(an())})(jt,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=i.Hasher,l=r.algo,u=[],h=l.SHA1=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(f,p){for(var g=this._hash.words,y=g[0],_=g[1],w=g[2],b=g[3],k=g[4],x=0;x<80;x++){if(x<16)u[x]=f[p+x]|0;else{var v=u[x-3]^u[x-8]^u[x-14]^u[x-16];u[x]=v<<1|v>>>31}var C=(y<<5|y>>>27)+k+u[x];x<20?C+=(_&w|~_&b)+1518500249:x<40?C+=(_^w^b)+1859775393:x<60?C+=(_&w|_&b|w&b)-1894007588:C+=(_^w^b)-899497514,k=b,b=w,w=_<<30|_>>>2,_=y,y=C}g[0]=g[0]+y|0,g[1]=g[1]+_|0,g[2]=g[2]+w|0,g[3]=g[3]+b|0,g[4]=g[4]+k|0},_doFinalize:function(){var f=this._data,p=f.words,g=this._nDataBytes*8,y=f.sigBytes*8;return p[y>>>5]|=128<<24-y%32,p[(y+64>>>9<<4)+14]=Math.floor(g/4294967296),p[(y+64>>>9<<4)+15]=g,f.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var f=o.clone.call(this);return f._hash=this._hash.clone(),f}});r.SHA1=o._createHelper(h),r.HmacSHA1=o._createHmacHelper(h)}(),n.SHA1})}(Ux)),Ux.exports}var zx={exports:{}},OE;function S_(){return OE||(OE=1,function(t,e){(function(n,r){t.exports=r(an())})(jt,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,l=s.Hasher,u=i.algo,h=[],f=[];(function(){function y(k){for(var x=r.sqrt(k),v=2;v<=x;v++)if(!(k%v))return!1;return!0}function _(k){return(k-(k|0))*4294967296|0}for(var w=2,b=0;b<64;)y(w)&&(b<8&&(h[b]=_(r.pow(w,1/2))),f[b]=_(r.pow(w,1/3)),b++),w++})();var p=[],g=u.SHA256=l.extend({_doReset:function(){this._hash=new o.init(h.slice(0))},_doProcessBlock:function(y,_){for(var w=this._hash.words,b=w[0],k=w[1],x=w[2],v=w[3],C=w[4],F=w[5],j=w[6],R=w[7],z=0;z<64;z++){if(z<16)p[z]=y[_+z]|0;else{var Q=p[z-15],$=(Q<<25|Q>>>7)^(Q<<14|Q>>>18)^Q>>>3,X=p[z-2],te=(X<<15|X>>>17)^(X<<13|X>>>19)^X>>>10;p[z]=$+p[z-7]+te+p[z-16]}var ae=C&F^~C&j,Ae=b&k^b&x^k&x,he=(b<<30|b>>>2)^(b<<19|b>>>13)^(b<<10|b>>>22),Ee=(C<<26|C>>>6)^(C<<21|C>>>11)^(C<<7|C>>>25),Ne=R+Ee+ae+f[z]+p[z],me=he+Ae;R=j,j=F,F=C,C=v+Ne|0,v=x,x=k,k=b,b=Ne+me|0}w[0]=w[0]+b|0,w[1]=w[1]+k|0,w[2]=w[2]+x|0,w[3]=w[3]+v|0,w[4]=w[4]+C|0,w[5]=w[5]+F|0,w[6]=w[6]+j|0,w[7]=w[7]+R|0},_doFinalize:function(){var y=this._data,_=y.words,w=this._nDataBytes*8,b=y.sigBytes*8;return _[b>>>5]|=128<<24-b%32,_[(b+64>>>9<<4)+14]=r.floor(w/4294967296),_[(b+64>>>9<<4)+15]=w,y.sigBytes=_.length*4,this._process(),this._hash},clone:function(){var y=l.clone.call(this);return y._hash=this._hash.clone(),y}});i.SHA256=l._createHelper(g),i.HmacSHA256=l._createHmacHelper(g)}(Math),n.SHA256})}(zx)),zx.exports}var qx={exports:{}},$E;function DH(){return $E||($E=1,function(t,e){(function(n,r,i){t.exports=r(an(),S_())})(jt,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.algo,l=o.SHA256,u=o.SHA224=l.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var h=l._doFinalize.call(this);return h.sigBytes-=4,h}});r.SHA224=l._createHelper(u),r.HmacSHA224=l._createHmacHelper(u)}(),n.SHA224})}(qx)),qx.exports}var Vx={exports:{}},UE;function xP(){return UE||(UE=1,function(t,e){(function(n,r,i){t.exports=r(an(),eg())})(jt,function(n){return function(){var r=n,i=r.lib,s=i.Hasher,o=r.x64,l=o.Word,u=o.WordArray,h=r.algo;function f(){return l.create.apply(l,arguments)}var p=[f(1116352408,3609767458),f(1899447441,602891725),f(3049323471,3964484399),f(3921009573,2173295548),f(961987163,4081628472),f(1508970993,3053834265),f(2453635748,2937671579),f(2870763221,3664609560),f(3624381080,2734883394),f(310598401,1164996542),f(607225278,1323610764),f(1426881987,3590304994),f(1925078388,4068182383),f(2162078206,991336113),f(2614888103,633803317),f(3248222580,3479774868),f(3835390401,2666613458),f(4022224774,944711139),f(264347078,2341262773),f(604807628,2007800933),f(770255983,1495990901),f(1249150122,1856431235),f(1555081692,3175218132),f(1996064986,2198950837),f(2554220882,3999719339),f(2821834349,766784016),f(2952996808,2566594879),f(3210313671,3203337956),f(3336571891,1034457026),f(3584528711,2466948901),f(113926993,3758326383),f(338241895,168717936),f(666307205,1188179964),f(773529912,1546045734),f(1294757372,1522805485),f(1396182291,2643833823),f(1695183700,2343527390),f(1986661051,1014477480),f(2177026350,1206759142),f(2456956037,344077627),f(2730485921,1290863460),f(2820302411,3158454273),f(3259730800,3505952657),f(3345764771,106217008),f(3516065817,3606008344),f(3600352804,1432725776),f(4094571909,1467031594),f(275423344,851169720),f(430227734,3100823752),f(506948616,1363258195),f(659060556,3750685593),f(883997877,3785050280),f(958139571,3318307427),f(1322822218,3812723403),f(1537002063,2003034995),f(1747873779,3602036899),f(1955562222,1575990012),f(2024104815,1125592928),f(2227730452,2716904306),f(2361852424,442776044),f(2428436474,593698344),f(2756734187,3733110249),f(3204031479,2999351573),f(3329325298,3815920427),f(3391569614,3928383900),f(3515267271,566280711),f(3940187606,3454069534),f(4118630271,4000239992),f(116418474,1914138554),f(174292421,2731055270),f(289380356,3203993006),f(460393269,320620315),f(685471733,587496836),f(852142971,1086792851),f(1017036298,365543100),f(1126000580,2618297676),f(1288033470,3409855158),f(1501505948,4234509866),f(1607167915,987167468),f(1816402316,1246189591)],g=[];(function(){for(var _=0;_<80;_++)g[_]=f()})();var y=h.SHA512=s.extend({_doReset:function(){this._hash=new u.init([new l.init(1779033703,4089235720),new l.init(3144134277,2227873595),new l.init(1013904242,4271175723),new l.init(2773480762,1595750129),new l.init(1359893119,2917565137),new l.init(2600822924,725511199),new l.init(528734635,4215389547),new l.init(1541459225,327033209)])},_doProcessBlock:function(_,w){for(var b=this._hash.words,k=b[0],x=b[1],v=b[2],C=b[3],F=b[4],j=b[5],R=b[6],z=b[7],Q=k.high,$=k.low,X=x.high,te=x.low,ae=v.high,Ae=v.low,he=C.high,Ee=C.low,Ne=F.high,me=F.low,ge=j.high,fe=j.low,le=R.high,pe=R.low,be=z.high,ie=z.low,Te=Q,Le=$,Ze=X,Be=te,We=ae,V=Ae,ee=he,ce=Ee,Ce=Ne,_e=me,je=ge,Me=fe,we=le,ke=pe,Re=be,H=ie,N=0;N<80;N++){var W,J,K=g[N];if(N<16)J=K.high=_[w+N*2]|0,W=K.low=_[w+N*2+1]|0;else{var se=g[N-15],xe=se.high,D=se.low,E=(xe>>>1|D<<31)^(xe>>>8|D<<24)^xe>>>7,P=(D>>>1|xe<<31)^(D>>>8|xe<<24)^(D>>>7|xe<<25),U=g[N-2],oe=U.high,ve=U.low,Fe=(oe>>>19|ve<<13)^(oe<<3|ve>>>29)^oe>>>6,Qe=(ve>>>19|oe<<13)^(ve<<3|oe>>>29)^(ve>>>6|oe<<26),ct=g[N-7],dt=ct.high,it=ct.low,St=g[N-16],dn=St.high,sn=St.low;W=P+it,J=E+dt+(W>>>0<P>>>0?1:0),W=W+Qe,J=J+Fe+(W>>>0<Qe>>>0?1:0),W=W+sn,J=J+dn+(W>>>0<sn>>>0?1:0),K.high=J,K.low=W}var Cn=Ce&je^~Ce&we,pn=_e&Me^~_e&ke,Fn=Te&Ze^Te&We^Ze&We,br=Le&Be^Le&V^Be&V,Wr=(Te>>>28|Le<<4)^(Te<<30|Le>>>2)^(Te<<25|Le>>>7),Kr=(Le>>>28|Te<<4)^(Le<<30|Te>>>2)^(Le<<25|Te>>>7),Xi=(Ce>>>14|_e<<18)^(Ce>>>18|_e<<14)^(Ce<<23|_e>>>9),ws=(_e>>>14|Ce<<18)^(_e>>>18|Ce<<14)^(_e<<23|Ce>>>9),Di=p[N],ea=Di.high,Nn=Di.low,Zn=H+ws,O=Re+Xi+(Zn>>>0<H>>>0?1:0),Zn=Zn+pn,O=O+Cn+(Zn>>>0<pn>>>0?1:0),Zn=Zn+Nn,O=O+ea+(Zn>>>0<Nn>>>0?1:0),Zn=Zn+W,O=O+J+(Zn>>>0<W>>>0?1:0),Z=Kr+br,q=Wr+Fn+(Z>>>0<Kr>>>0?1:0);Re=we,H=ke,we=je,ke=Me,je=Ce,Me=_e,_e=ce+Zn|0,Ce=ee+O+(_e>>>0<ce>>>0?1:0)|0,ee=We,ce=V,We=Ze,V=Be,Ze=Te,Be=Le,Le=Zn+Z|0,Te=O+q+(Le>>>0<Zn>>>0?1:0)|0}$=k.low=$+Le,k.high=Q+Te+($>>>0<Le>>>0?1:0),te=x.low=te+Be,x.high=X+Ze+(te>>>0<Be>>>0?1:0),Ae=v.low=Ae+V,v.high=ae+We+(Ae>>>0<V>>>0?1:0),Ee=C.low=Ee+ce,C.high=he+ee+(Ee>>>0<ce>>>0?1:0),me=F.low=me+_e,F.high=Ne+Ce+(me>>>0<_e>>>0?1:0),fe=j.low=fe+Me,j.high=ge+je+(fe>>>0<Me>>>0?1:0),pe=R.low=pe+ke,R.high=le+we+(pe>>>0<ke>>>0?1:0),ie=z.low=ie+H,z.high=be+Re+(ie>>>0<H>>>0?1:0)},_doFinalize:function(){var _=this._data,w=_.words,b=this._nDataBytes*8,k=_.sigBytes*8;w[k>>>5]|=128<<24-k%32,w[(k+128>>>10<<5)+30]=Math.floor(b/4294967296),w[(k+128>>>10<<5)+31]=b,_.sigBytes=w.length*4,this._process();var x=this._hash.toX32();return x},clone:function(){var _=s.clone.call(this);return _._hash=this._hash.clone(),_},blockSize:1024/32});r.SHA512=s._createHelper(y),r.HmacSHA512=s._createHmacHelper(y)}(),n.SHA512})}(Vx)),Vx.exports}var Hx={exports:{}},zE;function IH(){return zE||(zE=1,function(t,e){(function(n,r,i){t.exports=r(an(),eg(),xP())})(jt,function(n){return function(){var r=n,i=r.x64,s=i.Word,o=i.WordArray,l=r.algo,u=l.SHA512,h=l.SHA384=u.extend({_doReset:function(){this._hash=new o.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var f=u._doFinalize.call(this);return f.sigBytes-=16,f}});r.SHA384=u._createHelper(h),r.HmacSHA384=u._createHmacHelper(h)}(),n.SHA384})}(Hx)),Hx.exports}var Wx={exports:{}},qE;function LH(){return qE||(qE=1,function(t,e){(function(n,r,i){t.exports=r(an(),eg())})(jt,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,l=s.Hasher,u=i.x64,h=u.Word,f=i.algo,p=[],g=[],y=[];(function(){for(var b=1,k=0,x=0;x<24;x++){p[b+5*k]=(x+1)*(x+2)/2%64;var v=k%5,C=(2*b+3*k)%5;b=v,k=C}for(var b=0;b<5;b++)for(var k=0;k<5;k++)g[b+5*k]=k+(2*b+3*k)%5*5;for(var F=1,j=0;j<24;j++){for(var R=0,z=0,Q=0;Q<7;Q++){if(F&1){var $=(1<<Q)-1;$<32?z^=1<<$:R^=1<<$-32}F&128?F=F<<1^113:F<<=1}y[j]=h.create(R,z)}})();var _=[];(function(){for(var b=0;b<25;b++)_[b]=h.create()})();var w=f.SHA3=l.extend({cfg:l.cfg.extend({outputLength:512}),_doReset:function(){for(var b=this._state=[],k=0;k<25;k++)b[k]=new h.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(b,k){for(var x=this._state,v=this.blockSize/2,C=0;C<v;C++){var F=b[k+2*C],j=b[k+2*C+1];F=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,j=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360;var R=x[C];R.high^=j,R.low^=F}for(var z=0;z<24;z++){for(var Q=0;Q<5;Q++){for(var $=0,X=0,te=0;te<5;te++){var R=x[Q+5*te];$^=R.high,X^=R.low}var ae=_[Q];ae.high=$,ae.low=X}for(var Q=0;Q<5;Q++)for(var Ae=_[(Q+4)%5],he=_[(Q+1)%5],Ee=he.high,Ne=he.low,$=Ae.high^(Ee<<1|Ne>>>31),X=Ae.low^(Ne<<1|Ee>>>31),te=0;te<5;te++){var R=x[Q+5*te];R.high^=$,R.low^=X}for(var me=1;me<25;me++){var $,X,R=x[me],ge=R.high,fe=R.low,le=p[me];le<32?($=ge<<le|fe>>>32-le,X=fe<<le|ge>>>32-le):($=fe<<le-32|ge>>>64-le,X=ge<<le-32|fe>>>64-le);var pe=_[g[me]];pe.high=$,pe.low=X}var be=_[0],ie=x[0];be.high=ie.high,be.low=ie.low;for(var Q=0;Q<5;Q++)for(var te=0;te<5;te++){var me=Q+5*te,R=x[me],Te=_[me],Le=_[(Q+1)%5+5*te],Ze=_[(Q+2)%5+5*te];R.high=Te.high^~Le.high&Ze.high,R.low=Te.low^~Le.low&Ze.low}var R=x[0],Be=y[z];R.high^=Be.high,R.low^=Be.low}},_doFinalize:function(){var b=this._data,k=b.words;this._nDataBytes*8;var x=b.sigBytes*8,v=this.blockSize*32;k[x>>>5]|=1<<24-x%32,k[(r.ceil((x+1)/v)*v>>>5)-1]|=128,b.sigBytes=k.length*4,this._process();for(var C=this._state,F=this.cfg.outputLength/8,j=F/8,R=[],z=0;z<j;z++){var Q=C[z],$=Q.high,X=Q.low;$=($<<8|$>>>24)&16711935|($<<24|$>>>8)&4278255360,X=(X<<8|X>>>24)&16711935|(X<<24|X>>>8)&4278255360,R.push(X),R.push($)}return new o.init(R,F)},clone:function(){for(var b=l.clone.call(this),k=b._state=this._state.slice(0),x=0;x<25;x++)k[x]=k[x].clone();return b}});i.SHA3=l._createHelper(w),i.HmacSHA3=l._createHmacHelper(w)}(Math),n.SHA3})}(Wx)),Wx.exports}var Kx={exports:{}},VE;function MH(){return VE||(VE=1,function(t,e){(function(n,r){t.exports=r(an())})(jt,function(n){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var i=n,s=i.lib,o=s.WordArray,l=s.Hasher,u=i.algo,h=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),f=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),p=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),g=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),y=o.create([0,1518500249,1859775393,2400959708,2840853838]),_=o.create([1352829926,1548603684,1836072691,2053994217,0]),w=u.RIPEMD160=l.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(j,R){for(var z=0;z<16;z++){var Q=R+z,$=j[Q];j[Q]=($<<8|$>>>24)&16711935|($<<24|$>>>8)&4278255360}var X=this._hash.words,te=y.words,ae=_.words,Ae=h.words,he=f.words,Ee=p.words,Ne=g.words,me,ge,fe,le,pe,be,ie,Te,Le,Ze;be=me=X[0],ie=ge=X[1],Te=fe=X[2],Le=le=X[3],Ze=pe=X[4];for(var Be,z=0;z<80;z+=1)Be=me+j[R+Ae[z]]|0,z<16?Be+=b(ge,fe,le)+te[0]:z<32?Be+=k(ge,fe,le)+te[1]:z<48?Be+=x(ge,fe,le)+te[2]:z<64?Be+=v(ge,fe,le)+te[3]:Be+=C(ge,fe,le)+te[4],Be=Be|0,Be=F(Be,Ee[z]),Be=Be+pe|0,me=pe,pe=le,le=F(fe,10),fe=ge,ge=Be,Be=be+j[R+he[z]]|0,z<16?Be+=C(ie,Te,Le)+ae[0]:z<32?Be+=v(ie,Te,Le)+ae[1]:z<48?Be+=x(ie,Te,Le)+ae[2]:z<64?Be+=k(ie,Te,Le)+ae[3]:Be+=b(ie,Te,Le)+ae[4],Be=Be|0,Be=F(Be,Ne[z]),Be=Be+Ze|0,be=Ze,Ze=Le,Le=F(Te,10),Te=ie,ie=Be;Be=X[1]+fe+Le|0,X[1]=X[2]+le+Ze|0,X[2]=X[3]+pe+be|0,X[3]=X[4]+me+ie|0,X[4]=X[0]+ge+Te|0,X[0]=Be},_doFinalize:function(){var j=this._data,R=j.words,z=this._nDataBytes*8,Q=j.sigBytes*8;R[Q>>>5]|=128<<24-Q%32,R[(Q+64>>>9<<4)+14]=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360,j.sigBytes=(R.length+1)*4,this._process();for(var $=this._hash,X=$.words,te=0;te<5;te++){var ae=X[te];X[te]=(ae<<8|ae>>>24)&16711935|(ae<<24|ae>>>8)&4278255360}return $},clone:function(){var j=l.clone.call(this);return j._hash=this._hash.clone(),j}});function b(j,R,z){return j^R^z}function k(j,R,z){return j&R|~j&z}function x(j,R,z){return(j|~R)^z}function v(j,R,z){return j&z|R&~z}function C(j,R,z){return j^(R|~z)}function F(j,R){return j<<R|j>>>32-R}i.RIPEMD160=l._createHelper(w),i.HmacRIPEMD160=l._createHmacHelper(w)}(),n.RIPEMD160})}(Kx)),Kx.exports}var Gx={exports:{}},HE;function k_(){return HE||(HE=1,function(t,e){(function(n,r){t.exports=r(an())})(jt,function(n){(function(){var r=n,i=r.lib,s=i.Base,o=r.enc,l=o.Utf8,u=r.algo;u.HMAC=s.extend({init:function(h,f){h=this._hasher=new h.init,typeof f=="string"&&(f=l.parse(f));var p=h.blockSize,g=p*4;f.sigBytes>g&&(f=h.finalize(f)),f.clamp();for(var y=this._oKey=f.clone(),_=this._iKey=f.clone(),w=y.words,b=_.words,k=0;k<p;k++)w[k]^=1549556828,b[k]^=909522486;y.sigBytes=_.sigBytes=g,this.reset()},reset:function(){var h=this._hasher;h.reset(),h.update(this._iKey)},update:function(h){return this._hasher.update(h),this},finalize:function(h){var f=this._hasher,p=f.finalize(h);f.reset();var g=f.finalize(this._oKey.clone().concat(p));return g}})})()})}(Gx)),Gx.exports}var Zx={exports:{}},WE;function OH(){return WE||(WE=1,function(t,e){(function(n,r,i){t.exports=r(an(),S_(),k_())})(jt,function(n){return function(){var r=n,i=r.lib,s=i.Base,o=i.WordArray,l=r.algo,u=l.SHA256,h=l.HMAC,f=l.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:u,iterations:25e4}),init:function(p){this.cfg=this.cfg.extend(p)},compute:function(p,g){for(var y=this.cfg,_=h.create(y.hasher,p),w=o.create(),b=o.create([1]),k=w.words,x=b.words,v=y.keySize,C=y.iterations;k.length<v;){var F=_.update(g).finalize(b);_.reset();for(var j=F.words,R=j.length,z=F,Q=1;Q<C;Q++){z=_.finalize(z),_.reset();for(var $=z.words,X=0;X<R;X++)j[X]^=$[X]}w.concat(F),x[0]++}return w.sigBytes=v*4,w}});r.PBKDF2=function(p,g,y){return f.create(y).compute(p,g)}}(),n.PBKDF2})}(Zx)),Zx.exports}var Yx={exports:{}},KE;function Qo(){return KE||(KE=1,function(t,e){(function(n,r,i){t.exports=r(an(),gP(),k_())})(jt,function(n){return function(){var r=n,i=r.lib,s=i.Base,o=i.WordArray,l=r.algo,u=l.MD5,h=l.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:u,iterations:1}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,p){for(var g,y=this.cfg,_=y.hasher.create(),w=o.create(),b=w.words,k=y.keySize,x=y.iterations;b.length<k;){g&&_.update(g),g=_.update(f).finalize(p),_.reset();for(var v=1;v<x;v++)g=_.finalize(g),_.reset();w.concat(g)}return w.sigBytes=k*4,w}});r.EvpKDF=function(f,p,g){return h.create(g).compute(f,p)}}(),n.EvpKDF})}(Yx)),Yx.exports}var Xx={exports:{}},GE;function mr(){return GE||(GE=1,function(t,e){(function(n,r,i){t.exports=r(an(),Qo())})(jt,function(n){n.lib.Cipher||function(r){var i=n,s=i.lib,o=s.Base,l=s.WordArray,u=s.BufferedBlockAlgorithm,h=i.enc;h.Utf8;var f=h.Base64,p=i.algo,g=p.EvpKDF,y=s.Cipher=u.extend({cfg:o.extend(),createEncryptor:function($,X){return this.create(this._ENC_XFORM_MODE,$,X)},createDecryptor:function($,X){return this.create(this._DEC_XFORM_MODE,$,X)},init:function($,X,te){this.cfg=this.cfg.extend(te),this._xformMode=$,this._key=X,this.reset()},reset:function(){u.reset.call(this),this._doReset()},process:function($){return this._append($),this._process()},finalize:function($){$&&this._append($);var X=this._doFinalize();return X},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function $(X){return typeof X=="string"?Q:j}return function(X){return{encrypt:function(te,ae,Ae){return $(ae).encrypt(X,te,ae,Ae)},decrypt:function(te,ae,Ae){return $(ae).decrypt(X,te,ae,Ae)}}}}()});s.StreamCipher=y.extend({_doFinalize:function(){var $=this._process(!0);return $},blockSize:1});var _=i.mode={},w=s.BlockCipherMode=o.extend({createEncryptor:function($,X){return this.Encryptor.create($,X)},createDecryptor:function($,X){return this.Decryptor.create($,X)},init:function($,X){this._cipher=$,this._iv=X}}),b=_.CBC=function(){var $=w.extend();$.Encryptor=$.extend({processBlock:function(te,ae){var Ae=this._cipher,he=Ae.blockSize;X.call(this,te,ae,he),Ae.encryptBlock(te,ae),this._prevBlock=te.slice(ae,ae+he)}}),$.Decryptor=$.extend({processBlock:function(te,ae){var Ae=this._cipher,he=Ae.blockSize,Ee=te.slice(ae,ae+he);Ae.decryptBlock(te,ae),X.call(this,te,ae,he),this._prevBlock=Ee}});function X(te,ae,Ae){var he,Ee=this._iv;Ee?(he=Ee,this._iv=r):he=this._prevBlock;for(var Ne=0;Ne<Ae;Ne++)te[ae+Ne]^=he[Ne]}return $}(),k=i.pad={},x=k.Pkcs7={pad:function($,X){for(var te=X*4,ae=te-$.sigBytes%te,Ae=ae<<24|ae<<16|ae<<8|ae,he=[],Ee=0;Ee<ae;Ee+=4)he.push(Ae);var Ne=l.create(he,ae);$.concat(Ne)},unpad:function($){var X=$.words[$.sigBytes-1>>>2]&255;$.sigBytes-=X}};s.BlockCipher=y.extend({cfg:y.cfg.extend({mode:b,padding:x}),reset:function(){var $;y.reset.call(this);var X=this.cfg,te=X.iv,ae=X.mode;this._xformMode==this._ENC_XFORM_MODE?$=ae.createEncryptor:($=ae.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==$?this._mode.init(this,te&&te.words):(this._mode=$.call(ae,this,te&&te.words),this._mode.__creator=$)},_doProcessBlock:function($,X){this._mode.processBlock($,X)},_doFinalize:function(){var $,X=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(X.pad(this._data,this.blockSize),$=this._process(!0)):($=this._process(!0),X.unpad($)),$},blockSize:128/32});var v=s.CipherParams=o.extend({init:function($){this.mixIn($)},toString:function($){return($||this.formatter).stringify(this)}}),C=i.format={},F=C.OpenSSL={stringify:function($){var X,te=$.ciphertext,ae=$.salt;return ae?X=l.create([1398893684,1701076831]).concat(ae).concat(te):X=te,X.toString(f)},parse:function($){var X,te=f.parse($),ae=te.words;return ae[0]==1398893684&&ae[1]==1701076831&&(X=l.create(ae.slice(2,4)),ae.splice(0,4),te.sigBytes-=16),v.create({ciphertext:te,salt:X})}},j=s.SerializableCipher=o.extend({cfg:o.extend({format:F}),encrypt:function($,X,te,ae){ae=this.cfg.extend(ae);var Ae=$.createEncryptor(te,ae),he=Ae.finalize(X),Ee=Ae.cfg;return v.create({ciphertext:he,key:te,iv:Ee.iv,algorithm:$,mode:Ee.mode,padding:Ee.padding,blockSize:$.blockSize,formatter:ae.format})},decrypt:function($,X,te,ae){ae=this.cfg.extend(ae),X=this._parse(X,ae.format);var Ae=$.createDecryptor(te,ae).finalize(X.ciphertext);return Ae},_parse:function($,X){return typeof $=="string"?X.parse($,this):$}}),R=i.kdf={},z=R.OpenSSL={execute:function($,X,te,ae,Ae){if(ae||(ae=l.random(64/8)),Ae)var he=g.create({keySize:X+te,hasher:Ae}).compute($,ae);else var he=g.create({keySize:X+te}).compute($,ae);var Ee=l.create(he.words.slice(X),te*4);return he.sigBytes=X*4,v.create({key:he,iv:Ee,salt:ae})}},Q=s.PasswordBasedCipher=j.extend({cfg:j.cfg.extend({kdf:z}),encrypt:function($,X,te,ae){ae=this.cfg.extend(ae);var Ae=ae.kdf.execute(te,$.keySize,$.ivSize,ae.salt,ae.hasher);ae.iv=Ae.iv;var he=j.encrypt.call(this,$,X,Ae.key,ae);return he.mixIn(Ae),he},decrypt:function($,X,te,ae){ae=this.cfg.extend(ae),X=this._parse(X,ae.format);var Ae=ae.kdf.execute(te,$.keySize,$.ivSize,X.salt,ae.hasher);ae.iv=Ae.iv;var he=j.decrypt.call(this,$,X,Ae.key,ae);return he}})}()})}(Xx)),Xx.exports}var Jx={exports:{}},ZE;function $H(){return ZE||(ZE=1,function(t,e){(function(n,r,i){t.exports=r(an(),mr())})(jt,function(n){return n.mode.CFB=function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(s,o){var l=this._cipher,u=l.blockSize;i.call(this,s,o,u,l),this._prevBlock=s.slice(o,o+u)}}),r.Decryptor=r.extend({processBlock:function(s,o){var l=this._cipher,u=l.blockSize,h=s.slice(o,o+u);i.call(this,s,o,u,l),this._prevBlock=h}});function i(s,o,l,u){var h,f=this._iv;f?(h=f.slice(0),this._iv=void 0):h=this._prevBlock,u.encryptBlock(h,0);for(var p=0;p<l;p++)s[o+p]^=h[p]}return r}(),n.mode.CFB})}(Jx)),Jx.exports}var Qx={exports:{}},YE;function UH(){return YE||(YE=1,function(t,e){(function(n,r,i){t.exports=r(an(),mr())})(jt,function(n){return n.mode.CTR=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(s,o){var l=this._cipher,u=l.blockSize,h=this._iv,f=this._counter;h&&(f=this._counter=h.slice(0),this._iv=void 0);var p=f.slice(0);l.encryptBlock(p,0),f[u-1]=f[u-1]+1|0;for(var g=0;g<u;g++)s[o+g]^=p[g]}});return r.Decryptor=i,r}(),n.mode.CTR})}(Qx)),Qx.exports}var ey={exports:{}},XE;function zH(){return XE||(XE=1,function(t,e){(function(n,r,i){t.exports=r(an(),mr())})(jt,function(n){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return n.mode.CTRGladman=function(){var r=n.lib.BlockCipherMode.extend();function i(l){if((l>>24&255)===255){var u=l>>16&255,h=l>>8&255,f=l&255;u===255?(u=0,h===255?(h=0,f===255?f=0:++f):++h):++u,l=0,l+=u<<16,l+=h<<8,l+=f}else l+=1<<24;return l}function s(l){return(l[0]=i(l[0]))===0&&(l[1]=i(l[1])),l}var o=r.Encryptor=r.extend({processBlock:function(l,u){var h=this._cipher,f=h.blockSize,p=this._iv,g=this._counter;p&&(g=this._counter=p.slice(0),this._iv=void 0),s(g);var y=g.slice(0);h.encryptBlock(y,0);for(var _=0;_<f;_++)l[u+_]^=y[_]}});return r.Decryptor=o,r}(),n.mode.CTRGladman})}(ey)),ey.exports}var ty={exports:{}},JE;function qH(){return JE||(JE=1,function(t,e){(function(n,r,i){t.exports=r(an(),mr())})(jt,function(n){return n.mode.OFB=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(s,o){var l=this._cipher,u=l.blockSize,h=this._iv,f=this._keystream;h&&(f=this._keystream=h.slice(0),this._iv=void 0),l.encryptBlock(f,0);for(var p=0;p<u;p++)s[o+p]^=f[p]}});return r.Decryptor=i,r}(),n.mode.OFB})}(ty)),ty.exports}var ny={exports:{}},QE;function VH(){return QE||(QE=1,function(t,e){(function(n,r,i){t.exports=r(an(),mr())})(jt,function(n){return n.mode.ECB=function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(i,s){this._cipher.encryptBlock(i,s)}}),r.Decryptor=r.extend({processBlock:function(i,s){this._cipher.decryptBlock(i,s)}}),r}(),n.mode.ECB})}(ny)),ny.exports}var ry={exports:{}},eA;function HH(){return eA||(eA=1,function(t,e){(function(n,r,i){t.exports=r(an(),mr())})(jt,function(n){return n.pad.AnsiX923={pad:function(r,i){var s=r.sigBytes,o=i*4,l=o-s%o,u=s+l-1;r.clamp(),r.words[u>>>2]|=l<<24-u%4*8,r.sigBytes+=l},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Ansix923})}(ry)),ry.exports}var iy={exports:{}},tA;function WH(){return tA||(tA=1,function(t,e){(function(n,r,i){t.exports=r(an(),mr())})(jt,function(n){return n.pad.Iso10126={pad:function(r,i){var s=i*4,o=s-r.sigBytes%s;r.concat(n.lib.WordArray.random(o-1)).concat(n.lib.WordArray.create([o<<24],1))},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Iso10126})}(iy)),iy.exports}var sy={exports:{}},nA;function KH(){return nA||(nA=1,function(t,e){(function(n,r,i){t.exports=r(an(),mr())})(jt,function(n){return n.pad.Iso97971={pad:function(r,i){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,i)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})}(sy)),sy.exports}var oy={exports:{}},rA;function GH(){return rA||(rA=1,function(t,e){(function(n,r,i){t.exports=r(an(),mr())})(jt,function(n){return n.pad.ZeroPadding={pad:function(r,i){var s=i*4;r.clamp(),r.sigBytes+=s-(r.sigBytes%s||s)},unpad:function(r){for(var i=r.words,s=r.sigBytes-1,s=r.sigBytes-1;s>=0;s--)if(i[s>>>2]>>>24-s%4*8&255){r.sigBytes=s+1;break}}},n.pad.ZeroPadding})}(oy)),oy.exports}var ay={exports:{}},iA;function ZH(){return iA||(iA=1,function(t,e){(function(n,r,i){t.exports=r(an(),mr())})(jt,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})}(ay)),ay.exports}var ly={exports:{}},sA;function YH(){return sA||(sA=1,function(t,e){(function(n,r,i){t.exports=r(an(),mr())})(jt,function(n){return function(r){var i=n,s=i.lib,o=s.CipherParams,l=i.enc,u=l.Hex,h=i.format;h.Hex={stringify:function(f){return f.ciphertext.toString(u)},parse:function(f){var p=u.parse(f);return o.create({ciphertext:p})}}}(),n.format.Hex})}(ly)),ly.exports}var cy={exports:{}},oA;function XH(){return oA||(oA=1,function(t,e){(function(n,r,i){t.exports=r(an(),Ja(),Qa(),Qo(),mr())})(jt,function(n){return function(){var r=n,i=r.lib,s=i.BlockCipher,o=r.algo,l=[],u=[],h=[],f=[],p=[],g=[],y=[],_=[],w=[],b=[];(function(){for(var v=[],C=0;C<256;C++)C<128?v[C]=C<<1:v[C]=C<<1^283;for(var F=0,j=0,C=0;C<256;C++){var R=j^j<<1^j<<2^j<<3^j<<4;R=R>>>8^R&255^99,l[F]=R,u[R]=F;var z=v[F],Q=v[z],$=v[Q],X=v[R]*257^R*16843008;h[F]=X<<24|X>>>8,f[F]=X<<16|X>>>16,p[F]=X<<8|X>>>24,g[F]=X;var X=$*16843009^Q*65537^z*257^F*16843008;y[R]=X<<24|X>>>8,_[R]=X<<16|X>>>16,w[R]=X<<8|X>>>24,b[R]=X,F?(F=z^v[v[v[$^z]]],j^=v[v[j]]):F=j=1}})();var k=[0,1,2,4,8,16,32,64,128,27,54],x=o.AES=s.extend({_doReset:function(){var v;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var C=this._keyPriorReset=this._key,F=C.words,j=C.sigBytes/4,R=this._nRounds=j+6,z=(R+1)*4,Q=this._keySchedule=[],$=0;$<z;$++)$<j?Q[$]=F[$]:(v=Q[$-1],$%j?j>6&&$%j==4&&(v=l[v>>>24]<<24|l[v>>>16&255]<<16|l[v>>>8&255]<<8|l[v&255]):(v=v<<8|v>>>24,v=l[v>>>24]<<24|l[v>>>16&255]<<16|l[v>>>8&255]<<8|l[v&255],v^=k[$/j|0]<<24),Q[$]=Q[$-j]^v);for(var X=this._invKeySchedule=[],te=0;te<z;te++){var $=z-te;if(te%4)var v=Q[$];else var v=Q[$-4];te<4||$<=4?X[te]=v:X[te]=y[l[v>>>24]]^_[l[v>>>16&255]]^w[l[v>>>8&255]]^b[l[v&255]]}}},encryptBlock:function(v,C){this._doCryptBlock(v,C,this._keySchedule,h,f,p,g,l)},decryptBlock:function(v,C){var F=v[C+1];v[C+1]=v[C+3],v[C+3]=F,this._doCryptBlock(v,C,this._invKeySchedule,y,_,w,b,u);var F=v[C+1];v[C+1]=v[C+3],v[C+3]=F},_doCryptBlock:function(v,C,F,j,R,z,Q,$){for(var X=this._nRounds,te=v[C]^F[0],ae=v[C+1]^F[1],Ae=v[C+2]^F[2],he=v[C+3]^F[3],Ee=4,Ne=1;Ne<X;Ne++){var me=j[te>>>24]^R[ae>>>16&255]^z[Ae>>>8&255]^Q[he&255]^F[Ee++],ge=j[ae>>>24]^R[Ae>>>16&255]^z[he>>>8&255]^Q[te&255]^F[Ee++],fe=j[Ae>>>24]^R[he>>>16&255]^z[te>>>8&255]^Q[ae&255]^F[Ee++],le=j[he>>>24]^R[te>>>16&255]^z[ae>>>8&255]^Q[Ae&255]^F[Ee++];te=me,ae=ge,Ae=fe,he=le}var me=($[te>>>24]<<24|$[ae>>>16&255]<<16|$[Ae>>>8&255]<<8|$[he&255])^F[Ee++],ge=($[ae>>>24]<<24|$[Ae>>>16&255]<<16|$[he>>>8&255]<<8|$[te&255])^F[Ee++],fe=($[Ae>>>24]<<24|$[he>>>16&255]<<16|$[te>>>8&255]<<8|$[ae&255])^F[Ee++],le=($[he>>>24]<<24|$[te>>>16&255]<<16|$[ae>>>8&255]<<8|$[Ae&255])^F[Ee++];v[C]=me,v[C+1]=ge,v[C+2]=fe,v[C+3]=le},keySize:256/32});r.AES=s._createHelper(x)}(),n.AES})}(cy)),cy.exports}var uy={exports:{}},aA;function JH(){return aA||(aA=1,function(t,e){(function(n,r,i){t.exports=r(an(),Ja(),Qa(),Qo(),mr())})(jt,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=i.BlockCipher,l=r.algo,u=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],h=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],f=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],p=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],g=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],y=l.DES=o.extend({_doReset:function(){for(var k=this._key,x=k.words,v=[],C=0;C<56;C++){var F=u[C]-1;v[C]=x[F>>>5]>>>31-F%32&1}for(var j=this._subKeys=[],R=0;R<16;R++){for(var z=j[R]=[],Q=f[R],C=0;C<24;C++)z[C/6|0]|=v[(h[C]-1+Q)%28]<<31-C%6,z[4+(C/6|0)]|=v[28+(h[C+24]-1+Q)%28]<<31-C%6;z[0]=z[0]<<1|z[0]>>>31;for(var C=1;C<7;C++)z[C]=z[C]>>>(C-1)*4+3;z[7]=z[7]<<5|z[7]>>>27}for(var $=this._invSubKeys=[],C=0;C<16;C++)$[C]=j[15-C]},encryptBlock:function(k,x){this._doCryptBlock(k,x,this._subKeys)},decryptBlock:function(k,x){this._doCryptBlock(k,x,this._invSubKeys)},_doCryptBlock:function(k,x,v){this._lBlock=k[x],this._rBlock=k[x+1],_.call(this,4,252645135),_.call(this,16,65535),w.call(this,2,858993459),w.call(this,8,16711935),_.call(this,1,1431655765);for(var C=0;C<16;C++){for(var F=v[C],j=this._lBlock,R=this._rBlock,z=0,Q=0;Q<8;Q++)z|=p[Q][((R^F[Q])&g[Q])>>>0];this._lBlock=R,this._rBlock=j^z}var $=this._lBlock;this._lBlock=this._rBlock,this._rBlock=$,_.call(this,1,1431655765),w.call(this,8,16711935),w.call(this,2,858993459),_.call(this,16,65535),_.call(this,4,252645135),k[x]=this._lBlock,k[x+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function _(k,x){var v=(this._lBlock>>>k^this._rBlock)&x;this._rBlock^=v,this._lBlock^=v<<k}function w(k,x){var v=(this._rBlock>>>k^this._lBlock)&x;this._lBlock^=v,this._rBlock^=v<<k}r.DES=o._createHelper(y);var b=l.TripleDES=o.extend({_doReset:function(){var k=this._key,x=k.words;if(x.length!==2&&x.length!==4&&x.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var v=x.slice(0,2),C=x.length<4?x.slice(0,2):x.slice(2,4),F=x.length<6?x.slice(0,2):x.slice(4,6);this._des1=y.createEncryptor(s.create(v)),this._des2=y.createEncryptor(s.create(C)),this._des3=y.createEncryptor(s.create(F))},encryptBlock:function(k,x){this._des1.encryptBlock(k,x),this._des2.decryptBlock(k,x),this._des3.encryptBlock(k,x)},decryptBlock:function(k,x){this._des3.decryptBlock(k,x),this._des2.encryptBlock(k,x),this._des1.decryptBlock(k,x)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=o._createHelper(b)}(),n.TripleDES})}(uy)),uy.exports}var dy={exports:{}},lA;function QH(){return lA||(lA=1,function(t,e){(function(n,r,i){t.exports=r(an(),Ja(),Qa(),Qo(),mr())})(jt,function(n){return function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,l=o.RC4=s.extend({_doReset:function(){for(var f=this._key,p=f.words,g=f.sigBytes,y=this._S=[],_=0;_<256;_++)y[_]=_;for(var _=0,w=0;_<256;_++){var b=_%g,k=p[b>>>2]>>>24-b%4*8&255;w=(w+y[_]+k)%256;var x=y[_];y[_]=y[w],y[w]=x}this._i=this._j=0},_doProcessBlock:function(f,p){f[p]^=u.call(this)},keySize:256/32,ivSize:0});function u(){for(var f=this._S,p=this._i,g=this._j,y=0,_=0;_<4;_++){p=(p+1)%256,g=(g+f[p])%256;var w=f[p];f[p]=f[g],f[g]=w,y|=f[(f[p]+f[g])%256]<<24-_*8}return this._i=p,this._j=g,y}r.RC4=s._createHelper(l);var h=o.RC4Drop=l.extend({cfg:l.cfg.extend({drop:192}),_doReset:function(){l._doReset.call(this);for(var f=this.cfg.drop;f>0;f--)u.call(this)}});r.RC4Drop=s._createHelper(h)}(),n.RC4})}(dy)),dy.exports}var hy={exports:{}},cA;function eW(){return cA||(cA=1,function(t,e){(function(n,r,i){t.exports=r(an(),Ja(),Qa(),Qo(),mr())})(jt,function(n){return function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,l=[],u=[],h=[],f=o.Rabbit=s.extend({_doReset:function(){for(var g=this._key.words,y=this.cfg.iv,_=0;_<4;_++)g[_]=(g[_]<<8|g[_]>>>24)&16711935|(g[_]<<24|g[_]>>>8)&4278255360;var w=this._X=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],b=this._C=[g[2]<<16|g[2]>>>16,g[0]&4294901760|g[1]&65535,g[3]<<16|g[3]>>>16,g[1]&4294901760|g[2]&65535,g[0]<<16|g[0]>>>16,g[2]&4294901760|g[3]&65535,g[1]<<16|g[1]>>>16,g[3]&4294901760|g[0]&65535];this._b=0;for(var _=0;_<4;_++)p.call(this);for(var _=0;_<8;_++)b[_]^=w[_+4&7];if(y){var k=y.words,x=k[0],v=k[1],C=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,F=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,j=C>>>16|F&4294901760,R=F<<16|C&65535;b[0]^=C,b[1]^=j,b[2]^=F,b[3]^=R,b[4]^=C,b[5]^=j,b[6]^=F,b[7]^=R;for(var _=0;_<4;_++)p.call(this)}},_doProcessBlock:function(g,y){var _=this._X;p.call(this),l[0]=_[0]^_[5]>>>16^_[3]<<16,l[1]=_[2]^_[7]>>>16^_[5]<<16,l[2]=_[4]^_[1]>>>16^_[7]<<16,l[3]=_[6]^_[3]>>>16^_[1]<<16;for(var w=0;w<4;w++)l[w]=(l[w]<<8|l[w]>>>24)&16711935|(l[w]<<24|l[w]>>>8)&4278255360,g[y+w]^=l[w]},blockSize:128/32,ivSize:64/32});function p(){for(var g=this._X,y=this._C,_=0;_<8;_++)u[_]=y[_];y[0]=y[0]+1295307597+this._b|0,y[1]=y[1]+3545052371+(y[0]>>>0<u[0]>>>0?1:0)|0,y[2]=y[2]+886263092+(y[1]>>>0<u[1]>>>0?1:0)|0,y[3]=y[3]+1295307597+(y[2]>>>0<u[2]>>>0?1:0)|0,y[4]=y[4]+3545052371+(y[3]>>>0<u[3]>>>0?1:0)|0,y[5]=y[5]+886263092+(y[4]>>>0<u[4]>>>0?1:0)|0,y[6]=y[6]+1295307597+(y[5]>>>0<u[5]>>>0?1:0)|0,y[7]=y[7]+3545052371+(y[6]>>>0<u[6]>>>0?1:0)|0,this._b=y[7]>>>0<u[7]>>>0?1:0;for(var _=0;_<8;_++){var w=g[_]+y[_],b=w&65535,k=w>>>16,x=((b*b>>>17)+b*k>>>15)+k*k,v=((w&4294901760)*w|0)+((w&65535)*w|0);h[_]=x^v}g[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,g[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,g[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,g[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,g[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,g[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,g[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,g[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}r.Rabbit=s._createHelper(f)}(),n.Rabbit})}(hy)),hy.exports}var fy={exports:{}},uA;function tW(){return uA||(uA=1,function(t,e){(function(n,r,i){t.exports=r(an(),Ja(),Qa(),Qo(),mr())})(jt,function(n){return function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,l=[],u=[],h=[],f=o.RabbitLegacy=s.extend({_doReset:function(){var g=this._key.words,y=this.cfg.iv,_=this._X=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],w=this._C=[g[2]<<16|g[2]>>>16,g[0]&4294901760|g[1]&65535,g[3]<<16|g[3]>>>16,g[1]&4294901760|g[2]&65535,g[0]<<16|g[0]>>>16,g[2]&4294901760|g[3]&65535,g[1]<<16|g[1]>>>16,g[3]&4294901760|g[0]&65535];this._b=0;for(var b=0;b<4;b++)p.call(this);for(var b=0;b<8;b++)w[b]^=_[b+4&7];if(y){var k=y.words,x=k[0],v=k[1],C=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,F=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,j=C>>>16|F&4294901760,R=F<<16|C&65535;w[0]^=C,w[1]^=j,w[2]^=F,w[3]^=R,w[4]^=C,w[5]^=j,w[6]^=F,w[7]^=R;for(var b=0;b<4;b++)p.call(this)}},_doProcessBlock:function(g,y){var _=this._X;p.call(this),l[0]=_[0]^_[5]>>>16^_[3]<<16,l[1]=_[2]^_[7]>>>16^_[5]<<16,l[2]=_[4]^_[1]>>>16^_[7]<<16,l[3]=_[6]^_[3]>>>16^_[1]<<16;for(var w=0;w<4;w++)l[w]=(l[w]<<8|l[w]>>>24)&16711935|(l[w]<<24|l[w]>>>8)&4278255360,g[y+w]^=l[w]},blockSize:128/32,ivSize:64/32});function p(){for(var g=this._X,y=this._C,_=0;_<8;_++)u[_]=y[_];y[0]=y[0]+1295307597+this._b|0,y[1]=y[1]+3545052371+(y[0]>>>0<u[0]>>>0?1:0)|0,y[2]=y[2]+886263092+(y[1]>>>0<u[1]>>>0?1:0)|0,y[3]=y[3]+1295307597+(y[2]>>>0<u[2]>>>0?1:0)|0,y[4]=y[4]+3545052371+(y[3]>>>0<u[3]>>>0?1:0)|0,y[5]=y[5]+886263092+(y[4]>>>0<u[4]>>>0?1:0)|0,y[6]=y[6]+1295307597+(y[5]>>>0<u[5]>>>0?1:0)|0,y[7]=y[7]+3545052371+(y[6]>>>0<u[6]>>>0?1:0)|0,this._b=y[7]>>>0<u[7]>>>0?1:0;for(var _=0;_<8;_++){var w=g[_]+y[_],b=w&65535,k=w>>>16,x=((b*b>>>17)+b*k>>>15)+k*k,v=((w&4294901760)*w|0)+((w&65535)*w|0);h[_]=x^v}g[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,g[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,g[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,g[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,g[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,g[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,g[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,g[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}r.RabbitLegacy=s._createHelper(f)}(),n.RabbitLegacy})}(fy)),fy.exports}var py={exports:{}},dA;function nW(){return dA||(dA=1,function(t,e){(function(n,r,i){t.exports=r(an(),Ja(),Qa(),Qo(),mr())})(jt,function(n){return function(){var r=n,i=r.lib,s=i.BlockCipher,o=r.algo;const l=16,u=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],h=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var f={pbox:[],sbox:[]};function p(b,k){let x=k>>24&255,v=k>>16&255,C=k>>8&255,F=k&255,j=b.sbox[0][x]+b.sbox[1][v];return j=j^b.sbox[2][C],j=j+b.sbox[3][F],j}function g(b,k,x){let v=k,C=x,F;for(let j=0;j<l;++j)v=v^b.pbox[j],C=p(b,v)^C,F=v,v=C,C=F;return F=v,v=C,C=F,C=C^b.pbox[l],v=v^b.pbox[l+1],{left:v,right:C}}function y(b,k,x){let v=k,C=x,F;for(let j=l+1;j>1;--j)v=v^b.pbox[j],C=p(b,v)^C,F=v,v=C,C=F;return F=v,v=C,C=F,C=C^b.pbox[1],v=v^b.pbox[0],{left:v,right:C}}function _(b,k,x){for(let R=0;R<4;R++){b.sbox[R]=[];for(let z=0;z<256;z++)b.sbox[R][z]=h[R][z]}let v=0;for(let R=0;R<l+2;R++)b.pbox[R]=u[R]^k[v],v++,v>=x&&(v=0);let C=0,F=0,j=0;for(let R=0;R<l+2;R+=2)j=g(b,C,F),C=j.left,F=j.right,b.pbox[R]=C,b.pbox[R+1]=F;for(let R=0;R<4;R++)for(let z=0;z<256;z+=2)j=g(b,C,F),C=j.left,F=j.right,b.sbox[R][z]=C,b.sbox[R][z+1]=F;return!0}var w=o.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var b=this._keyPriorReset=this._key,k=b.words,x=b.sigBytes/4;_(f,k,x)}},encryptBlock:function(b,k){var x=g(f,b[k],b[k+1]);b[k]=x.left,b[k+1]=x.right},decryptBlock:function(b,k){var x=y(f,b[k],b[k+1]);b[k]=x.left,b[k+1]=x.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=s._createHelper(w)}(),n.Blowfish})}(py)),py.exports}(function(t,e){(function(n,r,i){t.exports=r(an(),eg(),NH(),RH(),Ja(),BH(),Qa(),gP(),S_(),DH(),xP(),IH(),LH(),MH(),k_(),OH(),Qo(),mr(),$H(),UH(),zH(),qH(),VH(),HH(),WH(),KH(),GH(),ZH(),YH(),XH(),JH(),QH(),eW(),tW(),nW())})(jt,function(n){return n})})(mP);var rW=mP.exports;const hA=zo(rW),iW=t=>new Promise(e=>{const n=new FileReader;n.onload=r=>{var l;const i=(l=r.target)==null?void 0:l.result,s=hA.lib.WordArray.create(i),o=hA.SHA256(s).toString();e(o)},n.readAsArrayBuffer(t)}),sW=async t=>(await new Promise(e=>setTimeout(e,2e3)),`This is a mock transcription of the audio file "${t.name}". In production, this would be generated using OpenAI's Whisper API or ElevenLabs transcription service.`),oW=async(t,e)=>(await new Promise(n=>setTimeout(n,1500)),`AI Analysis Summary: This evidence file "${e}" contains important content that has been analyzed for key information, context, and potential significance. The content appears to be well-structured and contains relevant details that could be valuable for verification purposes. ${t?"Audio transcription reveals clear communication with important contextual information.":"Document content has been processed and summarized for easy reference."}`),aW=async t=>{try{console.log("Uploading file to IPFS via Pinata...");const e=await Hm.uploadFile(t,{name:`ProofVault_${t.name}`,keyvalues:{source:"ProofVault",type:"evidence",timestamp:new Date().toISOString()}});return console.log("File uploaded to IPFS via Pinata:",e.IpfsHash),e.IpfsHash}catch(e){throw console.error("IPFS upload failed:",e),new Error("Failed to upload file to IPFS")}},lW=async(t,e,n)=>{try{if(console.log("Recording proof on Algorand blockchain..."),!dc.isConfigured())return console.warn("Algorand service not configured, using mock transaction"),await new Promise(i=>setTimeout(i,1500)),`MOCK_ALGO${Math.random().toString(36).substring(2,15).toUpperCase()}`;const r=await dc.createProofTransaction(t,e,n);return console.log("Proof recorded on Algorand:",r),r}catch(r){return console.error("Algorand recording failed:",r),await new Promise(i=>setTimeout(i,1500)),`MOCK_ALGO${Math.random().toString(36).substring(2,15).toUpperCase()}`}},cW=async(t,e,n)=>{const r=`proof_${Date.now()}_${Math.random().toString(36).substring(2,15)}`;n("hashing");const i=await iW(t);let s;t.type.startsWith("audio/")&&(n("transcribing"),s=await sW(t)),n("analyzing");const o=await oW(s||"",t.name);n("storing");const l=await aW(t);n("blockchain");const u=await lW(i,t.name,e);return n("verification"),await new Promise(h=>setTimeout(h,2e3)),{id:r,fileName:t.name,fileType:t.type,fileHash:i,ipfsHash:l,summary:o,transcript:s,algorandTxId:u,uploadDate:new Date,walletAddress:e,status:"completed"}},yP=async(t,e,n,r)=>{const i=await cW(t,e,n);n("verification");const s=await r(t,i.id);return{proofRecord:i,verificationReport:s}},uW=(t,e="https://gateway.pinata.cloud/ipfs")=>Hm.getGatewayUrl(t,e),dW=(t,e)=>e.some(n=>t instanceof n);let fA,pA;function hW(){return fA||(fA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fW(){return pA||(pA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vP=new WeakMap,fw=new WeakMap,wP=new WeakMap,my=new WeakMap,E_=new WeakMap;function pW(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Bo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vP.set(n,t)}).catch(()=>{}),E_.set(e,t),e}function mW(t){if(fw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});fw.set(t,e)}let pw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gW(t){pw=t(pw)}function xW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gy(this),e,...n);return wP.set(r,e.sort?e.sort():[e]),Bo(r)}:fW().includes(t)?function(...e){return t.apply(gy(this),e),Bo(vP.get(this))}:function(...e){return Bo(t.apply(gy(this),e))}}function yW(t){return typeof t=="function"?xW(t):(t instanceof IDBTransaction&&mW(t),dW(t,hW())?new Proxy(t,pw):t)}function Bo(t){if(t instanceof IDBRequest)return pW(t);if(my.has(t))return my.get(t);const e=yW(t);return e!==t&&(my.set(t,e),E_.set(e,t)),e}const gy=t=>E_.get(t);function vW(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Bo(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Bo(o.result),u.oldVersion,u.newVersion,Bo(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const wW=["get","getKey","getAll","getAllKeys","count"],bW=["put","add","delete","clear"],xy=new Map;function mA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xy.get(e))return xy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=bW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wW.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&u.done]))[0]};return xy.set(e,s),s}gW(t=>({...t,get:(e,n,r)=>mA(e,n)||t.get(e,n,r),has:(e,n)=>!!mA(e,n)||t.has(e,n)}));class _W{constructor(){this.db=null}async init(){this.db=await vW("ProofVaultOffline",1,{upgrade(e){e.objectStoreNames.contains("pendingUploads")||e.createObjectStore("pendingUploads",{keyPath:"id"}),e.objectStoreNames.contains("syncedProofs")||e.createObjectStore("syncedProofs",{keyPath:"id"}),e.objectStoreNames.contains("voiceMessages")||e.createObjectStore("voiceMessages",{keyPath:"id"})}})}async storePendingUpload(e,n){this.db||await this.init();const r=`pending_${Date.now()}_${Math.random().toString(36).substring(2,8)}`,i={id:r,file:e,metadata:n,status:"pending",createdAt:new Date,retryCount:0};return await this.db.add("pendingUploads",i),r}async getPendingUploads(){return this.db||await this.init(),await this.db.getAll("pendingUploads")}async updateUploadStatus(e,n){this.db||await this.init();const r=await this.db.get("pendingUploads",e);r&&(r.status=n,n==="failed"&&(r.retryCount+=1),await this.db.put("pendingUploads",r))}async removePendingUpload(e){this.db||await this.init(),await this.db.delete("pendingUploads",e)}async storeSyncedProof(e,n){this.db||await this.init(),await this.db.put("syncedProofs",{...e,verificationReport:n})}async getSyncedProofs(){return this.db||await this.init(),await this.db.getAll("syncedProofs")}async storeVoiceMessage(e,n){this.db||await this.init();const r=`voice_${Date.now()}_${Math.random().toString(36).substring(2,8)}`,i={id:r,audioBlob:e,threadId:n,timestamp:new Date,status:"pending"};return await this.db.add("voiceMessages",i),r}async getVoiceMessages(){return this.db||await this.init(),await this.db.getAll("voiceMessages")}async updateVoiceMessage(e,n){this.db||await this.init();const r=await this.db.get("voiceMessages",e);r&&(Object.assign(r,n),await this.db.put("voiceMessages",r))}async clearSyncedData(){this.db||await this.init(),await this.db.clear("pendingUploads"),await this.db.clear("voiceMessages")}async getStorageStats(){this.db||await this.init();const e=await this.db.count("pendingUploads"),n=await this.db.count("syncedProofs"),r=await this.db.count("voiceMessages");return{pending:e,synced:n,voices:r}}}const rr=new _W;class SW{constructor(){this.isConfigured=!1,this.isConfigured=Pi.isServiceConfigured(),this.isConfigured?console.log("Content Moderation Service initialized with OpenAI"):console.warn("Content moderation using enhanced mock analysis")}async moderateContent(e){if(!this.isConfigured)return this.getMockModerationResult(e);try{const n=[e.text,e.imageDescription,e.audioTranscription].filter(Boolean).join(" ");if(!n.trim())return{flagged:!1,categories:[],confidence:0,action:"allow"};const r=await Pi.moderateContent(n),i=this.determineAction(r.categories,r.flagged);return{flagged:r.flagged,categories:r.categories,confidence:r.flagged?.85:.15,action:i,reason:this.generateReason(r.categories)}}catch(n){return console.error("Content moderation failed:",n),this.getMockModerationResult(e)}}async moderateFile(e){try{let n={};if(e.type.startsWith("text/")){const r=await this.readTextFile(e);n.text=r}else if(e.type.startsWith("image/"))n.imageDescription=await this.analyzeImage(e);else if(e.type.startsWith("audio/")||e.type.startsWith("video/"))try{const r=await Pi.transcribeAudio(e);n.audioTranscription=r.text}catch(r){console.warn("Transcription failed for moderation:",r)}return await this.moderateContent(n)}catch(n){return console.error("File moderation failed:",n),{flagged:!1,categories:[],confidence:0,action:"allow"}}}async readTextFile(e){return new Promise((n,r)=>{const i=new FileReader;i.onload=s=>{var o;return n((o=s.target)==null?void 0:o.result)},i.onerror=r,i.readAsText(e)})}async analyzeImage(e){return`Image file: ${e.name} (${e.type})`}determineAction(e,n){if(!n)return"allow";const r=["child-exploitation","illegal"];if(e.some(s=>r.includes(s)))return"block";const i=["violence","hate","harassment","self-harm"];return e.some(s=>i.includes(s))?"review":"allow"}generateReason(e){if(e.length===0)return;const n={violence:"Content contains descriptions of violence",hate:"Content contains hate speech or discriminatory language",harassment:"Content contains harassing or threatening language","self-harm":"Content contains references to self-harm",sexual:"Content contains sexual material",illegal:"Content may contain illegal activity"},r=e[0];return n[r]||`Content flagged for: ${e.join(", ")}`}getMockModerationResult(e){const n=[e.text,e.imageDescription,e.audioTranscription].filter(Boolean).join(" ").toLowerCase(),i=["violence","hate","threat","harm","illegal","inappropriate","abuse","harassment","discrimination","explicit"].filter(u=>n.includes(u)),s=i.length>0,o=s?Math.min(.9,i.length*.3):Math.random()*.2;let l="allow";return s&&(l=o>.7?"block":"review"),{flagged:s,categories:i,confidence:o,action:l,reason:s?`Content contains potentially inappropriate material: ${i.join(", ")}`:void 0}}isServiceConfigured(){return this.isConfigured}}const kW=new SW;class EW{constructor(){this.isConfigured=!1,this.apiKey="",this.endpoint="https://api.sensity.ai/v1",this.isConfigured=!!this.apiKey,this.isConfigured?console.log("Deepfake Detection Service initialized"):console.warn("Deepfake detection API not configured - using enhanced mock analysis")}async analyzeMedia(e){if(!e.type.startsWith("image/")&&!e.type.startsWith("video/"))throw new Error("Deepfake detection only supports images and videos");if(!this.isConfigured)return this.getMockAnalysis(e);try{const n=new FormData;n.append("file",e);const r=await fetch(`${this.endpoint}/detect`,{method:"POST",headers:{Authorization:`Bearer ${this.apiKey}`},body:n});if(!r.ok)throw new Error(`API error: ${r.status}`);const i=await r.json();return{isDeepfake:i.is_deepfake||!1,confidence:i.confidence||0,riskLevel:this.calculateRiskLevel(i.confidence||0),details:{faceSwap:i.face_swap_score,lipSync:i.lip_sync_score,temporalConsistency:i.temporal_consistency,artifacts:i.artifacts||[]}}}catch(n){return console.error("Deepfake detection failed:",n),this.getMockAnalysis(e)}}getMockAnalysis(e){let n=Math.random()*100;return e.size<1e5&&(n+=20),e.type.startsWith("video/")&&e.size>5e7&&(n-=15),n=Math.max(0,Math.min(100,n)),{isDeepfake:n>70,confidence:n,riskLevel:this.calculateRiskLevel(n),details:{faceSwap:Math.random()*100,lipSync:Math.random()*100,temporalConsistency:Math.random()*100,artifacts:n>50?["compression_artifacts","face_boundary_inconsistency"]:[]}}}calculateRiskLevel(e){return e>=80?"critical":e>=60?"high":e>=30?"medium":"low"}isServiceConfigured(){return this.isConfigured}}const AW=new EW,bP=({analysis:t,isLoading:e})=>{if(e)return c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"animate-spin",children:c.jsx(Xd,{className:"h-5 w-5 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-blue-900",children:"Analyzing for Deepfakes"}),c.jsx("p",{className:"text-sm text-blue-700",children:"Running advanced detection algorithms..."})]})]})});const n=h=>{switch(h){case"critical":return"red";case"high":return"orange";case"medium":return"yellow";case"low":return"green";default:return"gray"}},r=h=>{switch(h){case"critical":case"high":return c.jsx(si,{className:"h-5 w-5"});case"medium":return c.jsx(Sn,{className:"h-5 w-5"});case"low":return c.jsx(Tr,{className:"h-5 w-5"});default:return c.jsx(Sn,{className:"h-5 w-5"})}},i=n(t.riskLevel),s=`bg-${i}-50`,o=`border-${i}-200`,l=`text-${i}-900`,u=`text-${i}-600`;return c.jsxs(wt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:`${s} ${o} border rounded-lg p-4`,children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:u,children:r(t.riskLevel)}),c.jsxs("div",{children:[c.jsxs("h4",{className:`font-medium ${l}`,children:["Deepfake Analysis: ",t.riskLevel.toUpperCase()," Risk"]}),c.jsxs("p",{className:`text-sm ${l.replace("900","700")}`,children:[t.confidence.toFixed(1),"% manipulation probability"]})]})]}),t.flaggedForReview&&c.jsx("div",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs font-medium",children:"Flagged for Review"})]}),c.jsxs("div",{className:"mt-4 space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:l.replace("900","700"),children:"Detection Method:"}),c.jsx("span",{className:`font-medium ${l}`,children:t.detectionMethod})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:l.replace("900","700"),children:"Analysis Time:"}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(zr,{className:"h-3 w-3"}),c.jsx("span",{className:`font-medium ${l}`,children:t.analysisTimestamp.toLocaleTimeString()})]})]}),c.jsxs("div",{className:"mt-3",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[c.jsx("span",{className:l.replace("900","600"),children:"Manipulation Confidence"}),c.jsxs("span",{className:`font-medium ${l}`,children:[t.confidence.toFixed(1),"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:`h-2 rounded-full bg-${i}-500`,style:{width:`${t.confidence}%`}})})]}),t.reviewNotes&&c.jsx("div",{className:"mt-3 p-2 bg-white/50 rounded border",children:c.jsxs("p",{className:`text-xs ${l.replace("900","700")}`,children:[c.jsx("strong",{children:"Review Notes:"})," ",t.reviewNotes]})})]})]})};function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}function qa(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Hr(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function vs(t){Hr(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Dp(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function CW(t,e){Hr(2,arguments);var n=vs(t).getTime(),r=qa(e);return new Date(n+r)}var jW={};function tg(){return jW}function TW(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function PW(t){return Hr(1,arguments),t instanceof Date||Dp(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function FW(t){if(Hr(1,arguments),!PW(t)&&typeof t!="number")return!1;var e=vs(t);return!isNaN(Number(e))}function NW(t,e){Hr(2,arguments);var n=qa(e);return CW(t,-n)}var RW=864e5;function BW(t){Hr(1,arguments);var e=vs(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/RW)+1}function Ip(t){Hr(1,arguments);var e=1,n=vs(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function _P(t){Hr(1,arguments);var e=vs(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Ip(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=Ip(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function DW(t){Hr(1,arguments);var e=_P(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Ip(n);return r}var IW=6048e5;function LW(t){Hr(1,arguments);var e=vs(t),n=Ip(e).getTime()-DW(e).getTime();return Math.round(n/IW)+1}function Lp(t,e){var n,r,i,s,o,l,u,h;Hr(1,arguments);var f=tg(),p=qa((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&r!==void 0?r:(u=f.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&n!==void 0?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=vs(t),y=g.getUTCDay(),_=(y<p?7:0)+y-p;return g.setUTCDate(g.getUTCDate()-_),g.setUTCHours(0,0,0,0),g}function SP(t,e){var n,r,i,s,o,l,u,h;Hr(1,arguments);var f=vs(t),p=f.getUTCFullYear(),g=tg(),y=qa((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:g.firstWeekContainsDate)!==null&&r!==void 0?r:(u=g.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=new Date(0);_.setUTCFullYear(p+1,0,y),_.setUTCHours(0,0,0,0);var w=Lp(_,e),b=new Date(0);b.setUTCFullYear(p,0,y),b.setUTCHours(0,0,0,0);var k=Lp(b,e);return f.getTime()>=w.getTime()?p+1:f.getTime()>=k.getTime()?p:p-1}function MW(t,e){var n,r,i,s,o,l,u,h;Hr(1,arguments);var f=tg(),p=qa((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(u=f.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&n!==void 0?n:1),g=SP(t,e),y=new Date(0);y.setUTCFullYear(g,0,p),y.setUTCHours(0,0,0,0);var _=Lp(y,e);return _}var OW=6048e5;function $W(t,e){Hr(1,arguments);var n=vs(t),r=Lp(n,e).getTime()-MW(n,e).getTime();return Math.round(r/OW)+1}function gn(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var oo={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return gn(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):gn(r+1,2)},d:function(e,n){return gn(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return gn(e.getUTCHours()%12||12,n.length)},H:function(e,n){return gn(e.getUTCHours(),n.length)},m:function(e,n){return gn(e.getUTCMinutes(),n.length)},s:function(e,n){return gn(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return gn(s,n.length)}},bl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},UW={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return oo.y(e,n)},Y:function(e,n,r,i){var s=SP(e,i),o=s>0?s:1-s;if(n==="YY"){var l=o%100;return gn(l,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):gn(o,n.length)},R:function(e,n){var r=_P(e);return gn(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return gn(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return gn(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return gn(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return oo.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return gn(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=$W(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):gn(s,n.length)},I:function(e,n,r){var i=LW(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):gn(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):oo.d(e,n)},D:function(e,n,r){var i=BW(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):gn(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return gn(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return gn(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return gn(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=bl.noon:i===0?s=bl.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=bl.evening:i>=12?s=bl.afternoon:i>=4?s=bl.morning:s=bl.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return oo.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):oo.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):gn(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):gn(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):oo.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):oo.s(e,n)},S:function(e,n){return oo.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return xA(o);case"XXXX":case"XX":return fa(o);case"XXXXX":case"XXX":default:return fa(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return xA(o);case"xxxx":case"xx":return fa(o);case"xxxxx":case"xxx":default:return fa(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+gA(o,":");case"OOOO":default:return"GMT"+fa(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+gA(o,":");case"zzzz":default:return"GMT"+fa(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return gn(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return gn(o,n.length)}};function gA(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e;return n+String(i)+o+gn(s,2)}function xA(t,e){if(t%60===0){var n=t>0?"-":"+";return n+gn(Math.abs(t)/60,2)}return fa(t,e)}function fa(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=gn(Math.floor(i/60),2),o=gn(i%60,2);return r+s+n+o}var yA=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},kP=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},zW=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return yA(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",yA(i,n)).replace("{{time}}",kP(s,n))},qW={p:kP,P:zW},VW=["D","DD"],HW=["YY","YYYY"];function WW(t){return VW.indexOf(t)!==-1}function KW(t){return HW.indexOf(t)!==-1}function vA(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var GW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ZW=function(e,n,r){var i,s=GW[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function yy(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var YW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},XW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},JW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QW={date:yy({formats:YW,defaultWidth:"full"}),time:yy({formats:XW,defaultWidth:"full"}),dateTime:yy({formats:JW,defaultWidth:"full"})},eK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tK=function(e,n,r,i){return eK[e]};function du(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var l=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[u]||t.values[l]}var h=t.argumentCallback?t.argumentCallback(e):e;return i[h]}}var nK={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},iK={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},oK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},aK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lK=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},cK={ordinalNumber:lK,era:du({values:nK,defaultWidth:"wide"}),quarter:du({values:rK,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:du({values:iK,defaultWidth:"wide"}),day:du({values:sK,defaultWidth:"wide"}),dayPeriod:du({values:oK,defaultWidth:"wide",formattingValues:aK,defaultFormattingWidth:"wide"})};function hu(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(l)?dK(l,function(p){return p.test(o)}):uK(l,function(p){return p.test(o)}),h;h=t.valueCallback?t.valueCallback(u):u,h=n.valueCallback?n.valueCallback(h):h;var f=e.slice(o.length);return{value:h,rest:f}}}function uK(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function dK(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function hK(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var l=e.slice(i.length);return{value:o,rest:l}}}var fK=/^(\d+)(th|st|nd|rd)?/i,pK=/\d+/i,mK={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gK={any:[/^b/i,/^(a|c)/i]},xK={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yK={any:[/1/i,/2/i,/3/i,/4/i]},vK={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wK={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bK={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_K={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},SK={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kK={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},EK={ordinalNumber:hK({matchPattern:fK,parsePattern:pK,valueCallback:function(e){return parseInt(e,10)}}),era:hu({matchPatterns:mK,defaultMatchWidth:"wide",parsePatterns:gK,defaultParseWidth:"any"}),quarter:hu({matchPatterns:xK,defaultMatchWidth:"wide",parsePatterns:yK,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:hu({matchPatterns:vK,defaultMatchWidth:"wide",parsePatterns:wK,defaultParseWidth:"any"}),day:hu({matchPatterns:bK,defaultMatchWidth:"wide",parsePatterns:_K,defaultParseWidth:"any"}),dayPeriod:hu({matchPatterns:SK,defaultMatchWidth:"any",parsePatterns:kK,defaultParseWidth:"any"})},AK={code:"en-US",formatDistance:ZW,formatLong:QW,formatRelative:tK,localize:cK,match:EK,options:{weekStartsOn:0,firstWeekContainsDate:1}},CK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,TK=/^'([^]*?)'?$/,PK=/''/g,FK=/[a-zA-Z]/;function Bi(t,e,n){var r,i,s,o,l,u,h,f,p,g,y,_,w,b;Hr(2,arguments);var k=String(e),x=tg(),v=(r=(i=void 0)!==null&&i!==void 0?i:x.locale)!==null&&r!==void 0?r:AK,C=qa((s=(o=(l=(u=void 0)!==null&&u!==void 0?u:void 0)!==null&&l!==void 0?l:x.firstWeekContainsDate)!==null&&o!==void 0?o:(h=x.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var F=qa((p=(g=(y=(_=void 0)!==null&&_!==void 0?_:void 0)!==null&&y!==void 0?y:x.weekStartsOn)!==null&&g!==void 0?g:(w=x.locale)===null||w===void 0||(b=w.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&p!==void 0?p:0);if(!(F>=0&&F<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!v.localize)throw new RangeError("locale must contain localize property");if(!v.formatLong)throw new RangeError("locale must contain formatLong property");var j=vs(t);if(!FW(j))throw new RangeError("Invalid time value");var R=TW(j),z=NW(j,R),Q={firstWeekContainsDate:C,weekStartsOn:F,locale:v,_originalDate:j},$=k.match(jK).map(function(X){var te=X[0];if(te==="p"||te==="P"){var ae=qW[te];return ae(X,v.formatLong)}return X}).join("").match(CK).map(function(X){if(X==="''")return"'";var te=X[0];if(te==="'")return NK(X);var ae=UW[te];if(ae)return KW(X)&&vA(X,e,String(t)),WW(X)&&vA(X,e,String(t)),ae(z,X,v.localize,Q);if(te.match(FK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+te+"`");return X}).join("");return $}function NK(t){var e=t.match(TK);return e?e[1].replace(PK,"'"):t}const EP=({metadata:t})=>{const e=r=>{if(r===0)return"0 Bytes";const i=1024,s=["Bytes","KB","MB","GB"],o=Math.floor(Math.log(r)/Math.log(i));return parseFloat((r/Math.pow(i,o)).toFixed(2))+" "+s[o]},n=r=>{const i=Math.floor(r/60),s=r%60;return`${i}:${s.toString().padStart(2,"0")}`};return c.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx(Z9,{className:"h-4 w-4 text-gray-600"}),c.jsx("h4",{className:"font-medium text-gray-900",children:"Media Metadata"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.device&&c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(i$,{className:"h-4 w-4 text-gray-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Device"}),c.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.device})]})]}),t.resolution&&c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(fc,{className:"h-4 w-4 text-gray-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Resolution"}),c.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.resolution})]})]}),t.timestamp&&c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(zr,{className:"h-4 w-4 text-gray-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Captured"}),c.jsx("p",{className:"text-sm font-medium text-gray-900",children:Bi(t.timestamp,"MMM d, yyyy HH:mm")})]})]}),t.location&&c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Jd,{className:"h-4 w-4 text-gray-500"}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-xs text-gray-500",children:["Location (",t.location.source,")"]}),c.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[t.location.lat.toFixed(6),", ",t.location.lng.toFixed(6)]}),t.location.accuracy&&c.jsxs("p",{className:"text-xs text-gray-500",children:["",t.location.accuracy,"m accuracy"]})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Dc,{className:"h-4 w-4 text-gray-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"File Size"}),c.jsx("p",{className:"text-sm font-medium text-gray-900",children:e(t.fileSize)})]})]}),t.duration&&c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(zr,{className:"h-4 w-4 text-gray-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Duration"}),c.jsx("p",{className:"text-sm font-medium text-gray-900",children:n(t.duration)})]})]})]}),t.exifData&&Object.keys(t.exifData).length>0&&c.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[c.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Technical Details"}),c.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(t.exifData).filter(([r])=>!["gpsLatitude","gpsLongitude"].includes(r)).slice(0,4).map(([r,i])=>c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{className:"text-gray-500 capitalize",children:[r.replace(/([A-Z])/g," $1"),":"]}),c.jsx("span",{className:"text-gray-900 font-medium truncate ml-2",children:String(i).substring(0,20)})]},r))})]})]})},AP=({transcription:t,isLoading:e})=>{const[n,r]=Y.useState(!1);if(e)return c.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"animate-pulse",children:c.jsx(Or,{className:"h-5 w-5 text-green-600"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-green-900",children:"Transcribing Audio"}),c.jsx("p",{className:"text-sm text-green-700",children:"Processing with Whisper AI..."})]})]})});const i=s=>{const o=Math.floor(s/60),l=Math.floor(s%60);return`${o}:${l.toString().padStart(2,"0")}`};return c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Or,{className:"h-5 w-5 text-green-600"}),c.jsx("h4",{className:"font-medium text-gray-900",children:"Audio Transcription"})]}),c.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Y9,{className:"h-4 w-4"}),c.jsx("span",{children:t.language.toUpperCase()})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(ja,{className:"h-4 w-4"}),c.jsxs("span",{children:[(t.confidence*100).toFixed(1),"% confidence"]})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(zr,{className:"h-4 w-4"}),c.jsxs("span",{children:[t.processingTime,"s"]})]})]})]}),c.jsx("div",{className:"mb-4",children:c.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:c.jsx("p",{className:"text-gray-900 leading-relaxed",children:t.text})})}),t.segments&&t.segments.length>0&&c.jsxs("div",{children:[c.jsxs("button",{onClick:()=>r(!n),className:"flex items-center space-x-2 text-sm text-blue-600 hover:text-blue-700 transition-colors",children:[n?c.jsx(S8,{className:"h-4 w-4"}):c.jsx(_8,{className:"h-4 w-4"}),c.jsxs("span",{children:[n?"Hide":"Show"," Timestamped Segments"]})]}),c.jsx(Ur,{children:n&&c.jsx(wt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 space-y-2",children:t.segments.map((s,o)=>c.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex-shrink-0 bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs font-mono",children:[i(s.start)," - ",i(s.end)]}),c.jsx("p",{className:"text-sm text-gray-900 flex-1",children:s.text})]},o))})})]})]})},CP=({analysis:t,isLoading:e})=>{if(e)return c.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"animate-pulse",children:c.jsx(pk,{className:"h-5 w-5 text-purple-600"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-purple-900",children:"AI Analysis in Progress"}),c.jsx("p",{className:"text-sm text-purple-700",children:"Processing content with GPT-4..."})]})]})});const n=s=>({protest:"bg-orange-100 text-orange-800",explosion:"bg-red-100 text-red-800",medical_emergency:"bg-red-100 text-red-800",displacement:"bg-blue-100 text-blue-800",aid_needed:"bg-green-100 text-green-800",natural_disaster:"bg-yellow-100 text-yellow-800",conflict:"bg-red-100 text-red-800",infrastructure_damage:"bg-gray-100 text-gray-800",humanitarian_crisis:"bg-purple-100 text-purple-800",government_action:"bg-indigo-100 text-indigo-800",civilian_impact:"bg-pink-100 text-pink-800",other:"bg-gray-100 text-gray-800"})[s]||"bg-gray-100 text-gray-800",r=s=>{switch(s){case"positive":return c.jsx(Tr,{className:"h-4 w-4 text-green-600"});case"negative":return c.jsx(No,{className:"h-4 w-4 text-red-600"});default:return c.jsx(zr,{className:"h-4 w-4 text-gray-600"})}},i=s=>s>=8?"text-red-600 bg-red-100":s>=6?"text-orange-600 bg-orange-100":s>=4?"text-yellow-600 bg-yellow-100":"text-green-600 bg-green-100";return c.jsxs(wt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white border border-gray-200 rounded-lg p-6",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx(pk,{className:"h-5 w-5 text-purple-600"}),c.jsx("h4",{className:"font-medium text-gray-900",children:"AI Content Analysis"}),c.jsxs("div",{className:"flex items-center space-x-2 ml-auto",children:[c.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${i(t.urgencyLevel)}`,children:["Urgency: ",t.urgencyLevel,"/10"]}),c.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[c.jsx("span",{children:"Trust:"}),c.jsxs("span",{className:"font-medium",children:[t.credibilityScore,"%"]})]})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Summary"}),c.jsx("p",{className:"text-sm text-gray-900 leading-relaxed",children:t.summary})]}),t.keyFacts.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Key Facts"}),c.jsx("ul",{className:"space-y-1",children:t.keyFacts.map((s,o)=>c.jsxs("li",{className:"text-sm text-gray-900 flex items-start space-x-2",children:[c.jsx("span",{className:"text-blue-600 mt-1",children:""}),c.jsx("span",{children:s})]},o))})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Event Classification"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:t.eventTags.map((s,o)=>c.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${n(s)}`,children:[c.jsx(a$,{className:"h-3 w-3 inline mr-1"}),s.replace("_"," ")]},o))})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 pt-4 border-t border-gray-200",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[r(t.sentiment),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Sentiment"}),c.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:t.sentiment})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(qm,{className:"h-4 w-4 text-blue-600"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Credibility"}),c.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[t.credibilityScore,"%"]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(No,{className:"h-4 w-4 text-orange-600"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Urgency Level"}),c.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[t.urgencyLevel,"/10"]})]})]})]}),t.contextualFlags.length>0&&c.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[c.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Contextual Flags"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:t.contextualFlags.map((s,o)=>c.jsx("span",{className:"px-2 py-1 bg-amber-100 text-amber-800 rounded-full text-xs font-medium",children:s.replace("_"," ")},o))})]})]})},jP=({proof:t,verificationReport:e,isExpanded:n=!1})=>{const{networkStatus:r}=xs(),[i,s]=Y.useState(n),[o,l]=Y.useState(null),u=[{id:"upload",title:"Upload Received",description:"File uploaded and initial processing started",status:"completed",timestamp:t.uploadDate,icon:Tr,details:{metadata:{fileName:t.fileName,fileType:t.fileType,fileSize:`${(t.fileType.length/1024).toFixed(2)} KB`}}},{id:"ai_summary",title:"AI Summary Generated",description:"Content analyzed and summarized using GPT-4",status:t.summary?"completed":"pending",timestamp:t.uploadDate,icon:Tr,details:{metadata:{summary:t.summary,transcript:t.transcript}}},{id:"hash",title:"File Hashed (SHA256)",description:"Cryptographic hash generated for integrity verification",status:t.fileHash?"completed":"pending",timestamp:t.uploadDate,icon:C8,details:{hash:t.fileHash,metadata:{algorithm:"SHA-256",hashLength:"64 characters"}}},{id:"ipfs",title:"IPFS Upload via Stracha",description:"File stored on decentralized IPFS network using Stracha",status:t.ipfsHash?"completed":"pending",timestamp:t.uploadDate,icon:Dc,details:{hash:t.ipfsHash,link:uW(t.ipfsHash),metadata:{network:"IPFS",provider:"Stracha",gateway:"ipfs.io",pinned:"Yes"}}},{id:"blockchain",title:"Hash Logged on Algorand",description:`Proof-of-existence recorded on ${r.network} blockchain`,status:t.algorandTxId?"completed":"pending",timestamp:t.uploadDate,icon:Wv,details:{hash:t.algorandTxId,link:dc.getExplorerUrl(t.algorandTxId),metadata:{network:`Algorand ${r.network}`,blockTime:"~4.5 seconds",lastRound:r.lastRound,nodeStatus:r.online?"Online":"Offline"}}}];e&&u.push({id:"verification",title:"Verification Analysis Complete",description:"Deepfake detection and content verification finished",status:e.verificationStatus==="verified"?"completed":e.verificationStatus==="flagged"?"failed":"pending",timestamp:e.createdAt,icon:Sn,details:{metadata:{trustScore:`${e.overallTrustScore}%`,status:e.verificationStatus,coSignatures:e.coSignatures.length}}}),(e==null?void 0:e.coSignatures.length)>0&&u.push({id:"cosigned",title:`Co-signed by ${e.coSignatures[0].organizationName}`,description:"Expert verification and co-signature added",status:"completed",timestamp:e.coSignatures[0].verificationDate,icon:Sn,details:{hash:e.coSignatures[0].verificationHash,metadata:{organization:e.coSignatures[0].organizationName,verifier:e.coSignatures[0].verifierName,rating:`${e.coSignatures[0].credibilityRating}/5 stars`}}});const h=(g,y)=>{navigator.clipboard.writeText(g),tt.success(`${y} copied to clipboard`)},f=g=>{switch(g){case"completed":return"text-green-600 bg-green-100";case"pending":return"text-yellow-600 bg-yellow-100";case"failed":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},p=g=>{switch(g){case"completed":return"bg-green-500";case"pending":return"bg-yellow-500";case"failed":return"bg-red-500";default:return"bg-gray-300"}};return c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Wv,{className:"h-5 w-5 text-blue-600"}),c.jsx("h3",{className:"font-semibold text-gray-900",children:"Blockchain Proof Timeline"}),c.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:[u.filter(g=>g.status==="completed").length,"/",u.length," Complete"]}),c.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${r.online?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[r.online?c.jsx(Vm,{className:"h-3 w-3"}):c.jsx(za,{className:"h-3 w-3"}),c.jsxs("span",{children:[r.network," ",r.online?"Online":"Offline"]})]})]}),c.jsxs("button",{onClick:()=>s(!i),className:"flex items-center space-x-1 text-sm text-gray-600 hover:text-gray-900 transition-colors",children:[c.jsx("span",{children:i?"Collapse":"Expand"}),i?c.jsx(S8,{className:"h-4 w-4"}):c.jsx(_8,{className:"h-4 w-4"})]})]}),c.jsx(Ur,{children:i&&c.jsx(wt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"relative",children:u.map((g,y)=>{var _,w;return c.jsxs("div",{className:"relative",children:[y<u.length-1&&c.jsx("div",{className:`absolute left-6 top-12 w-0.5 h-16 ${p(g.status)}`}),c.jsxs(wt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:y*.1},className:"flex items-start space-x-4 pb-8",children:[c.jsx("div",{className:`flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center ${f(g.status)}`,children:c.jsx(g.icon,{className:"h-5 w-5"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h4",{className:"font-medium text-gray-900",children:g.title}),g.timestamp&&c.jsx("span",{className:"text-sm text-gray-500",children:Bi(g.timestamp,"MMM d, HH:mm")})]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g.description}),((_=g.details)==null?void 0:_.hash)&&c.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[c.jsxs("code",{className:"text-xs bg-gray-100 px-2 py-1 rounded font-mono",children:[g.details.hash.substring(0,16),"..."]}),c.jsx("button",{onClick:()=>h(g.details.hash,g.title),className:"p-1 text-gray-500 hover:text-gray-700 rounded transition-colors",children:c.jsx(k8,{className:"h-3 w-3"})}),g.details.link&&c.jsx("a",{href:g.details.link,target:"_blank",rel:"noopener noreferrer",className:"p-1 text-gray-500 hover:text-blue-600 rounded transition-colors",children:c.jsx(xd,{className:"h-3 w-3"})})]}),((w=g.details)==null?void 0:w.metadata)&&c.jsxs("div",{className:"mt-2",children:[c.jsx("button",{onClick:()=>l(o===g.id?null:g.id),className:"text-xs text-blue-600 hover:text-blue-700 transition-colors",children:o===g.id?"Hide details":"Show details"}),c.jsx(Ur,{children:o===g.id&&c.jsx(wt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-2 p-3 bg-gray-50 rounded-lg",children:c.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(g.details.metadata).map(([b,k])=>c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{className:"text-gray-500 capitalize",children:[b.replace(/([A-Z])/g," $1"),":"]}),c.jsx("span",{className:"text-gray-900 font-medium truncate ml-2",children:typeof k=="string"&&k.length>30?`${k.substring(0,30)}...`:String(k)})]},b))})})})]})]})]})]},g.id)})})}),!i&&c.jsx("div",{className:"flex items-center space-x-4",children:u.map((g,y)=>c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${f(g.status)}`,children:c.jsx(g.icon,{className:"h-4 w-4"})}),y<u.length-1&&c.jsx("div",{className:`w-8 h-0.5 ${p(g.status)}`})]},g.id))}),c.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Proof ID"}),c.jsx("p",{className:"font-mono text-xs text-gray-900 truncate",children:t.id})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Status"}),c.jsx("p",{className:`font-medium ${t.status==="completed"?"text-green-600":t.status==="processing"?"text-yellow-600":"text-red-600"}`,children:t.status})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Network"}),c.jsxs("p",{className:"font-medium text-gray-900 capitalize",children:[r.network," (",r.online?"Online":"Offline",")"]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Created"}),c.jsx("p",{className:"font-medium text-gray-900",children:Bi(t.uploadDate,"MMM d, yyyy")})]})]})})]})};class RK{constructor(){this.isSyncing=!1,this.syncProgress={total:0,completed:0,errors:[]}}async startSync(e,n,r){if(this.isSyncing)throw new Error("Sync already in progress");if(!navigator.onLine)throw new Error("Cannot sync while offline");this.isSyncing=!0,this.onProgressUpdate=r;try{const i=await rr.getPendingUploads(),s=await rr.getVoiceMessages();this.syncProgress={total:i.length+s.filter(o=>o.status==="pending").length,completed:0,errors:[]},this.updateProgress();for(const o of i)if(o.status!=="synced")try{this.syncProgress.current=`Syncing ${o.metadata.fileName}`,this.updateProgress(),await rr.updateUploadStatus(o.id,"syncing");const{proofRecord:l,verificationReport:u}=await yP(o.file,"offline_user",()=>{},n);e(l),await rr.storeSyncedProof(l,u),await rr.updateUploadStatus(o.id,"synced"),await rr.removePendingUpload(o.id),this.syncProgress.completed++,this.updateProgress()}catch(l){console.error("Failed to sync upload:",l),await rr.updateUploadStatus(o.id,"failed"),this.syncProgress.errors.push(`Failed to sync ${o.metadata.fileName}: ${l}`)}for(const o of s)if(o.status==="pending")try{this.syncProgress.current="Processing voice message",this.updateProgress(),await rr.updateVoiceMessage(o.id,{status:"processed"}),this.syncProgress.completed++,this.updateProgress()}catch(l){console.error("Failed to process voice message:",l),await rr.updateVoiceMessage(o.id,{status:"failed"}),this.syncProgress.errors.push(`Failed to process voice message: ${l}`)}this.syncProgress.current=void 0,this.updateProgress(),this.syncProgress.errors.length===0?tt.success(`Successfully synced ${this.syncProgress.completed} items`):tt.error(`Synced ${this.syncProgress.completed} items with ${this.syncProgress.errors.length} errors`)}finally{this.isSyncing=!1}}updateProgress(){this.onProgressUpdate&&this.onProgressUpdate({...this.syncProgress})}getSyncProgress(){return{...this.syncProgress}}isSyncInProgress(){return this.isSyncing}async getOfflineStats(){return await rr.getStorageStats()}}const hf=new RK,BK=({onUploadOffline:t})=>{const{addProof:e}=qd(),{analyzeMedia:n}=Xo(),[r,i]=Y.useState([]),[s,o]=Y.useState(null),[l,u]=Y.useState(navigator.onLine),[h,f]=Y.useState({pending:0,synced:0,voices:0});Y.useEffect(()=>{p(),g();const x=()=>u(!0),v=()=>u(!1);return window.addEventListener("online",x),window.addEventListener("offline",v),()=>{window.removeEventListener("online",x),window.removeEventListener("offline",v)}},[]);const p=async()=>{try{const x=await rr.getPendingUploads();i(x)}catch(x){console.error("Failed to load pending uploads:",x)}},g=async()=>{try{const x=await hf.getOfflineStats();f(x)}catch(x){console.error("Failed to load stats:",x)}},y=async()=>{if(!l){tt.error("Cannot sync while offline");return}try{await hf.startSync(e,n,x=>o(x)),await p(),await g(),o(null)}catch(x){tt.error("Sync failed"),console.error("Sync error:",x),o(null)}},_=async x=>{try{await rr.removePendingUpload(x),await p(),await g(),tt.success("Upload removed from queue")}catch{tt.error("Failed to remove upload")}},w=x=>{switch(x){case"pending":return c.jsx(zr,{className:"h-4 w-4 text-yellow-600"});case"syncing":return c.jsx(mk,{className:"h-4 w-4 text-blue-600 animate-spin"});case"synced":return c.jsx(Tr,{className:"h-4 w-4 text-green-600"});case"failed":return c.jsx(No,{className:"h-4 w-4 text-red-600"});default:return c.jsx(zr,{className:"h-4 w-4 text-gray-600"})}},b=x=>{switch(x){case"pending":return"bg-yellow-100 text-yellow-800";case"syncing":return"bg-blue-100 text-blue-800";case"synced":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},k=x=>{if(x===0)return"0 Bytes";const v=1024,C=["Bytes","KB","MB","GB"],F=Math.floor(Math.log(x)/Math.log(v));return parseFloat((x/Math.pow(v,F)).toFixed(2))+" "+C[F]};return c.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(fs,{className:"h-5 w-5 text-blue-600"}),c.jsx("h3",{className:"font-semibold text-gray-900",children:"Offline Upload Manager"}),c.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${l?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[l?c.jsx(Vm,{className:"h-3 w-3"}):c.jsx(za,{className:"h-3 w-3"}),c.jsx("span",{children:l?"Online":"Offline"})]})]}),l&&h.pending>0&&c.jsxs("button",{onClick:y,disabled:hf.isSyncInProgress(),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[c.jsx(mk,{className:`h-4 w-4 ${hf.isSyncInProgress()?"animate-spin":""}`}),c.jsxs("span",{children:["Sync All (",h.pending,")"]})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[c.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[c.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:h.pending}),c.jsx("p",{className:"text-sm text-yellow-700",children:"Pending"})]}),c.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[c.jsx("p",{className:"text-2xl font-bold text-green-600",children:h.synced}),c.jsx("p",{className:"text-sm text-green-700",children:"Synced"})]}),c.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[c.jsx("p",{className:"text-2xl font-bold text-blue-600",children:h.voices}),c.jsx("p",{className:"text-sm text-blue-700",children:"Voice Messages"})]})]}),c.jsx(Ur,{children:s&&c.jsxs(wt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Syncing..."}),c.jsxs("span",{className:"text-sm text-blue-700",children:[s.completed,"/",s.total]})]}),c.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2 mb-2",children:c.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${s.completed/s.total*100}%`}})}),s.current&&c.jsx("p",{className:"text-sm text-blue-700",children:s.current}),s.errors.length>0&&c.jsxs("div",{className:"mt-2 text-sm text-red-700",children:[c.jsx("p",{className:"font-medium",children:"Errors:"}),c.jsx("ul",{className:"list-disc list-inside",children:s.errors.map((x,v)=>c.jsx("li",{children:x},v))})]})]})}),c.jsx("div",{className:"space-y-3",children:r.length===0?c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(fs,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),c.jsx("p",{className:"text-sm",children:"No pending uploads"}),c.jsx("p",{className:"text-xs mt-1",children:"Files uploaded while offline will appear here"})]}):r.map(x=>c.jsxs(wt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[w(x.status),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium text-gray-900 truncate",children:x.metadata.fileName}),c.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[c.jsx("span",{children:k(x.metadata.fileSize)}),c.jsx("span",{children:Bi(x.createdAt,"MMM d, HH:mm")}),x.retryCount>0&&c.jsxs("span",{className:"text-orange-600",children:["Retries: ",x.retryCount]})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(x.status)}`,children:x.status}),x.status==="pending"&&c.jsx("button",{onClick:()=>_(x.id),className:"p-1 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Remove from queue",children:c.jsx(l$,{className:"h-4 w-4"})})]})]},x.id))}),!l&&c.jsxs("div",{className:"mt-6 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-amber-800",children:[c.jsx(za,{className:"h-4 w-4"}),c.jsx("span",{className:"font-medium",children:"Offline Mode Active"})]}),c.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Files uploaded while offline will be queued and automatically synced when you reconnect to the internet."})]})]})},DK=({result:t,onProceed:e,onCancel:n,isVisible:r})=>{if(!r||!t.flagged)return null;const i=()=>{switch(t.action){case"block":return"border-red-500 bg-red-50";case"review":return"border-orange-500 bg-orange-50";default:return"border-yellow-500 bg-yellow-50"}},s=()=>{switch(t.action){case"block":return c.jsx(si,{className:"h-6 w-6 text-red-600"});case"review":return c.jsx(W9,{className:"h-6 w-6 text-orange-600"});default:return c.jsx(Xd,{className:"h-6 w-6 text-yellow-600"})}},o=()=>{switch(t.action){case"block":return"Content Blocked";case"review":return"Content Flagged for Review";default:return"Content Warning"}},l=()=>{switch(t.action){case"block":return"This content has been blocked due to policy violations. It cannot be uploaded to the platform.";case"review":return"This content has been flagged for manual review. It may contain sensitive material that requires verification.";default:return"This content may contain sensitive material. Please review before proceeding."}};return c.jsx(wt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:`bg-white rounded-xl border-2 ${i()} max-w-md w-full p-6`,children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s(),c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o()})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("p",{className:"text-gray-700 mb-3",children:l()}),t.reason&&c.jsx("div",{className:"p-3 bg-gray-50 rounded-lg mb-3",children:c.jsxs("p",{className:"text-sm text-gray-600",children:[c.jsx("strong",{children:"Reason:"})," ",t.reason]})}),t.categories.length>0&&c.jsxs("div",{className:"mb-3",children:[c.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Flagged Categories:"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:t.categories.map((u,h)=>c.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:u.replace(/[_-]/g," ")},h))})]}),c.jsxs("div",{className:"text-sm text-gray-600",children:[c.jsx("strong",{children:"Confidence:"})," ",(t.confidence*100).toFixed(1),"%"]})]}),c.jsxs("div",{className:"flex space-x-3",children:[t.action!=="block"&&e&&c.jsx("button",{onClick:e,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:t.action==="review"?"Submit for Review":"Proceed Anyway"}),c.jsx("button",{onClick:n,className:`${t.action==="block"?"flex-1":""} px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors`,children:t.action==="block"?"Choose Different File":"Cancel"})]}),t.action==="review"&&c.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-blue-800",children:[c.jsx(Sn,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm font-medium",children:"Review Process"})]}),c.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Content will be reviewed by our moderation team within 24 hours. You'll be notified of the decision."})]})]})})},IK=({reportId:t,currentStatus:e,coSignatures:n,onStatusChange:r})=>{const{getVerifiedOrganizations:i,requestCoSignature:s}=Xo(),[o,l]=Y.useState(!1),[u,h]=Y.useState(""),[f,p]=Y.useState(""),[g,y]=Y.useState("standard"),[_,w]=Y.useState(!1),b=i(),k=async()=>{if(!u){tt.error("Please select an organization");return}w(!0);try{await s(t,u,f.trim()||void 0),l(!1),h(""),p(""),y("standard"),tt.success("Verification request sent successfully"),r==null||r("pending")}catch{tt.error("Failed to send verification request")}finally{w(!1)}},x=F=>{switch(F){case"verified":return"bg-green-100 text-green-800 border-green-200";case"flagged":return"bg-red-100 text-red-800 border-red-200";case"disputed":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-yellow-100 text-yellow-800 border-yellow-200"}},v=F=>{switch(F){case"verified":return c.jsx(Tr,{className:"h-4 w-4"});case"flagged":return c.jsx(No,{className:"h-4 w-4"});case"disputed":return c.jsx(No,{className:"h-4 w-4"});default:return c.jsx(zr,{className:"h-4 w-4"})}},C=F=>Array.from({length:5},(j,R)=>c.jsx(F8,{className:`h-3 w-3 ${R<F?"text-yellow-400 fill-current":"text-gray-300"}`},R));return c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[c.jsx("div",{className:"p-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-purple-50",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Sn,{className:"h-5 w-5 text-blue-600"}),c.jsx("h4",{className:"font-semibold text-gray-900",children:"Expert Verification"}),c.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium border ${x(e)}`,children:[v(e),c.jsx("span",{className:"capitalize",children:e})]})]}),e!=="verified"&&c.jsxs("button",{onClick:()=>l(!o),className:"flex items-center space-x-1 px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[c.jsx(zm,{className:"h-3 w-3"}),c.jsx("span",{children:"Request Verification"})]})]})}),c.jsxs("div",{className:"p-4",children:[n.length>0?c.jsxs("div",{className:"space-y-3 mb-4",children:[c.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Verified By:"}),n.map((F,j)=>c.jsxs(wt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-start space-x-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[c.jsx("div",{className:"flex-shrink-0 p-2 bg-green-100 rounded-lg",children:c.jsx($9,{className:"h-4 w-4 text-green-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h6",{className:"font-medium text-green-900",children:F.organizationName}),c.jsx("div",{className:"flex items-center space-x-1",children:C(F.credibilityRating)})]}),c.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[c.jsx(c$,{className:"h-3 w-3 text-green-600"}),c.jsxs("span",{className:"text-sm text-green-700",children:[F.verifierName," (",F.verifierRole,")"]})]}),c.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-green-600",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(zr,{className:"h-3 w-3"}),c.jsx("span",{children:Bi(F.verificationDate,"MMM d, yyyy HH:mm")})]}),c.jsxs("span",{className:"font-mono",children:["ID: ",F.verificationHash.substring(0,8),"..."]})]}),F.notes&&c.jsx("div",{className:"mt-2 p-2 bg-white border border-green-200 rounded",children:c.jsxs("p",{className:"text-sm text-green-700 italic",children:['"',F.notes,'"']})})]})]},F.id||j))]}):c.jsxs("div",{className:"text-center py-6 text-gray-500",children:[c.jsx(Sn,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),c.jsx("p",{className:"text-sm",children:"No expert verifications yet"}),c.jsx("p",{className:"text-xs mt-1",children:"Request verification from trusted organizations"})]}),c.jsx(Ur,{children:o&&c.jsxs(wt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-gray-200 pt-4",children:[c.jsx("h5",{className:"font-medium text-gray-900 mb-4",children:"Request Expert Verification"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Organization *"}),c.jsxs("select",{value:u,onChange:F=>h(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[c.jsx("option",{value:"",children:"Choose an organization..."}),b.map(F=>c.jsxs("option",{value:F.id,children:[F.name," (",F.type.replace("_"," "),") - ",F.credibilityRating,"/5 "]},F.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Urgency Level"}),c.jsxs("select",{value:g,onChange:F=>y(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[c.jsx("option",{value:"standard",children:"Standard (48-72 hours)"}),c.jsx("option",{value:"urgent",children:"Urgent (12-24 hours)"}),c.jsx("option",{value:"critical",children:"Critical (2-6 hours)"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Context"}),c.jsx("textarea",{value:f,onChange:F=>p(F.target.value),placeholder:"Provide context about why expert verification is needed, specific concerns, or areas to focus on...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),g==="critical"&&c.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-red-800",children:[c.jsx(No,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm font-medium",children:"Critical Urgency Selected"})]}),c.jsx("p",{className:"text-xs text-red-700 mt-1",children:"This will mark the request as critical priority. Use only for time-sensitive situations where immediate verification is essential."})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{onClick:k,disabled:!u||_,className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:_?"Sending Request...":"Send Verification Request"}),c.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})}),n.length===0&&!o&&c.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[c.jsx("h6",{className:"text-sm font-medium text-blue-900 mb-2",children:"Why Request Expert Verification?"}),c.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[c.jsx("li",{children:" Increases content credibility and trust score"}),c.jsx("li",{children:" Provides professional fact-checking"}),c.jsx("li",{children:" Adds institutional backing to your evidence"}),c.jsx("li",{children:" Helps combat misinformation"})]})]})]})]})},TP=({reportId:t,coSignatures:e})=>{const{getVerifiedOrganizations:n,requestCoSignature:r}=Xo(),[i,s]=Y.useState(!1),[o,l]=Y.useState(""),[u,h]=Y.useState(""),[f,p]=Y.useState(!1),g=n(),y=async()=>{if(!o){tt.error("Please select an organization");return}p(!0);try{await r(t,o,u.trim()||void 0),s(!1),l(""),h("")}catch{tt.error("Failed to request co-signature")}finally{p(!1)}},_=w=>Array.from({length:5},(b,k)=>c.jsx(F8,{className:`h-3 w-3 ${k<w?"text-yellow-400 fill-current":"text-gray-300"}`},k));return c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Sn,{className:"h-5 w-5 text-blue-600"}),c.jsx("h4",{className:"font-medium text-gray-900",children:"Verification Co-signatures"}),e.length>0&&c.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:[e.length," verified"]})]}),c.jsxs("button",{onClick:()=>s(!i),className:"flex items-center space-x-1 px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[c.jsx(P8,{className:"h-4 w-4"}),c.jsx("span",{children:"Request Verification"})]})]}),e.length>0?c.jsx("div",{className:"space-y-3 mb-4",children:e.map(w=>c.jsxs(wt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-start space-x-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[c.jsx(Tr,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h5",{className:"font-medium text-green-900",children:w.organizationName}),c.jsx("div",{className:"flex items-center space-x-1",children:_(w.credibilityRating)})]}),c.jsxs("p",{className:"text-sm text-green-700",children:["Verified by ",w.verifierName," (",w.verifierRole,")"]}),c.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-green-600",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(zr,{className:"h-3 w-3"}),c.jsx("span",{children:Bi(w.verificationDate,"MMM d, yyyy")})]}),c.jsxs("span",{className:"font-mono",children:["Hash: ",w.verificationHash.substring(0,12),"..."]})]}),w.notes&&c.jsxs("p",{className:"text-sm text-green-700 mt-2 italic",children:['"',w.notes,'"']})]})]},w.id))}):c.jsxs("div",{className:"text-center py-6 text-gray-500",children:[c.jsx(Sn,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),c.jsx("p",{className:"text-sm",children:"No co-signatures yet"}),c.jsx("p",{className:"text-xs mt-1",children:"Request verification from trusted organizations"})]}),c.jsx(Ur,{children:i&&c.jsxs(wt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-gray-200 pt-4",children:[c.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Request Co-signature"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Organization"}),c.jsxs("select",{value:o,onChange:w=>l(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[c.jsx("option",{value:"",children:"Choose an organization..."}),g.map(w=>c.jsxs("option",{value:w.id,children:[w.name," (",w.type.replace("_"," "),") - ",w.credibilityRating,"/5 "]},w.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes (Optional)"}),c.jsx("textarea",{value:u,onChange:w=>h(w.target.value),placeholder:"Provide context or specific verification requests...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{onClick:y,disabled:!o||f,className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f?"Requesting...":"Send Request"}),c.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})})]})};class LK{constructor(){this.stream=null,this.mediaRecorder=null,this.recordedChunks=[],this.isRecording=!1}async requestCameraAccess(e={video:{width:{ideal:1920},height:{ideal:1080},facingMode:"environment"},audio:!0}){try{return this.stream=await navigator.mediaDevices.getUserMedia(e),this.stream}catch(n){throw console.error("Camera access denied:",n),new Error("Camera access denied. Please allow camera permissions.")}}async capturePhoto(){if(!this.stream)throw new Error("Camera not initialized. Call requestCameraAccess() first.");const e=document.createElement("video");return e.srcObject=this.stream,e.play(),new Promise((n,r)=>{e.onloadedmetadata=async()=>{const i=document.createElement("canvas");i.width=e.videoWidth,i.height=e.videoHeight;const s=i.getContext("2d");if(!s){r(new Error("Canvas context not available"));return}s.drawImage(e,0,0),i.toBlob(async o=>{if(!o){r(new Error("Failed to capture photo"));return}let l;try{if(navigator.geolocation){const u=await new Promise((h,f)=>{navigator.geolocation.getCurrentPosition(h,f,{enableHighAccuracy:!0,timeout:5e3})});l={lat:u.coords.latitude,lng:u.coords.longitude}}}catch{console.log("Location not available for photo")}n({blob:o,type:"image",metadata:{timestamp:new Date,location:l,device:navigator.userAgent}})},"image/jpeg",.9)}})}async startVideoRecording(){if(!this.stream)throw new Error("Camera not initialized. Call requestCameraAccess() first.");if(this.isRecording)throw new Error("Recording already in progress");this.recordedChunks=[];const e={mimeType:"video/webm;codecs=vp9,opus"};try{this.mediaRecorder=new MediaRecorder(this.stream,e)}catch{this.mediaRecorder=new MediaRecorder(this.stream)}this.mediaRecorder.ondataavailable=n=>{n.data.size>0&&this.recordedChunks.push(n.data)},this.mediaRecorder.start(1e3),this.isRecording=!0}async stopVideoRecording(){if(!this.mediaRecorder||!this.isRecording)throw new Error("No recording in progress");return new Promise(async(e,n)=>{const r=Date.now();this.mediaRecorder.onstop=async()=>{const i=new Blob(this.recordedChunks,{type:"video/webm"}),s=(Date.now()-r)/1e3;let o;try{if(navigator.geolocation){const l=await new Promise((u,h)=>{navigator.geolocation.getCurrentPosition(u,h,{enableHighAccuracy:!0,timeout:5e3})});o={lat:l.coords.latitude,lng:l.coords.longitude}}}catch{console.log("Location not available for video")}e({blob:i,type:"video",duration:s,metadata:{timestamp:new Date,location:o,device:navigator.userAgent}})},this.mediaRecorder.onerror=i=>{n(new Error("Recording failed"))},this.mediaRecorder.stop(),this.isRecording=!1})}stopCamera(){this.stream&&(this.stream.getTracks().forEach(e=>e.stop()),this.stream=null),this.isRecording=!1}isRecordingVideo(){return this.isRecording}isCameraActive(){return!!this.stream}async switchCamera(e){return this.stopCamera(),await this.requestCameraAccess({video:{width:{ideal:1920},height:{ideal:1080},facingMode:e},audio:!0})}}const _l=new LK,MK=({onCapture:t,onClose:e,mode:n="photo"})=>{const r=Y.useRef(null),[i,s]=Y.useState(null),[o,l]=Y.useState(!1),[u,h]=Y.useState(0),[f,p]=Y.useState("environment"),[g,y]=Y.useState(null),[_,w]=Y.useState(!0);Y.useEffect(()=>(b(),()=>{_l.stopCamera()}),[]),Y.useEffect(()=>{let F;return o&&(F=setInterval(()=>{h(j=>j+1)},1e3)),()=>clearInterval(F)},[o]);const b=async()=>{try{w(!0);const F=await _l.requestCameraAccess({video:{width:{ideal:1920},height:{ideal:1080},facingMode:f},audio:n==="video"});s(F),r.current&&(r.current.srcObject=F)}catch{tt.error("Camera access denied. Please allow camera permissions."),e()}finally{w(!1)}},k=async()=>{try{let F;if(n==="photo")F=await _l.capturePhoto();else if(o)F=await _l.stopVideoRecording(),l(!1),h(0);else{await _l.startVideoRecording(),l(!0);return}let j;if(F.metadata.location)try{j=await e_.getWeatherForLocation(F.metadata.location.lat,F.metadata.location.lng)}catch(R){console.warn("Weather data unavailable:",R)}y(F),t({...F,weatherData:j})}catch(F){tt.error("Failed to capture media"),console.error("Capture error:",F)}},x=async()=>{const F=f==="user"?"environment":"user";try{const j=await _l.switchCamera(F);s(j),p(F),r.current&&(r.current.srcObject=j)}catch{tt.error("Failed to switch camera")}},v=F=>{const j=Math.floor(F/60),R=F%60;return`${j}:${R.toString().padStart(2,"0")}`},C=()=>{if(!g)return;const F=URL.createObjectURL(g.blob),j=document.createElement("a");j.href=F,j.download=`emergency_${g.type}_${Date.now()}.${g.type==="image"?"jpg":"webm"}`,j.click(),URL.revokeObjectURL(F)};return g?c.jsxs(wt.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black z-50 flex flex-col",children:[c.jsx("div",{className:"flex-1 flex items-center justify-center",children:g.type==="image"?c.jsx("img",{src:URL.createObjectURL(g.blob),alt:"Captured",className:"max-w-full max-h-full object-contain"}):c.jsx("video",{src:URL.createObjectURL(g.blob),controls:!0,className:"max-w-full max-h-full"})}),c.jsxs("div",{className:"p-4 bg-black/80 flex justify-center space-x-4",children:[c.jsxs("button",{onClick:C,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(E8,{className:"h-4 w-4"}),c.jsx("span",{children:"Download"})]}),c.jsxs("button",{onClick:()=>y(null),className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[c.jsx(fc,{className:"h-4 w-4"}),c.jsx("span",{children:"Retake"})]}),c.jsxs("button",{onClick:e,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[c.jsx(fs,{className:"h-4 w-4"}),c.jsx("span",{children:"Use This"})]})]})]}):c.jsxs(wt.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black z-50 flex flex-col",children:[c.jsxs("div",{className:"flex-1 relative",children:[_?c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("div",{className:"text-white text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),c.jsx("p",{children:"Initializing camera..."})]})}):c.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),c.jsx(Ur,{children:o&&c.jsxs(wt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute top-4 left-4 bg-red-600 text-white px-3 py-2 rounded-lg flex items-center space-x-2",children:[c.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"}),c.jsx("span",{className:"font-mono",children:v(u)})]})}),c.jsx("div",{className:"absolute top-4 right-4 bg-black/50 text-white px-3 py-2 rounded-lg",children:c.jsxs("span",{className:"text-sm capitalize",children:[n," Mode"]})})]}),c.jsxs("div",{className:"p-6 bg-black/80 flex items-center justify-between",children:[c.jsx("button",{onClick:e,className:"p-3 bg-gray-600 text-white rounded-full hover:bg-gray-700 transition-colors",children:c.jsx(N8,{className:"h-6 w-6"})}),c.jsxs("div",{className:"flex items-center space-x-6",children:[c.jsx("button",{onClick:x,className:"p-3 bg-gray-600 text-white rounded-full hover:bg-gray-700 transition-colors",children:c.jsx(n$,{className:"h-6 w-6"})}),c.jsx("button",{onClick:k,disabled:_,className:`p-4 rounded-full transition-all ${o?"bg-red-600 hover:bg-red-700":"bg-white hover:bg-gray-200"} ${_?"opacity-50 cursor-not-allowed":""}`,children:n==="photo"?c.jsx(fc,{className:`h-8 w-8 ${o?"text-white":"text-black"}`}):o?c.jsx(s$,{className:"h-8 w-8 text-white"}):c.jsx(_p,{className:"h-8 w-8 text-black"})}),c.jsx("div",{className:"w-12"})," "]}),c.jsx("div",{className:"w-12"})," "]})]})},OK=({onFileSelect:t,className:e=""})=>{const[n,r]=Y.useState(!1),[i,s]=Y.useState("photo"),[o,l]=Y.useState(!1),u=async p=>{r(!1),l(!0);try{const g=new File([p.blob],`emergency_${p.type}_${Date.now()}.${p.type==="image"?"jpg":"webm"}`,{type:p.blob.type}),y={...p.metadata,weatherData:p.weatherData,captureMethod:"direct_camera",emergencyContext:!0};try{const _=await Jb.uploadToIPFS(g);y.cloudinaryUrl=_.cloudinaryUrl,y.ipfsHash=_.ipfsHash,tt.success("Media uploaded to cloud storage")}catch(_){console.warn("Cloud upload failed:",_)}t(g,y)}catch(g){tt.error("Failed to process captured media"),console.error("Processing error:",g)}finally{l(!1)}},f=[{id:"photo",title:"Take Photo",description:"Capture image evidence",icon:fc,color:"bg-blue-600 hover:bg-blue-700",action:()=>{s("photo"),r(!0)}},{id:"video",title:"Record Video",description:"Capture video evidence",icon:_p,color:"bg-purple-600 hover:bg-purple-700",action:()=>{s("video"),r(!0)}},{id:"voice",title:"Voice Recording",description:"Record audio testimony",icon:Or,color:"bg-green-600 hover:bg-green-700",action:async()=>{try{l(!0);const{voiceService:p}=await Tc(async()=>{const{voiceService:g}=await Promise.resolve().then(()=>cG);return{voiceService:g}},void 0);await p.startRecording(),tt.success("Recording started - speak now"),setTimeout(async()=>{try{const g=await p.stopRecording(),y=new File([g],`emergency_voice_${Date.now()}.webm`,{type:"audio/webm"});let _;try{if(navigator.geolocation){const b=await new Promise((k,x)=>{navigator.geolocation.getCurrentPosition(k,x,{enableHighAccuracy:!0,timeout:5e3})});_={lat:b.coords.latitude,lng:b.coords.longitude}}}catch{console.log("Location not available")}t(y,{timestamp:new Date,location:_,captureMethod:"voice_recording",emergencyContext:!0}),tt.success("Voice recording captured")}catch{tt.error("Failed to process voice recording")}},3e4)}catch{tt.error("Failed to start voice recording")}finally{l(!1)}}},{id:"upload",title:"Upload File",description:"Select from device",icon:fs,color:"bg-orange-600 hover:bg-orange-700",action:()=>{const p=document.createElement("input");p.type="file",p.accept="image/*,video/*,audio/*,.pdf,.doc,.docx,.txt",p.onchange=g=>{var _;const y=(_=g.target.files)==null?void 0:_[0];y&&t(y)},p.click()}}];return n?c.jsx(MK,{mode:i,onCapture:u,onClose:()=>r(!1)}):c.jsxs("div",{className:`space-y-6 ${e}`,children:[c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:f.map((p,g)=>c.jsxs(wt.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},onClick:p.action,disabled:o,className:`${p.color} text-white p-6 rounded-xl transition-all duration-200 transform hover:scale-105 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed`,children:[c.jsx(p.icon,{className:"h-8 w-8 mx-auto mb-3"}),c.jsx("h3",{className:"font-semibold text-sm mb-1",children:p.title}),c.jsx("p",{className:"text-xs opacity-90",children:p.description})]},p.id))}),c.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-6",children:[c.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[c.jsx(Us,{className:"h-5 w-5 text-blue-600 mr-2"}),"Enhanced Capabilities"]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-blue-800",children:[c.jsx(fc,{className:"h-4 w-4"}),c.jsx("span",{children:"Direct camera/video capture"})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-green-800",children:[c.jsx(Dc,{className:"h-4 w-4"}),c.jsx("span",{children:"Auto weather/location tagging"})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-purple-800",children:[c.jsx(Or,{className:"h-4 w-4"}),c.jsx("span",{children:"Voice-to-text transcription"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-orange-800",children:[c.jsx(fs,{className:"h-4 w-4"}),c.jsx("span",{children:"Cloudinary + IPFS storage"})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-red-800",children:[c.jsx(Us,{className:"h-4 w-4"}),c.jsx("span",{children:"Blockchain timestamping"})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-indigo-800",children:[c.jsx(ja,{className:"h-4 w-4"}),c.jsx("span",{children:"AI narration & translation"})]})]})]})]}),o&&c.jsxs(wt.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),c.jsx("p",{className:"text-blue-800 font-medium",children:"Processing media..."}),c.jsx("p",{className:"text-blue-600 text-sm",children:"Adding location, weather, and metadata"})]})]})},$K=()=>{var ie;const{isConnected:t,walletAddress:e}=xs(),{addProof:n}=qd(),{analyzeMedia:r}=Xo(),i=m1(),[s,o]=Y.useState(0),[l,u]=Y.useState(!1),[h,f]=Y.useState(null),[p,g]=Y.useState(null),[y,_]=Y.useState(null),[w,b]=Y.useState(null),[k,x]=Y.useState(!navigator.onLine),[v,C]=Y.useState(null),[F,j]=Y.useState(!1),[R,z]=Y.useState(null),[Q,$]=Y.useState(null),[X,te]=Y.useState({hashing:!1,transcribing:!1,analyzing:!1,storing:!1,blockchain:!1,verification:!1,moderation:!1,deepfake:!1,cloudinary:!1,narration:!1,translation:!1});Do.useEffect(()=>{const Te=()=>x(!1),Le=()=>x(!0);return window.addEventListener("online",Te),window.addEventListener("offline",Le),()=>{window.removeEventListener("online",Te),window.removeEventListener("offline",Le)}},[]);const ae=Y.useCallback(async Te=>{if(Te.length>0){const Le=Te[0];await Ae(Le)}},[]),Ae=async(Te,Le)=>{te(Ze=>({...Ze,moderation:!0}));try{const Ze=await kW.moderateFile(Te);if(C(Ze),Ze.flagged){j(!0),te(Be=>({...Be,moderation:!1}));return}}catch(Ze){console.error("Content moderation failed:",Ze),tt.error("Content moderation failed, proceeding with upload")}te(Ze=>({...Ze,moderation:!1})),f(Te),g(Le),o(1)},{getRootProps:he,getInputProps:Ee,isDragActive:Ne}=pP({onDrop:ae,accept:{"audio/*":[".mp3",".wav",".m4a",".ogg",".webm"],"image/*":[".jpg",".jpeg",".png",".gif",".webp"],"video/*":[".mp4",".mov",".avi",".mkv",".webm"],"application/pdf":[".pdf"],"text/*":[".txt"],"application/msword":[".doc"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"]},maxFiles:1,maxSize:100*1024*1024}),me=()=>{j(!1),h&&o(1)},ge=()=>{j(!1),f(null),C(null)},fe=async()=>{if(!(!h||!e)){if(k)try{await le(h);return}catch{tt.error("Failed to queue file for offline upload");return}u(!0),o(2);try{if(h.type.startsWith("image/")||h.type.startsWith("video/")){te(Ze=>({...Ze,deepfake:!0}));try{const Ze=await AW.analyzeMedia(h);console.log("Deepfake analysis result:",Ze)}catch(Ze){console.error("Deepfake detection failed:",Ze)}te(Ze=>({...Ze,deepfake:!1}))}te(Ze=>({...Ze,cloudinary:!0}));try{const Ze=await Jb.uploadToIPFS(h);console.log("Cloudinary + IPFS upload successful:",Ze)}catch(Ze){console.error("Cloudinary upload failed:",Ze)}te(Ze=>({...Ze,cloudinary:!1}));const{proofRecord:Te,verificationReport:Le}=await yP(h,e,Ze=>{te(Be=>({...Be,[Ze]:!0}))},r);te(Ze=>({...Ze,narration:!0}));try{const Ze=await Qb.generateSummaryNarration(Le.aiAnalysis.summary,Le.aiAnalysis.keyFacts,Le.aiAnalysis.urgencyLevel);z(Ze.audioUrl)}catch(Ze){console.error("Narration generation failed:",Ze)}te(Ze=>({...Ze,narration:!1})),te(Ze=>({...Ze,translation:!0}));try{if((await tc.detectLanguage(Le.aiAnalysis.summary)).language!=="en"){const Be=await tc.translateEmergencyReport({title:h.name,description:Le.aiAnalysis.summary,aiSuggestions:Le.aiAnalysis.keyFacts},"en");$(Be)}}catch(Ze){console.error("Translation failed:",Ze)}te(Ze=>({...Ze,translation:!1})),n(Te),b(Te),_(Le),o(3)}catch(Te){console.error("Processing failed:",Te),tt.error("Failed to process file. Please try again."),u(!1),o(1)}}},le=async Te=>{let Le;try{if(navigator.geolocation){const Be=await new Promise((We,V)=>{navigator.geolocation.getCurrentPosition(We,V,{enableHighAccuracy:!0,timeout:5e3,maximumAge:6e4})});Le={lat:Be.coords.latitude,lng:Be.coords.longitude}}}catch{console.log("Geolocation not available")}const Ze={fileName:Te.name,fileType:Te.type,fileSize:Te.size,timestamp:new Date,location:Le,description:`Offline upload: ${Te.name}`,...p};await rr.storePendingUpload(Te,Ze),tt.success("File queued for upload when online"),o(4)},pe=Te=>Te.type.startsWith("audio/")?c.jsx(Or,{className:"h-8 w-8 text-green-600"}):Te.type.startsWith("image/")?c.jsx(pc,{className:"h-8 w-8 text-blue-600"}):Te.type.startsWith("video/")?c.jsx(_p,{className:"h-8 w-8 text-purple-600"}):c.jsx(Ys,{className:"h-8 w-8 text-gray-600"}),be=[{name:"Capture/Upload",description:"Select or capture media"},{name:"Review",description:"Confirm details"},{name:"Process",description:"AI analysis & verification"},{name:"Complete",description:"Verification report"}];return t?c.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[c.jsx(Sn,{className:"h-8 w-8 text-blue-600"}),c.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Enhanced Evidence Capture"}),k&&c.jsxs("div",{className:"flex items-center space-x-1 bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm",children:[c.jsx(za,{className:"h-4 w-4"}),c.jsx("span",{children:"Offline Mode"})]})]}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Capture or upload evidence with AI analysis, blockchain verification, and enhanced features"})]}),c.jsx(DK,{result:v,onProceed:me,onCancel:ge,isVisible:F}),k&&c.jsx(BK,{onUploadOffline:le}),c.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-gray-200/50",children:c.jsx("div",{className:"flex items-center justify-between",children:be.map((Te,Le)=>c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium ${Le<=s?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"}`,children:Le<s?c.jsx(Tr,{className:"h-4 w-4"}):Le+1}),c.jsxs("div",{className:"ml-3",children:[c.jsx("p",{className:`text-sm font-medium ${Le<=s?"text-gray-900":"text-gray-500"}`,children:Te.name}),c.jsx("p",{className:"text-xs text-gray-500",children:Te.description})]}),Le<be.length-1&&c.jsx("div",{className:`ml-8 w-16 h-0.5 ${Le<s?"bg-blue-600":"bg-gray-200"}`})]},Te.name))})}),c.jsxs(Ur,{mode:"wait",children:[s===0&&c.jsxs(wt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[c.jsx(OK,{onFileSelect:Ae}),c.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl border border-gray-200/50 overflow-hidden",children:c.jsxs("div",{...he(),className:`p-12 text-center cursor-pointer transition-colors ${Ne?"bg-blue-50":"hover:bg-gray-50/50"}`,children:[c.jsx("input",{...Ee()}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx(fs,{className:`h-16 w-16 ${Ne?"text-blue-600":"text-gray-400"}`})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:Ne?"Drop your file here":"Or drag and drop files"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Traditional file upload method"})]}),c.jsxs("div",{className:"flex items-center justify-center space-x-6 text-sm text-gray-500",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Or,{className:"h-4 w-4 text-green-600"}),c.jsx("span",{children:"Audio"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(pc,{className:"h-4 w-4 text-blue-600"}),c.jsx("span",{children:"Images"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(_p,{className:"h-4 w-4 text-purple-600"}),c.jsx("span",{children:"Videos"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ys,{className:"h-4 w-4 text-gray-600"}),c.jsx("span",{children:"Documents"})]})]})]})]})})]},"upload"),s===1&&h&&c.jsxs(wt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"bg-white/70 backdrop-blur-sm rounded-xl p-8 border border-gray-200/50",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Review File Details"}),c.jsxs("div",{className:"flex items-start space-x-6",children:[c.jsx("div",{className:"flex-shrink-0",children:pe(h)}),c.jsxs("div",{className:"flex-1 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"File Name"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:h.name})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"File Type"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:h.type})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"File Size"}),c.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[(h.size/1024/1024).toFixed(2)," MB"]})]})]}),p&&c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[c.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Captured Metadata:"}),c.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[p.location&&c.jsxs("p",{children:[" Location: ",p.location.lat.toFixed(4),", ",p.location.lng.toFixed(4)]}),p.weatherData&&c.jsxs("p",{children:[" Weather: ",p.weatherData.temperature,"C, ",p.weatherData.condition]}),p.captureMethod&&c.jsxs("p",{children:[" Method: ",p.captureMethod.replace("_"," ")]}),c.jsxs("p",{children:[" Timestamp: ",(ie=p.timestamp)==null?void 0:ie.toLocaleString()]})]})]}),c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[c.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:k?"Offline Queue Features:":"Enhanced Verification Analysis:"}),c.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[c.jsx("li",{children:" Content moderation and safety screening"}),!k&&(h.type.startsWith("image/")||h.type.startsWith("video/"))&&c.jsx("li",{children:" Advanced deepfake detection and manipulation analysis"}),c.jsx("li",{children:" Metadata extraction and geolocation capture"}),!k&&(h.type.startsWith("audio/")||h.type.startsWith("video/"))&&c.jsx("li",{children:" Audio transcription using Whisper AI"}),c.jsx("li",{children:" AI content analysis and event classification"}),c.jsx("li",{children:" Cloudinary + IPFS decentralized storage"}),c.jsx("li",{children:" Blockchain proof-of-existence on Algorand"}),!k&&c.jsx("li",{children:" AI narration and multi-language translation"}),!k&&c.jsx("li",{children:" Expert co-signature capability"}),k&&c.jsx("li",{children:" Automatic sync when online"})]})]})]})]}),c.jsxs("div",{className:"mt-8 flex space-x-4",children:[c.jsx("button",{onClick:()=>{f(null),g(null),o(0)},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Choose Different File"}),c.jsx("button",{onClick:fe,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:k?"Queue for Upload":"Process & Verify"})]})]},"review"),s===2&&c.jsxs(wt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"bg-white/70 backdrop-blur-sm rounded-xl p-8 border border-gray-200/50",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Processing Your Evidence"}),c.jsx("div",{className:"space-y-4",children:Object.entries({moderation:"Content safety screening",deepfake:"Deepfake detection analysis",hashing:"Generating SHA-256 hash",transcribing:"Transcribing audio content",analyzing:"AI content analysis",cloudinary:"Uploading to Cloudinary + IPFS",storing:"Storing on decentralized network",blockchain:"Recording on Algorand blockchain",verification:"Running verification analysis",narration:"Generating AI narration",translation:"Processing translations"}).map(([Te,Le])=>c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${X[Te]?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"}`,children:X[Te]?c.jsx(Tr,{className:"h-4 w-4"}):c.jsx(Kv,{className:"h-4 w-4 animate-spin"})}),c.jsx("span",{className:`text-sm ${X[Te]?"text-gray-900 font-medium":"text-gray-600"}`,children:Le})]},Te))})]},"processing"),s===3&&y&&w&&c.jsxs(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 text-white rounded-xl p-8 text-center",children:[c.jsx(Tr,{className:"h-16 w-16 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-bold mb-2",children:"Evidence Successfully Processed!"}),c.jsx("p",{className:"text-green-100 mb-4",children:"Your evidence has been analyzed, verified, and recorded with enhanced features."}),c.jsxs("div",{className:"flex items-center justify-center space-x-6 text-sm",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Sn,{className:"h-4 w-4"}),c.jsxs("span",{children:["Trust Score: ",y.overallTrustScore,"%"]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Tr,{className:"h-4 w-4"}),c.jsxs("span",{children:["Status: ",y.verificationStatus]})]}),R&&c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Or,{className:"h-4 w-4"}),c.jsx("span",{children:"AI Narration Ready"})]})]})]}),R&&c.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[c.jsxs("h4",{className:"font-medium text-purple-900 mb-3 flex items-center",children:[c.jsx(Or,{className:"h-4 w-4 mr-2"}),"AI-Generated Narration"]}),c.jsxs("audio",{controls:!0,className:"w-full",children:[c.jsx("source",{src:R,type:"audio/mpeg"}),"Your browser does not support the audio element."]}),c.jsx("p",{className:"text-sm text-purple-700 mt-2",children:"Professional narration of your evidence summary and key facts."})]}),Q&&c.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:[c.jsx("h4",{className:"font-medium text-indigo-900 mb-3",children:"Translation Available"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-indigo-800",children:"Original Language:"}),c.jsx("span",{className:"ml-2 text-indigo-700",children:Q.sourceLanguage})]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-indigo-800",children:"English Translation:"}),c.jsx("p",{className:"text-indigo-700 mt-1",children:Q.description})]})]})]}),c.jsx(jP,{proof:w,verificationReport:y,isExpanded:!0}),c.jsxs("div",{className:"grid gap-6",children:[y.deepfakeAnalysis&&c.jsx(bP,{analysis:y.deepfakeAnalysis}),c.jsx(EP,{metadata:y.metadata}),y.transcription&&c.jsx(AP,{transcription:y.transcription}),c.jsx(CP,{analysis:y.aiAnalysis}),c.jsx(IK,{reportId:y.id,currentStatus:y.verificationStatus,coSignatures:y.coSignatures}),c.jsx(TP,{reportId:y.id,coSignatures:y.coSignatures})]}),c.jsxs("div",{className:"flex justify-center space-x-4",children:[c.jsx("button",{onClick:()=>i("/history"),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"View All Evidence"}),c.jsx("button",{onClick:()=>{o(0),f(null),g(null),_(null),b(null),C(null),z(null),$(null),te({hashing:!1,transcribing:!1,analyzing:!1,storing:!1,blockchain:!1,verification:!1,moderation:!1,deepfake:!1,cloudinary:!1,narration:!1,translation:!1})},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Capture Another File"})]})]},"complete"),s===4&&c.jsxs(wt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-gradient-to-br from-orange-500 to-orange-600 text-white rounded-xl p-8 text-center",children:[c.jsx(za,{className:"h-16 w-16 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-bold mb-2",children:"File Queued for Upload!"}),c.jsx("p",{className:"text-orange-100 mb-4",children:"Your file has been stored locally and will be automatically processed when you reconnect to the internet."}),c.jsx("div",{className:"bg-orange-400/30 rounded-lg p-4 mt-4",children:c.jsx("p",{className:"text-sm text-orange-100",children:"The file will undergo full verification analysis including content moderation, deepfake detection, AI content analysis, narration generation, and blockchain recording once online."})}),c.jsx("button",{onClick:()=>{o(0),f(null),g(null)},className:"mt-6 px-6 py-2 bg-white text-orange-600 rounded-lg font-medium hover:bg-orange-50 transition-colors",children:"Capture Another File"})]},"offline-complete")]})]}):c.jsx("div",{className:"max-w-2xl mx-auto text-center",children:c.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-8 border border-gray-200/50",children:[c.jsx(No,{className:"h-12 w-12 text-amber-500 mx-auto mb-4"}),c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Wallet Connection Required"}),c.jsx("p",{className:"text-gray-600",children:"Please connect your Algorand wallet to upload and verify evidence."})]})})},UK=()=>{const{proofs:t}=qd(),{isConnected:e}=xs(),[n,r]=Y.useState(""),[i,s]=Y.useState("all"),[o,l]=Y.useState("all"),u=t.filter(f=>{const p=f.fileName.toLowerCase().includes(n.toLowerCase())||f.summary.toLowerCase().includes(n.toLowerCase()),g=i==="all"||f.status===i,y=o==="all"||o==="audio"&&f.fileType.startsWith("audio/")||o==="image"&&f.fileType.startsWith("image/")||o==="document"&&!f.fileType.startsWith("audio/")&&!f.fileType.startsWith("image/");return p&&g&&y}),h=f=>f.startsWith("audio/")?c.jsx(Or,{className:"h-5 w-5 text-green-600"}):f.startsWith("image/")?c.jsx(pc,{className:"h-5 w-5 text-blue-600"}):c.jsx(Ys,{className:"h-5 w-5 text-gray-600"});return e?c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Proof History"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"View and manage all your verified evidence records"})]}),c.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-gray-200/50",children:c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-6",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(bp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search proofs by filename or content...",value:n,onChange:f=>r(f.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(A8,{className:"h-4 w-4 text-gray-500"}),c.jsxs("select",{value:i,onChange:f=>s(f.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"completed",children:"Completed"}),c.jsx("option",{value:"processing",children:"Processing"}),c.jsx("option",{value:"failed",children:"Failed"})]})]}),c.jsxs("select",{value:o,onChange:f=>l(f.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[c.jsx("option",{value:"all",children:"All Types"}),c.jsx("option",{value:"audio",children:"Audio"}),c.jsx("option",{value:"image",children:"Images"}),c.jsx("option",{value:"document",children:"Documents"})]})]})]})}),u.length===0?c.jsx("div",{className:"text-center py-12",children:c.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-8 border border-gray-200/50",children:[c.jsx(Ys,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.length===0?"No proofs yet":"No matching proofs"}),c.jsx("p",{className:"text-gray-600 mb-4",children:t.length===0?"Upload your first evidence file to get started.":"Try adjusting your search or filter criteria."}),t.length===0&&c.jsx(jr,{to:"/upload",className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Upload Evidence"})]})}):c.jsx("div",{className:"grid gap-6",children:u.map((f,p)=>c.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1},className:"bg-white/70 backdrop-blur-sm rounded-xl border border-gray-200/50 overflow-hidden hover:shadow-lg transition-all duration-200",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[c.jsx("div",{className:"flex-shrink-0 mt-1",children:h(f.fileType)}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:f.fileName}),c.jsxs("div",{className:"flex items-center space-x-4 mt-1 text-sm text-gray-500",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(U9,{className:"h-4 w-4"}),c.jsx("span",{children:Bi(f.uploadDate,"MMM d, yyyy")})]}),c.jsx("span",{children:""}),c.jsx("span",{className:"capitalize",children:f.fileType.split("/")[0]})]}),c.jsx("p",{className:"mt-3 text-gray-700 line-clamp-2",children:f.summary}),f.transcript&&c.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg",children:[c.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"TRANSCRIPT"}),c.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:f.transcript})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-3 ml-4",children:[c.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${f.status==="completed"?"bg-green-100 text-green-800":f.status==="processing"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:f.status}),c.jsx(jr,{to:`/proof/${f.id}`,className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:c.jsx(xd,{className:"h-4 w-4"})})]})]}),c.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200/50",children:c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"File Hash"}),c.jsxs("p",{className:"font-mono text-xs text-gray-900 truncate",title:f.fileHash,children:[f.fileHash.slice(0,16),"..."]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"IPFS Hash"}),c.jsxs("p",{className:"font-mono text-xs text-gray-900 truncate",title:f.ipfsHash,children:[f.ipfsHash.slice(0,16),"..."]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Algorand TX"}),c.jsxs("p",{className:"font-mono text-xs text-gray-900 truncate",title:f.algorandTxId,children:[f.algorandTxId.slice(0,16),"..."]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Wallet"}),c.jsxs("p",{className:"font-mono text-xs text-gray-900 truncate",title:f.walletAddress,children:[f.walletAddress.slice(0,8),"..."]})]})]})})]})},f.id))})]}):c.jsx("div",{className:"max-w-2xl mx-auto text-center",children:c.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-8 border border-gray-200/50",children:[c.jsx(No,{className:"h-12 w-12 text-amber-500 mx-auto mb-4"}),c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Wallet Connection Required"}),c.jsx("p",{className:"text-gray-600",children:"Please connect your Algorand wallet to view your proof history."})]})})},zK=()=>{const{id:t}=cR(),{getProof:e}=qd(),{verificationReports:n}=Xo(),r=t?e(t):void 0,i=n.find(u=>u.fileId===t);if(!r)return c.jsx("div",{className:"max-w-2xl mx-auto text-center",children:c.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-8 border border-gray-200/50",children:[c.jsx(Ys,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Proof Not Found"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"The requested proof record could not be found."}),c.jsxs(jr,{to:"/history",className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[c.jsx(wp,{className:"h-4 w-4 mr-2"}),"Back to History"]})]})});const s=u=>u.startsWith("audio/")?c.jsx(Or,{className:"h-6 w-6 text-green-600"}):u.startsWith("image/")?c.jsx(pc,{className:"h-6 w-6 text-blue-600"}):c.jsx(Ys,{className:"h-6 w-6 text-gray-600"}),o=(u,h)=>{navigator.clipboard.writeText(u),tt.success(`${h} copied to clipboard`)},l=[{label:"File Hash (SHA-256)",value:r.fileHash,icon:C8,description:"Cryptographic hash of the original file"},{label:"IPFS Hash",value:r.ipfsHash,icon:Dc,description:"Decentralized storage identifier",link:`https://ipfs.io/ipfs/${r.ipfsHash}`},{label:"Algorand Transaction",value:r.algorandTxId,icon:Wv,description:"Blockchain transaction record",link:`https://testnet.algoexplorer.io/tx/${r.algorandTxId}`}];return c.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(jr,{to:"/history",className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(wp,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Proof Details"}),c.jsxs("p",{className:"text-gray-600",children:["Verification record for ",r.fileName]})]})]}),c.jsx("div",{className:`px-4 py-2 rounded-full text-sm font-medium ${r.status==="completed"?"bg-green-100 text-green-800":r.status==="processing"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:r.status})]}),c.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/70 backdrop-blur-sm rounded-xl border border-gray-200/50 overflow-hidden",children:c.jsx("div",{className:"p-6",children:c.jsxs("div",{className:"flex items-start space-x-6",children:[c.jsx("div",{className:"flex-shrink-0 p-4 bg-gray-50 rounded-xl",children:s(r.fileType)}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.fileName}),c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"File Type"}),c.jsx("p",{className:"font-medium text-gray-900 capitalize",children:r.fileType.split("/")[0]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Upload Date"}),c.jsx("p",{className:"font-medium text-gray-900",children:Bi(r.uploadDate,"MMM d, yyyy")})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Upload Time"}),c.jsx("p",{className:"font-medium text-gray-900",children:Bi(r.uploadDate,"h:mm a")})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Wallet"}),c.jsxs("p",{className:"font-mono text-sm text-gray-900 truncate",title:r.walletAddress,children:[r.walletAddress.slice(0,8),"...",r.walletAddress.slice(-4)]})]})]})]})]})})}),c.jsx(jP,{proof:r,verificationReport:i,isExpanded:!0}),i&&c.jsxs(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-6",children:[c.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl border border-gray-200/50 p-6",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx(Sn,{className:"h-5 w-5 text-blue-600"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Verification Report"}),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i.verificationStatus==="verified"?"bg-green-100 text-green-800":i.verificationStatus==="flagged"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:i.verificationStatus})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Trust Score"}),c.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[i.overallTrustScore,"%"]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Co-signatures"}),c.jsx("p",{className:"text-2xl font-bold text-blue-600",children:i.coSignatures.length})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Event Tags"}),c.jsx("p",{className:"text-2xl font-bold text-purple-600",children:i.aiAnalysis.eventTags.length})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Urgency Level"}),c.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[i.aiAnalysis.urgencyLevel,"/10"]})]})]})]}),c.jsxs("div",{className:"grid gap-6",children:[i.deepfakeAnalysis&&c.jsx(bP,{analysis:i.deepfakeAnalysis}),c.jsx(EP,{metadata:i.metadata}),i.transcription&&c.jsx(AP,{transcription:i.transcription}),c.jsx(CP,{analysis:i.aiAnalysis}),c.jsx(TP,{reportId:i.id,coSignatures:i.coSignatures})]})]}),c.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/70 backdrop-blur-sm rounded-xl border border-gray-200/50 overflow-hidden",children:c.jsxs("div",{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"AI Analysis Summary"}),c.jsx("div",{className:"max-w-none",children:c.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.summary})})]})}),r.transcript&&c.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white/70 backdrop-blur-sm rounded-xl border border-gray-200/50 overflow-hidden",children:c.jsxs("div",{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Transcript"}),c.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:c.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:r.transcript})})]})}),c.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white/70 backdrop-blur-sm rounded-xl border border-gray-200/50 overflow-hidden",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[c.jsx(Sn,{className:"h-5 w-5 text-green-600"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Verification Details"})]}),c.jsx("div",{className:"space-y-6",children:l.map((u,h)=>c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"flex-shrink-0 p-2 bg-gray-100 rounded-lg",children:c.jsx(u.icon,{className:"h-4 w-4 text-gray-600"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-gray-900",children:u.label}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:u.description})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>o(u.value,u.label),className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",title:"Copy to clipboard",children:c.jsx(k8,{className:"h-4 w-4"})}),u.link&&c.jsx("a",{href:u.link,target:"_blank",rel:"noopener noreferrer",className:"p-1 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"View on blockchain explorer",children:c.jsx(xd,{className:"h-4 w-4"})})]})]}),c.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg",children:c.jsx("p",{className:"font-mono text-xs text-gray-700 break-all",children:u.value})})]})]},u.label))})]})}),c.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"flex justify-center space-x-4",children:c.jsxs("button",{onClick:()=>o(JSON.stringify(r,null,2),"Proof data"),className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[c.jsx(E8,{className:"h-4 w-4"}),c.jsx("span",{children:"Export Data"})]})})]})};function PP(t,e){const n=Y.useRef(e);Y.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const qK=1;function VK(t){return Object.freeze({__version:qK,map:t})}function HK(t,e){return Object.freeze({...t,...e})}const FP=Y.createContext(null),NP=FP.Provider;function RP(){const t=Y.useContext(FP);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function WK(t){function e(n,r){const{instance:i,context:s}=t(n).current;return Y.useImperativeHandle(r,()=>i),n.children==null?null:Do.createElement(NP,{value:s},n.children)}return Y.forwardRef(e)}function KK(t){function e(n,r){const[i,s]=Y.useState(!1),{instance:o}=t(n,s).current;Y.useImperativeHandle(r,()=>o),Y.useEffect(function(){i&&o.update()},[o,i,n.children]);const l=o._contentNode;return l?I6.createPortal(n.children,l):null}return Y.forwardRef(e)}function GK(t){function e(n,r){const{instance:i}=t(n).current;return Y.useImperativeHandle(r,()=>i),null}return Y.forwardRef(e)}function BP(t,e){const n=Y.useRef();Y.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function A_(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function ZK(t,e){return function(r,i){const s=RP(),o=t(A_(r,s),s);return PP(s.map,r.attribution),BP(o.current,r.eventHandlers),e(o.current,s,r,i),o}}var mw={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(jt,function(n){var r="1.9.4";function i(a){var d,m,S,B;for(m=1,S=arguments.length;m<S;m++){B=arguments[m];for(d in B)a[d]=B[d]}return a}var s=Object.create||function(){function a(){}return function(d){return a.prototype=d,new a}}();function o(a,d){var m=Array.prototype.slice;if(a.bind)return a.bind.apply(a,m.call(arguments,1));var S=m.call(arguments,2);return function(){return a.apply(d,S.length?S.concat(m.call(arguments)):arguments)}}var l=0;function u(a){return"_leaflet_id"in a||(a._leaflet_id=++l),a._leaflet_id}function h(a,d,m){var S,B,G,ye;return ye=function(){S=!1,B&&(G.apply(m,B),B=!1)},G=function(){S?B=arguments:(a.apply(m,arguments),setTimeout(ye,d),S=!0)},G}function f(a,d,m){var S=d[1],B=d[0],G=S-B;return a===S&&m?a:((a-B)%G+G)%G+B}function p(){return!1}function g(a,d){if(d===!1)return a;var m=Math.pow(10,d===void 0?6:d);return Math.round(a*m)/m}function y(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function _(a){return y(a).split(/\s+/)}function w(a,d){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?s(a.options):{});for(var m in d)a.options[m]=d[m];return a.options}function b(a,d,m){var S=[];for(var B in a)S.push(encodeURIComponent(m?B.toUpperCase():B)+"="+encodeURIComponent(a[B]));return(!d||d.indexOf("?")===-1?"?":"&")+S.join("&")}var k=/\{ *([\w_ -]+) *\}/g;function x(a,d){return a.replace(k,function(m,S){var B=d[S];if(B===void 0)throw new Error("No value provided for variable "+m);return typeof B=="function"&&(B=B(d)),B})}var v=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function C(a,d){for(var m=0;m<a.length;m++)if(a[m]===d)return m;return-1}var F="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function j(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var R=0;function z(a){var d=+new Date,m=Math.max(0,16-(d-R));return R=d+m,window.setTimeout(a,m)}var Q=window.requestAnimationFrame||j("RequestAnimationFrame")||z,$=window.cancelAnimationFrame||j("CancelAnimationFrame")||j("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function X(a,d,m){if(m&&Q===z)a.call(d);else return Q.call(window,o(a,d))}function te(a){a&&$.call(window,a)}var ae={__proto__:null,extend:i,create:s,bind:o,get lastId(){return l},stamp:u,throttle:h,wrapNum:f,falseFn:p,formatNum:g,trim:y,splitWords:_,setOptions:w,getParamString:b,template:x,isArray:v,indexOf:C,emptyImageUrl:F,requestFn:Q,cancelFn:$,requestAnimFrame:X,cancelAnimFrame:te};function Ae(){}Ae.extend=function(a){var d=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=d.__super__=this.prototype,S=s(m);S.constructor=d,d.prototype=S;for(var B in this)Object.prototype.hasOwnProperty.call(this,B)&&B!=="prototype"&&B!=="__super__"&&(d[B]=this[B]);return a.statics&&i(d,a.statics),a.includes&&(he(a.includes),i.apply(null,[S].concat(a.includes))),i(S,a),delete S.statics,delete S.includes,S.options&&(S.options=m.options?s(m.options):{},i(S.options,a.options)),S._initHooks=[],S.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var G=0,ye=S._initHooks.length;G<ye;G++)S._initHooks[G].call(this)}},d},Ae.include=function(a){var d=this.prototype.options;return i(this.prototype,a),a.options&&(this.prototype.options=d,this.mergeOptions(a.options)),this},Ae.mergeOptions=function(a){return i(this.prototype.options,a),this},Ae.addInitHook=function(a){var d=Array.prototype.slice.call(arguments,1),m=typeof a=="function"?a:function(){this[a].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function he(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=v(a)?a:[a];for(var d=0;d<a.length;d++)a[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ee={on:function(a,d,m){if(typeof a=="object")for(var S in a)this._on(S,a[S],d);else{a=_(a);for(var B=0,G=a.length;B<G;B++)this._on(a[B],d,m)}return this},off:function(a,d,m){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var S in a)this._off(S,a[S],d);else{a=_(a);for(var B=arguments.length===1,G=0,ye=a.length;G<ye;G++)B?this._off(a[G]):this._off(a[G],d,m)}return this},_on:function(a,d,m,S){if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}if(this._listens(a,d,m)===!1){m===this&&(m=void 0);var B={fn:d,ctx:m};S&&(B.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(B)}},_off:function(a,d,m){var S,B,G;if(this._events&&(S=this._events[a],!!S)){if(arguments.length===1){if(this._firingCount)for(B=0,G=S.length;B<G;B++)S[B].fn=p;delete this._events[a];return}if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}var ye=this._listens(a,d,m);if(ye!==!1){var Ie=S[ye];this._firingCount&&(Ie.fn=p,this._events[a]=S=S.slice()),S.splice(ye,1)}}},fire:function(a,d,m){if(!this.listens(a,m))return this;var S=i({},d,{type:a,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var B=this._events[a];if(B){this._firingCount=this._firingCount+1||1;for(var G=0,ye=B.length;G<ye;G++){var Ie=B[G],Ue=Ie.fn;Ie.once&&this.off(a,Ue,Ie.ctx),Ue.call(Ie.ctx||this,S)}this._firingCount--}}return m&&this._propagateEvent(S),this},listens:function(a,d,m,S){typeof a!="string"&&console.warn('"string" type argument expected');var B=d;typeof d!="function"&&(S=!!d,B=void 0,m=void 0);var G=this._events&&this._events[a];if(G&&G.length&&this._listens(a,B,m)!==!1)return!0;if(S){for(var ye in this._eventParents)if(this._eventParents[ye].listens(a,d,m,S))return!0}return!1},_listens:function(a,d,m){if(!this._events)return!1;var S=this._events[a]||[];if(!d)return!!S.length;m===this&&(m=void 0);for(var B=0,G=S.length;B<G;B++)if(S[B].fn===d&&S[B].ctx===m)return B;return!1},once:function(a,d,m){if(typeof a=="object")for(var S in a)this._on(S,a[S],d,!0);else{a=_(a);for(var B=0,G=a.length;B<G;B++)this._on(a[B],d,m,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[u(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[u(a)],this},_propagateEvent:function(a){for(var d in this._eventParents)this._eventParents[d].fire(a.type,i({layer:a.target,propagatedFrom:a.target},a),!0)}};Ee.addEventListener=Ee.on,Ee.removeEventListener=Ee.clearAllEventListeners=Ee.off,Ee.addOneTimeEventListener=Ee.once,Ee.fireEvent=Ee.fire,Ee.hasEventListeners=Ee.listens;var Ne=Ae.extend(Ee);function me(a,d,m){this.x=m?Math.round(a):a,this.y=m?Math.round(d):d}var ge=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};me.prototype={clone:function(){return new me(this.x,this.y)},add:function(a){return this.clone()._add(fe(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(fe(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new me(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new me(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ge(this.x),this.y=ge(this.y),this},distanceTo:function(a){a=fe(a);var d=a.x-this.x,m=a.y-this.y;return Math.sqrt(d*d+m*m)},equals:function(a){return a=fe(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=fe(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function fe(a,d,m){return a instanceof me?a:v(a)?new me(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new me(a.x,a.y):new me(a,d,m)}function le(a,d){if(a)for(var m=d?[a,d]:a,S=0,B=m.length;S<B;S++)this.extend(m[S])}le.prototype={extend:function(a){var d,m;if(!a)return this;if(a instanceof me||typeof a[0]=="number"||"x"in a)d=m=fe(a);else if(a=pe(a),d=a.min,m=a.max,!d||!m)return this;return!this.min&&!this.max?(this.min=d.clone(),this.max=m.clone()):(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(a){return fe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return fe(this.min.x,this.max.y)},getTopRight:function(){return fe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var d,m;return typeof a[0]=="number"||a instanceof me?a=fe(a):a=pe(a),a instanceof le?(d=a.min,m=a.max):d=m=a,d.x>=this.min.x&&m.x<=this.max.x&&d.y>=this.min.y&&m.y<=this.max.y},intersects:function(a){a=pe(a);var d=this.min,m=this.max,S=a.min,B=a.max,G=B.x>=d.x&&S.x<=m.x,ye=B.y>=d.y&&S.y<=m.y;return G&&ye},overlaps:function(a){a=pe(a);var d=this.min,m=this.max,S=a.min,B=a.max,G=B.x>d.x&&S.x<m.x,ye=B.y>d.y&&S.y<m.y;return G&&ye},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var d=this.min,m=this.max,S=Math.abs(d.x-m.x)*a,B=Math.abs(d.y-m.y)*a;return pe(fe(d.x-S,d.y-B),fe(m.x+S,m.y+B))},equals:function(a){return a?(a=pe(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function pe(a,d){return!a||a instanceof le?a:new le(a,d)}function be(a,d){if(a)for(var m=d?[a,d]:a,S=0,B=m.length;S<B;S++)this.extend(m[S])}be.prototype={extend:function(a){var d=this._southWest,m=this._northEast,S,B;if(a instanceof Te)S=a,B=a;else if(a instanceof be){if(S=a._southWest,B=a._northEast,!S||!B)return this}else return a?this.extend(Le(a)||ie(a)):this;return!d&&!m?(this._southWest=new Te(S.lat,S.lng),this._northEast=new Te(B.lat,B.lng)):(d.lat=Math.min(S.lat,d.lat),d.lng=Math.min(S.lng,d.lng),m.lat=Math.max(B.lat,m.lat),m.lng=Math.max(B.lng,m.lng)),this},pad:function(a){var d=this._southWest,m=this._northEast,S=Math.abs(d.lat-m.lat)*a,B=Math.abs(d.lng-m.lng)*a;return new be(new Te(d.lat-S,d.lng-B),new Te(m.lat+S,m.lng+B))},getCenter:function(){return new Te((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Te(this.getNorth(),this.getWest())},getSouthEast:function(){return new Te(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Te||"lat"in a?a=Le(a):a=ie(a);var d=this._southWest,m=this._northEast,S,B;return a instanceof be?(S=a.getSouthWest(),B=a.getNorthEast()):S=B=a,S.lat>=d.lat&&B.lat<=m.lat&&S.lng>=d.lng&&B.lng<=m.lng},intersects:function(a){a=ie(a);var d=this._southWest,m=this._northEast,S=a.getSouthWest(),B=a.getNorthEast(),G=B.lat>=d.lat&&S.lat<=m.lat,ye=B.lng>=d.lng&&S.lng<=m.lng;return G&&ye},overlaps:function(a){a=ie(a);var d=this._southWest,m=this._northEast,S=a.getSouthWest(),B=a.getNorthEast(),G=B.lat>d.lat&&S.lat<m.lat,ye=B.lng>d.lng&&S.lng<m.lng;return G&&ye},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,d){return a?(a=ie(a),this._southWest.equals(a.getSouthWest(),d)&&this._northEast.equals(a.getNorthEast(),d)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ie(a,d){return a instanceof be?a:new be(a,d)}function Te(a,d,m){if(isNaN(a)||isNaN(d))throw new Error("Invalid LatLng object: ("+a+", "+d+")");this.lat=+a,this.lng=+d,m!==void 0&&(this.alt=+m)}Te.prototype={equals:function(a,d){if(!a)return!1;a=Le(a);var m=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return m<=(d===void 0?1e-9:d)},toString:function(a){return"LatLng("+g(this.lat,a)+", "+g(this.lng,a)+")"},distanceTo:function(a){return Be.distance(this,Le(a))},wrap:function(){return Be.wrapLatLng(this)},toBounds:function(a){var d=180*a/40075017,m=d/Math.cos(Math.PI/180*this.lat);return ie([this.lat-d,this.lng-m],[this.lat+d,this.lng+m])},clone:function(){return new Te(this.lat,this.lng,this.alt)}};function Le(a,d,m){return a instanceof Te?a:v(a)&&typeof a[0]!="object"?a.length===3?new Te(a[0],a[1],a[2]):a.length===2?new Te(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Te(a.lat,"lng"in a?a.lng:a.lon,a.alt):d===void 0?null:new Te(a,d,m)}var Ze={latLngToPoint:function(a,d){var m=this.projection.project(a),S=this.scale(d);return this.transformation._transform(m,S)},pointToLatLng:function(a,d){var m=this.scale(d),S=this.transformation.untransform(a,m);return this.projection.unproject(S)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var d=this.projection.bounds,m=this.scale(a),S=this.transformation.transform(d.min,m),B=this.transformation.transform(d.max,m);return new le(S,B)},infinite:!1,wrapLatLng:function(a){var d=this.wrapLng?f(a.lng,this.wrapLng,!0):a.lng,m=this.wrapLat?f(a.lat,this.wrapLat,!0):a.lat,S=a.alt;return new Te(m,d,S)},wrapLatLngBounds:function(a){var d=a.getCenter(),m=this.wrapLatLng(d),S=d.lat-m.lat,B=d.lng-m.lng;if(S===0&&B===0)return a;var G=a.getSouthWest(),ye=a.getNorthEast(),Ie=new Te(G.lat-S,G.lng-B),Ue=new Te(ye.lat-S,ye.lng-B);return new be(Ie,Ue)}},Be=i({},Ze,{wrapLng:[-180,180],R:6371e3,distance:function(a,d){var m=Math.PI/180,S=a.lat*m,B=d.lat*m,G=Math.sin((d.lat-a.lat)*m/2),ye=Math.sin((d.lng-a.lng)*m/2),Ie=G*G+Math.cos(S)*Math.cos(B)*ye*ye,Ue=2*Math.atan2(Math.sqrt(Ie),Math.sqrt(1-Ie));return this.R*Ue}}),We=6378137,V={R:We,MAX_LATITUDE:85.0511287798,project:function(a){var d=Math.PI/180,m=this.MAX_LATITUDE,S=Math.max(Math.min(m,a.lat),-m),B=Math.sin(S*d);return new me(this.R*a.lng*d,this.R*Math.log((1+B)/(1-B))/2)},unproject:function(a){var d=180/Math.PI;return new Te((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*d,a.x*d/this.R)},bounds:function(){var a=We*Math.PI;return new le([-a,-a],[a,a])}()};function ee(a,d,m,S){if(v(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=d,this._c=m,this._d=S}ee.prototype={transform:function(a,d){return this._transform(a.clone(),d)},_transform:function(a,d){return d=d||1,a.x=d*(this._a*a.x+this._b),a.y=d*(this._c*a.y+this._d),a},untransform:function(a,d){return d=d||1,new me((a.x/d-this._b)/this._a,(a.y/d-this._d)/this._c)}};function ce(a,d,m,S){return new ee(a,d,m,S)}var Ce=i({},Be,{code:"EPSG:3857",projection:V,transformation:function(){var a=.5/(Math.PI*V.R);return ce(a,.5,-a,.5)}()}),_e=i({},Ce,{code:"EPSG:900913"});function je(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Me(a,d){var m="",S,B,G,ye,Ie,Ue;for(S=0,G=a.length;S<G;S++){for(Ie=a[S],B=0,ye=Ie.length;B<ye;B++)Ue=Ie[B],m+=(B?"L":"M")+Ue.x+" "+Ue.y;m+=d?q.svg?"z":"x":""}return m||"M0 0"}var we=document.documentElement.style,ke="ActiveXObject"in window,Re=ke&&!document.addEventListener,H="msLaunchUri"in navigator&&!("documentMode"in document),N=Z("webkit"),W=Z("android"),J=Z("android 2")||Z("android 3"),K=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),se=W&&Z("Google")&&K<537&&!("AudioNode"in window),xe=!!window.opera,D=!H&&Z("chrome"),E=Z("gecko")&&!N&&!xe&&!ke,P=!D&&Z("safari"),U=Z("phantom"),oe="OTransition"in we,ve=navigator.platform.indexOf("Win")===0,Fe=ke&&"transition"in we,Qe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!J,ct="MozPerspective"in we,dt=!window.L_DISABLE_3D&&(Fe||Qe||ct)&&!oe&&!U,it=typeof orientation<"u"||Z("mobile"),St=it&&N,dn=it&&Qe,sn=!window.PointerEvent&&window.MSPointerEvent,Cn=!!(window.PointerEvent||sn),pn="ontouchstart"in window||!!window.TouchEvent,Fn=!window.L_NO_TOUCH&&(pn||Cn),br=it&&xe,Wr=it&&E,Kr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Xi=function(){var a=!1;try{var d=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",p,d),window.removeEventListener("testPassiveEventSupport",p,d)}catch{}return a}(),ws=function(){return!!document.createElement("canvas").getContext}(),Di=!!(document.createElementNS&&je("svg").createSVGRect),ea=!!Di&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Nn=!Di&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var d=a.firstChild;return d.style.behavior="url(#default#VML)",d&&typeof d.adj=="object"}catch{return!1}}(),Zn=navigator.platform.indexOf("Mac")===0,O=navigator.platform.indexOf("Linux")===0;function Z(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var q={ie:ke,ielt9:Re,edge:H,webkit:N,android:W,android23:J,androidStock:se,opera:xe,chrome:D,gecko:E,safari:P,phantom:U,opera12:oe,win:ve,ie3d:Fe,webkit3d:Qe,gecko3d:ct,any3d:dt,mobile:it,mobileWebkit:St,mobileWebkit3d:dn,msPointer:sn,pointer:Cn,touch:Fn,touchNative:pn,mobileOpera:br,mobileGecko:Wr,retina:Kr,passiveEvents:Xi,canvas:ws,svg:Di,vml:Nn,inlineSvg:ea,mac:Zn,linux:O},T=q.msPointer?"MSPointerDown":"pointerdown",ne=q.msPointer?"MSPointerMove":"pointermove",Pe=q.msPointer?"MSPointerUp":"pointerup",De=q.msPointer?"MSPointerCancel":"pointercancel",Ke={touchstart:T,touchmove:ne,touchend:Pe,touchcancel:De},Je={touchstart:Ft,touchmove:Pt,touchend:Pt,touchcancel:Pt},ht={},at=!1;function Qt(a,d,m){return d==="touchstart"&&Vt(),Je[d]?(m=Je[d].bind(this,m),a.addEventListener(Ke[d],m,!1),m):(console.warn("wrong event specified:",d),p)}function ut(a,d,m){if(!Ke[d]){console.warn("wrong event specified:",d);return}a.removeEventListener(Ke[d],m,!1)}function Tt(a){ht[a.pointerId]=a}function Rt(a){ht[a.pointerId]&&(ht[a.pointerId]=a)}function qt(a){delete ht[a.pointerId]}function Vt(){at||(document.addEventListener(T,Tt,!0),document.addEventListener(ne,Rt,!0),document.addEventListener(Pe,qt,!0),document.addEventListener(De,qt,!0),at=!0)}function Pt(a,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){d.touches=[];for(var m in ht)d.touches.push(ht[m]);d.changedTouches=[d],a(d)}}function Ft(a,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&er(d),Pt(a,d)}function Bt(a){var d={},m,S;for(S in a)m=a[S],d[S]=m&&m.bind?m.bind(a):m;return a=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}var gt=200;function _t(a,d){a.addEventListener("dblclick",d);var m=0,S;function B(G){if(G.detail!==1){S=G.detail;return}if(!(G.pointerType==="mouse"||G.sourceCapabilities&&!G.sourceCapabilities.firesTouchEvents)){var ye=nl(G);if(!(ye.some(function(Ue){return Ue instanceof HTMLLabelElement&&Ue.attributes.for})&&!ye.some(function(Ue){return Ue instanceof HTMLInputElement||Ue instanceof HTMLSelectElement}))){var Ie=Date.now();Ie-m<=gt?(S++,S===2&&d(Bt(G))):S=1,m=Ie}}}return a.addEventListener("click",B),{dblclick:d,simDblclick:B}}function lt(a,d){a.removeEventListener("dblclick",d.dblclick),a.removeEventListener("click",d.simDblclick)}var ft=Ht(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ot=Ht(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),st=ot==="webkitTransition"||ot==="OTransition"?ot+"End":"transitionend";function Oe(a){return typeof a=="string"?document.getElementById(a):a}function $e(a,d){var m=a.style[d]||a.currentStyle&&a.currentStyle[d];if((!m||m==="auto")&&document.defaultView){var S=document.defaultView.getComputedStyle(a,null);m=S?S[d]:null}return m==="auto"?null:m}function qe(a,d,m){var S=document.createElement(a);return S.className=d||"",m&&m.appendChild(S),S}function ze(a){var d=a.parentNode;d&&d.removeChild(a)}function Ge(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Ye(a){var d=a.parentNode;d&&d.lastChild!==a&&d.appendChild(a)}function bt(a){var d=a.parentNode;d&&d.firstChild!==a&&d.insertBefore(a,d.firstChild)}function $t(a,d){if(a.classList!==void 0)return a.classList.contains(d);var m=Dt(a);return m.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(m)}function rt(a,d){if(a.classList!==void 0)for(var m=_(d),S=0,B=m.length;S<B;S++)a.classList.add(m[S]);else if(!$t(a,d)){var G=Dt(a);de(a,(G?G+" ":"")+d)}}function xt(a,d){a.classList!==void 0?a.classList.remove(d):de(a,y((" "+Dt(a)+" ").replace(" "+d+" "," ")))}function de(a,d){a.className.baseVal===void 0?a.className=d:a.className.baseVal=d}function Dt(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Ut(a,d){"opacity"in a.style?a.style.opacity=d:"filter"in a.style&&Xt(a,d)}function Xt(a,d){var m=!1,S="DXImageTransform.Microsoft.Alpha";try{m=a.filters.item(S)}catch{if(d===1)return}d=Math.round(d*100),m?(m.Enabled=d!==100,m.Opacity=d):a.style.filter+=" progid:"+S+"(opacity="+d+")"}function Ht(a){for(var d=document.documentElement.style,m=0;m<a.length;m++)if(a[m]in d)return a[m];return!1}function Kt(a,d,m){var S=d||new me(0,0);a.style[ft]=(q.ie3d?"translate("+S.x+"px,"+S.y+"px)":"translate3d("+S.x+"px,"+S.y+"px,0)")+(m?" scale("+m+")":"")}function Et(a,d){a._leaflet_pos=d,q.any3d?Kt(a,d):(a.style.left=d.x+"px",a.style.top=d.y+"px")}function hn(a){return a._leaflet_pos||new me(0,0)}var en,mn,vn;if("onselectstart"in document)en=function(){Gt(window,"selectstart",er)},mn=function(){wn(window,"selectstart",er)};else{var cn=Ht(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);en=function(){if(cn){var a=document.documentElement.style;vn=a[cn],a[cn]="none"}},mn=function(){cn&&(document.documentElement.style[cn]=vn,vn=void 0)}}function fn(){Gt(window,"dragstart",er)}function zn(){wn(window,"dragstart",er)}var Rn,qn;function Ic(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(ta(),Rn=a,qn=a.style.outlineStyle,a.style.outlineStyle="none",Gt(window,"keydown",ta))}function ta(){Rn&&(Rn.style.outlineStyle=qn,Rn=void 0,qn=void 0,wn(window,"keydown",ta))}function rh(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function el(a){var d=a.getBoundingClientRect();return{x:d.width/a.offsetWidth||1,y:d.height/a.offsetHeight||1,boundingClientRect:d}}var ng={__proto__:null,TRANSFORM:ft,TRANSITION:ot,TRANSITION_END:st,get:Oe,getStyle:$e,create:qe,remove:ze,empty:Ge,toFront:Ye,toBack:bt,hasClass:$t,addClass:rt,removeClass:xt,setClass:de,getClass:Dt,setOpacity:Ut,testProp:Ht,setTransform:Kt,setPosition:Et,getPosition:hn,get disableTextSelection(){return en},get enableTextSelection(){return mn},disableImageDrag:fn,enableImageDrag:zn,preventOutline:Ic,restoreOutline:ta,getSizedParentNode:rh,getScale:el};function Gt(a,d,m,S){if(d&&typeof d=="object")for(var B in d)Mc(a,B,d[B],m);else{d=_(d);for(var G=0,ye=d.length;G<ye;G++)Mc(a,d[G],m,S)}return this}var yi="_leaflet_events";function wn(a,d,m,S){if(arguments.length===1)ih(a),delete a[yi];else if(d&&typeof d=="object")for(var B in d)Oc(a,B,d[B],m);else if(d=_(d),arguments.length===2)ih(a,function(Ie){return C(d,Ie)!==-1});else for(var G=0,ye=d.length;G<ye;G++)Oc(a,d[G],m,S);return this}function ih(a,d){for(var m in a[yi]){var S=m.split(/\d/)[0];(!d||d(S))&&Oc(a,S,null,null,m)}}var Lc={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Mc(a,d,m,S){var B=d+u(m)+(S?"_"+u(S):"");if(a[yi]&&a[yi][B])return this;var G=function(Ie){return m.call(S||a,Ie||window.event)},ye=G;!q.touchNative&&q.pointer&&d.indexOf("touch")===0?G=Qt(a,d,G):q.touch&&d==="dblclick"?G=_t(a,G):"addEventListener"in a?d==="touchstart"||d==="touchmove"||d==="wheel"||d==="mousewheel"?a.addEventListener(Lc[d]||d,G,q.passiveEvents?{passive:!1}:!1):d==="mouseenter"||d==="mouseleave"?(G=function(Ie){Ie=Ie||window.event,rl(a,Ie)&&ye(Ie)},a.addEventListener(Lc[d],G,!1)):a.addEventListener(d,ye,!1):a.attachEvent("on"+d,G),a[yi]=a[yi]||{},a[yi][B]=G}function Oc(a,d,m,S,B){B=B||d+u(m)+(S?"_"+u(S):"");var G=a[yi]&&a[yi][B];if(!G)return this;!q.touchNative&&q.pointer&&d.indexOf("touch")===0?ut(a,d,G):q.touch&&d==="dblclick"?lt(a,G):"removeEventListener"in a?a.removeEventListener(Lc[d]||d,G,!1):a.detachEvent("on"+d,G),a[yi][B]=null}function bs(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function tl(a){return Mc(a,"wheel",bs),this}function na(a){return Gt(a,"mousedown touchstart dblclick contextmenu",bs),a._leaflet_disable_click=!0,this}function er(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function It(a){return er(a),bs(a),this}function nl(a){if(a.composedPath)return a.composedPath();for(var d=[],m=a.target;m;)d.push(m),m=m.parentNode;return d}function ra(a,d){if(!d)return new me(a.clientX,a.clientY);var m=el(d),S=m.boundingClientRect;return new me((a.clientX-S.left)/m.x-d.clientLeft,(a.clientY-S.top)/m.y-d.clientTop)}var rg=q.linux&&q.chrome?window.devicePixelRatio:q.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function sh(a){return q.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/rg:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function rl(a,d){var m=d.relatedTarget;if(!m)return!0;try{for(;m&&m!==a;)m=m.parentNode}catch{return!1}return m!==a}var ig={__proto__:null,on:Gt,off:wn,stopPropagation:bs,disableScrollPropagation:tl,disableClickPropagation:na,preventDefault:er,stop:It,getPropagationPath:nl,getMousePosition:ra,getWheelDelta:sh,isExternalTarget:rl,addListener:Gt,removeListener:wn},oh=Ne.extend({run:function(a,d,m,S){this.stop(),this._el=a,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(S||.5,.2),this._startPos=hn(a),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=X(this._animate,this),this._step()},_step:function(a){var d=+new Date-this._startTime,m=this._duration*1e3;d<m?this._runFrame(this._easeOut(d/m),a):(this._runFrame(1),this._complete())},_runFrame:function(a,d){var m=this._startPos.add(this._offset.multiplyBy(a));d&&m._round(),Et(this._el,m),this.fire("step")},_complete:function(){te(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),rn=Ne.extend({options:{crs:Ce,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,d){d=w(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),d.zoom!==void 0&&(this._zoom=this._limitZoom(d.zoom)),d.center&&d.zoom!==void 0&&this.setView(Le(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ot&&q.any3d&&!q.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Gt(this._proxy,st,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,d,m){if(d=d===void 0?this._zoom:this._limitZoom(d),a=this._limitCenter(Le(a),d,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=i({animate:m.animate},m.zoom),m.pan=i({animate:m.animate,duration:m.duration},m.pan));var S=this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,d,m.zoom):this._tryAnimatedPan(a,m.pan);if(S)return clearTimeout(this._sizeTimer),this}return this._resetView(a,d,m.pan&&m.pan.noMoveStart),this},setZoom:function(a,d){return this._loaded?this.setView(this.getCenter(),a,{zoom:d}):(this._zoom=a,this)},zoomIn:function(a,d){return a=a||(q.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,d)},zoomOut:function(a,d){return a=a||(q.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,d)},setZoomAround:function(a,d,m){var S=this.getZoomScale(d),B=this.getSize().divideBy(2),G=a instanceof me?a:this.latLngToContainerPoint(a),ye=G.subtract(B).multiplyBy(1-1/S),Ie=this.containerPointToLatLng(B.add(ye));return this.setView(Ie,d,{zoom:m})},_getBoundsCenterZoom:function(a,d){d=d||{},a=a.getBounds?a.getBounds():ie(a);var m=fe(d.paddingTopLeft||d.padding||[0,0]),S=fe(d.paddingBottomRight||d.padding||[0,0]),B=this.getBoundsZoom(a,!1,m.add(S));if(B=typeof d.maxZoom=="number"?Math.min(d.maxZoom,B):B,B===1/0)return{center:a.getCenter(),zoom:B};var G=S.subtract(m).divideBy(2),ye=this.project(a.getSouthWest(),B),Ie=this.project(a.getNorthEast(),B),Ue=this.unproject(ye.add(Ie).divideBy(2).add(G),B);return{center:Ue,zoom:B}},fitBounds:function(a,d){if(a=ie(a),!a.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(a,d);return this.setView(m.center,m.zoom,d)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,d){return this.setView(a,this._zoom,{pan:d})},panBy:function(a,d){if(a=fe(a).round(),d=d||{},!a.x&&!a.y)return this.fire("moveend");if(d.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new oh,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),d.animate!==!1){rt(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,m,d.duration||.25,d.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,d,m){if(m=m||{},m.animate===!1||!q.any3d)return this.setView(a,d,m);this._stop();var S=this.project(this.getCenter()),B=this.project(a),G=this.getSize(),ye=this._zoom;a=Le(a),d=d===void 0?ye:d;var Ie=Math.max(G.x,G.y),Ue=Ie*this.getZoomScale(ye,d),Xe=B.distanceTo(S)||1,pt=1.42,Lt=pt*pt;function Jt(Xn){var Eh=Xn?-1:1,i5=Xn?Ue:Ie,s5=Ue*Ue-Ie*Ie+Eh*Lt*Lt*Xe*Xe,o5=2*i5*Lt*Xe,_g=s5/o5,Z_=Math.sqrt(_g*_g+1)-_g,a5=Z_<1e-9?-18:Math.log(Z_);return a5}function Rr(Xn){return(Math.exp(Xn)-Math.exp(-Xn))/2}function cr(Xn){return(Math.exp(Xn)+Math.exp(-Xn))/2}function bi(Xn){return Rr(Xn)/cr(Xn)}var Zr=Jt(0);function ul(Xn){return Ie*(cr(Zr)/cr(Zr+pt*Xn))}function e5(Xn){return Ie*(cr(Zr)*bi(Zr+pt*Xn)-Rr(Zr))/Lt}function t5(Xn){return 1-Math.pow(1-Xn,1.5)}var n5=Date.now(),K_=(Jt(1)-Zr)/pt,r5=m.duration?1e3*m.duration:1e3*K_*.8;function G_(){var Xn=(Date.now()-n5)/r5,Eh=t5(Xn)*K_;Xn<=1?(this._flyToFrame=X(G_,this),this._move(this.unproject(S.add(B.subtract(S).multiplyBy(e5(Eh)/Xe)),ye),this.getScaleZoom(Ie/ul(Eh),ye),{flyTo:!0})):this._move(a,d)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),G_.call(this),this},flyToBounds:function(a,d){var m=this._getBoundsCenterZoom(a,d);return this.flyTo(m.center,m.zoom,d)},setMaxBounds:function(a){return a=ie(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var d=this.options.minZoom;return this.options.minZoom=a,this._loaded&&d!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var d=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&d!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,d){this._enforcingBounds=!0;var m=this.getCenter(),S=this._limitCenter(m,this._zoom,ie(a));return m.equals(S)||this.panTo(S,d),this._enforcingBounds=!1,this},panInside:function(a,d){d=d||{};var m=fe(d.paddingTopLeft||d.padding||[0,0]),S=fe(d.paddingBottomRight||d.padding||[0,0]),B=this.project(this.getCenter()),G=this.project(a),ye=this.getPixelBounds(),Ie=pe([ye.min.add(m),ye.max.subtract(S)]),Ue=Ie.getSize();if(!Ie.contains(G)){this._enforcingBounds=!0;var Xe=G.subtract(Ie.getCenter()),pt=Ie.extend(G).getSize().subtract(Ue);B.x+=Xe.x<0?-pt.x:pt.x,B.y+=Xe.y<0?-pt.y:pt.y,this.panTo(this.unproject(B),d),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=i({animate:!1,pan:!0},a===!0?{animate:!0}:a);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),S=d.divideBy(2).round(),B=m.divideBy(2).round(),G=S.subtract(B);return!G.x&&!G.y?this:(a.animate&&a.pan?this.panBy(G):(a.pan&&this._rawPanBy(G),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=i({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=o(this._handleGeolocationResponse,this),m=o(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,m,a):navigator.geolocation.getCurrentPosition(d,m,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var d=a.code,m=a.message||(d===1?"permission denied":d===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var d=a.coords.latitude,m=a.coords.longitude,S=new Te(d,m),B=S.toBounds(a.coords.accuracy*2),G=this._locateOptions;if(G.setView){var ye=this.getBoundsZoom(B);this.setView(S,G.maxZoom?Math.min(ye,G.maxZoom):ye)}var Ie={latlng:S,bounds:B,timestamp:a.timestamp};for(var Ue in a.coords)typeof a.coords[Ue]=="number"&&(Ie[Ue]=a.coords[Ue]);this.fire("locationfound",Ie)}},addHandler:function(a,d){if(!d)return this;var m=this[a]=new d(this);return this._handlers.push(m),this.options[a]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ze(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(te(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)ze(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,d){var m="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),S=qe("div",m,d||this._mapPane);return a&&(this._panes[a]=S),S},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),d=this.unproject(a.getBottomLeft()),m=this.unproject(a.getTopRight());return new be(d,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,d,m){a=ie(a),m=fe(m||[0,0]);var S=this.getZoom()||0,B=this.getMinZoom(),G=this.getMaxZoom(),ye=a.getNorthWest(),Ie=a.getSouthEast(),Ue=this.getSize().subtract(m),Xe=pe(this.project(Ie,S),this.project(ye,S)).getSize(),pt=q.any3d?this.options.zoomSnap:1,Lt=Ue.x/Xe.x,Jt=Ue.y/Xe.y,Rr=d?Math.max(Lt,Jt):Math.min(Lt,Jt);return S=this.getScaleZoom(Rr,S),pt&&(S=Math.round(S/(pt/100))*(pt/100),S=d?Math.ceil(S/pt)*pt:Math.floor(S/pt)*pt),Math.max(B,Math.min(G,S))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new me(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,d){var m=this._getTopLeftPoint(a,d);return new le(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,d){var m=this.options.crs;return d=d===void 0?this._zoom:d,m.scale(a)/m.scale(d)},getScaleZoom:function(a,d){var m=this.options.crs;d=d===void 0?this._zoom:d;var S=m.zoom(a*m.scale(d));return isNaN(S)?1/0:S},project:function(a,d){return d=d===void 0?this._zoom:d,this.options.crs.latLngToPoint(Le(a),d)},unproject:function(a,d){return d=d===void 0?this._zoom:d,this.options.crs.pointToLatLng(fe(a),d)},layerPointToLatLng:function(a){var d=fe(a).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(a){var d=this.project(Le(a))._round();return d._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Le(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(ie(a))},distance:function(a,d){return this.options.crs.distance(Le(a),Le(d))},containerPointToLayerPoint:function(a){return fe(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return fe(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var d=this.containerPointToLayerPoint(fe(a));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Le(a)))},mouseEventToContainerPoint:function(a){return ra(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var d=this._container=Oe(a);if(d){if(d._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Gt(d,"scroll",this._onScroll,this),this._containerId=u(d)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&q.any3d,rt(a,"leaflet-container"+(q.touch?" leaflet-touch":"")+(q.retina?" leaflet-retina":"")+(q.ielt9?" leaflet-oldie":"")+(q.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=$e(a,"position");d!=="absolute"&&d!=="relative"&&d!=="fixed"&&d!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Et(this._mapPane,new me(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(rt(a.markerPane,"leaflet-zoom-hide"),rt(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,d,m){Et(this._mapPane,new me(0,0));var S=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var B=this._zoom!==d;this._moveStart(B,m)._move(a,d)._moveEnd(B),this.fire("viewreset"),S&&this.fire("load")},_moveStart:function(a,d){return a&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(a,d,m,S){d===void 0&&(d=this._zoom);var B=this._zoom!==d;return this._zoom=d,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),S?m&&m.pinch&&this.fire("zoom",m):((B||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return te(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Et(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[u(this._container)]=this;var d=a?wn:Gt;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),q.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){te(this._resizeRequest),this._resizeRequest=X(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,d){for(var m=[],S,B=d==="mouseout"||d==="mouseover",G=a.target||a.srcElement,ye=!1;G;){if(S=this._targets[u(G)],S&&(d==="click"||d==="preclick")&&this._draggableMoved(S)){ye=!0;break}if(S&&S.listens(d,!0)&&(B&&!rl(G,a)||(m.push(S),B))||G===this._container)break;G=G.parentNode}return!m.length&&!ye&&!B&&this.listens(d,!0)&&(m=[this]),m},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var d=a.target||a.srcElement;if(!(!this._loaded||d._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(d))){var m=a.type;m==="mousedown"&&Ic(d),this._fireDOMEvent(a,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,d,m){if(a.type==="click"){var S=i({},a);S.type="preclick",this._fireDOMEvent(S,S.type,m)}var B=this._findEventTargets(a,d);if(m){for(var G=[],ye=0;ye<m.length;ye++)m[ye].listens(d,!0)&&G.push(m[ye]);B=G.concat(B)}if(B.length){d==="contextmenu"&&er(a);var Ie=B[0],Ue={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var Xe=Ie.getLatLng&&(!Ie._radius||Ie._radius<=10);Ue.containerPoint=Xe?this.latLngToContainerPoint(Ie.getLatLng()):this.mouseEventToContainerPoint(a),Ue.layerPoint=this.containerPointToLayerPoint(Ue.containerPoint),Ue.latlng=Xe?Ie.getLatLng():this.layerPointToLatLng(Ue.layerPoint)}for(ye=0;ye<B.length;ye++)if(B[ye].fire(d,Ue,!0),Ue.originalEvent._stopped||B[ye].options.bubblingMouseEvents===!1&&C(this._mouseEvents,d)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,d=this._handlers.length;a<d;a++)this._handlers[a].disable()},whenReady:function(a,d){return this._loaded?a.call(d||this,{target:this}):this.on("load",a,d),this},_getMapPanePos:function(){return hn(this._mapPane)||new me(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,d){var m=a&&d!==void 0?this._getNewPixelOrigin(a,d):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,d){var m=this.getSize()._divideBy(2);return this.project(a,d)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,d,m){var S=this._getNewPixelOrigin(m,d);return this.project(a,d)._subtract(S)},_latLngBoundsToNewLayerBounds:function(a,d,m){var S=this._getNewPixelOrigin(m,d);return pe([this.project(a.getSouthWest(),d)._subtract(S),this.project(a.getNorthWest(),d)._subtract(S),this.project(a.getSouthEast(),d)._subtract(S),this.project(a.getNorthEast(),d)._subtract(S)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,d,m){if(!m)return a;var S=this.project(a,d),B=this.getSize().divideBy(2),G=new le(S.subtract(B),S.add(B)),ye=this._getBoundsOffset(G,m,d);return Math.abs(ye.x)<=1&&Math.abs(ye.y)<=1?a:this.unproject(S.add(ye),d)},_limitOffset:function(a,d){if(!d)return a;var m=this.getPixelBounds(),S=new le(m.min.add(a),m.max.add(a));return a.add(this._getBoundsOffset(S,d))},_getBoundsOffset:function(a,d,m){var S=pe(this.project(d.getNorthEast(),m),this.project(d.getSouthWest(),m)),B=S.min.subtract(a.min),G=S.max.subtract(a.max),ye=this._rebound(B.x,-G.x),Ie=this._rebound(B.y,-G.y);return new me(ye,Ie)},_rebound:function(a,d){return a+d>0?Math.round(a-d)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(d))},_limitZoom:function(a){var d=this.getMinZoom(),m=this.getMaxZoom(),S=q.any3d?this.options.zoomSnap:1;return S&&(a=Math.round(a/S)*S),Math.max(d,Math.min(m,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){xt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,d){var m=this._getCenterOffset(a)._trunc();return(d&&d.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,d),!0)},_createAnimProxy:function(){var a=this._proxy=qe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(d){var m=ft,S=this._proxy.style[m];Kt(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),S===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ze(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),d=this.getZoom();Kt(this._proxy,this.project(a,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,d,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var S=this.getZoomScale(d),B=this._getCenterOffset(a)._divideBy(1-1/S);return m.animate!==!0&&!this.getSize().contains(B)?!1:(X(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(a,d,!0)},this),!0)},_animateZoom:function(a,d,m,S){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=d,rt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:d,noUpdate:S}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&xt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function sg(a,d){return new rn(a,d)}var ai=Ae.extend({options:{position:"topright"},initialize:function(a){w(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var d=this._map;return d&&d.removeControl(this),this.options.position=a,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var d=this._container=this.onAdd(a),m=this.getPosition(),S=a._controlCorners[m];return rt(d,"leaflet-control"),m.indexOf("bottom")!==-1?S.insertBefore(d,S.firstChild):S.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ze(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),il=function(a){return new ai(a)};rn.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},d="leaflet-",m=this._controlContainer=qe("div",d+"control-container",this._container);function S(B,G){var ye=d+B+" "+d+G;a[B+G]=qe("div",ye,m)}S("top","left"),S("top","right"),S("bottom","left"),S("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)ze(this._controlCorners[a]);ze(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ah=ai.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,d,m,S){return m<S?-1:S<m?1:0}},initialize:function(a,d,m){w(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var S in a)this._addLayer(a[S],S);for(S in d)this._addLayer(d[S],S,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return ai.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,d){return this._addLayer(a,d),this._map?this._update():this},addOverlay:function(a,d){return this._addLayer(a,d,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var d=this._getLayer(u(a));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){rt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(rt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):xt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return xt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",d=this._container=qe("div",a),m=this.options.collapsed;d.setAttribute("aria-haspopup",!0),na(d),tl(d);var S=this._section=qe("section",a+"-list");m&&(this._map.on("click",this.collapse,this),Gt(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var B=this._layersLink=qe("a",a+"-toggle",d);B.href="#",B.title="Layers",B.setAttribute("role","button"),Gt(B,{keydown:function(G){G.keyCode===13&&this._expandSafely()},click:function(G){er(G),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=qe("div",a+"-base",S),this._separator=qe("div",a+"-separator",S),this._overlaysList=qe("div",a+"-overlays",S),d.appendChild(S)},_getLayer:function(a){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&u(this._layers[d].layer)===a)return this._layers[d]},_addLayer:function(a,d,m){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:d,overlay:m}),this.options.sortLayers&&this._layers.sort(o(function(S,B){return this.options.sortFunction(S.layer,B.layer,S.name,B.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ge(this._baseLayersList),Ge(this._overlaysList),this._layerControlInputs=[];var a,d,m,S,B=0;for(m=0;m<this._layers.length;m++)S=this._layers[m],this._addItem(S),d=d||S.overlay,a=a||!S.overlay,B+=S.overlay?0:1;return this.options.hideSingleBase&&(a=a&&B>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=d&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var d=this._getLayer(u(a.target)),m=d.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;m&&this._map.fire(m,d)},_createRadioElement:function(a,d){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(d?' checked="checked"':"")+"/>",S=document.createElement("div");return S.innerHTML=m,S.firstChild},_addItem:function(a){var d=document.createElement("label"),m=this._map.hasLayer(a.layer),S;a.overlay?(S=document.createElement("input"),S.type="checkbox",S.className="leaflet-control-layers-selector",S.defaultChecked=m):S=this._createRadioElement("leaflet-base-layers_"+u(this),m),this._layerControlInputs.push(S),S.layerId=u(a.layer),Gt(S,"click",this._onInputClick,this);var B=document.createElement("span");B.innerHTML=" "+a.name;var G=document.createElement("span");d.appendChild(G),G.appendChild(S),G.appendChild(B);var ye=a.overlay?this._overlaysList:this._baseLayersList;return ye.appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,d,m,S=[],B=[];this._handlingClick=!0;for(var G=a.length-1;G>=0;G--)d=a[G],m=this._getLayer(d.layerId).layer,d.checked?S.push(m):d.checked||B.push(m);for(G=0;G<B.length;G++)this._map.hasLayer(B[G])&&this._map.removeLayer(B[G]);for(G=0;G<S.length;G++)this._map.hasLayer(S[G])||this._map.addLayer(S[G]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,d,m,S=this._map.getZoom(),B=a.length-1;B>=0;B--)d=a[B],m=this._getLayer(d.layerId).layer,d.disabled=m.options.minZoom!==void 0&&S<m.options.minZoom||m.options.maxZoom!==void 0&&S>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Gt(a,"click",er),this.expand();var d=this;setTimeout(function(){wn(a,"click",er),d._preventClick=!1})}}),og=function(a,d,m){return new ah(a,d,m)},lh=ai.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var d="leaflet-control-zoom",m=qe("div",d+" leaflet-bar"),S=this.options;return this._zoomInButton=this._createButton(S.zoomInText,S.zoomInTitle,d+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(S.zoomOutText,S.zoomOutTitle,d+"-out",m,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,d,m,S,B){var G=qe("a",m,S);return G.innerHTML=a,G.href="#",G.title=d,G.setAttribute("role","button"),G.setAttribute("aria-label",d),na(G),Gt(G,"click",It),Gt(G,"click",B,this),Gt(G,"click",this._refocusOnMap,this),G},_updateDisabled:function(){var a=this._map,d="leaflet-disabled";xt(this._zoomInButton,d),xt(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(rt(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(rt(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});rn.mergeOptions({zoomControl:!0}),rn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new lh,this.addControl(this.zoomControl))});var ag=function(a){return new lh(a)},ch=ai.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var d="leaflet-control-scale",m=qe("div",d),S=this.options;return this._addScales(S,d+"-line",m),a.on(S.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),m},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,d,m){a.metric&&(this._mScale=qe("div",d,m)),a.imperial&&(this._iScale=qe("div",d,m))},_update:function(){var a=this._map,d=a.getSize().y/2,m=a.distance(a.containerPointToLatLng([0,d]),a.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(m)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var d=this._getRoundNum(a),m=d<1e3?d+" m":d/1e3+" km";this._updateScale(this._mScale,m,d/a)},_updateImperial:function(a){var d=a*3.2808399,m,S,B;d>5280?(m=d/5280,S=this._getRoundNum(m),this._updateScale(this._iScale,S+" mi",S/m)):(B=this._getRoundNum(d),this._updateScale(this._iScale,B+" ft",B/d))},_updateScale:function(a,d,m){a.style.width=Math.round(this.options.maxWidth*m)+"px",a.innerHTML=d},_getRoundNum:function(a){var d=Math.pow(10,(Math.floor(a)+"").length-1),m=a/d;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,d*m}}),lg=function(a){return new ch(a)},cg='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',$c=ai.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(q.inlineSvg?cg+" ":"")+"Leaflet</a>"},initialize:function(a){w(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=qe("div","leaflet-control-attribution"),na(this._container);for(var d in a._layers)a._layers[d].getAttribution&&this.addAttribution(a._layers[d].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var d in this._attributions)this._attributions[d]&&a.push(d);var m=[];this.options.prefix&&m.push(this.options.prefix),a.length&&m.push(a.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});rn.mergeOptions({attributionControl:!0}),rn.addInitHook(function(){this.options.attributionControl&&new $c().addTo(this)});var ug=function(a){return new $c(a)};ai.Layers=ah,ai.Zoom=lh,ai.Scale=ch,ai.Attribution=$c,il.layers=og,il.zoom=ag,il.scale=lg,il.attribution=ug;var vi=Ae.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});vi.addTo=function(a,d){return a.addHandler(d,this),this};var dg={Events:Ee},uh=q.touch?"touchstart mousedown":"mousedown",Ji=Ne.extend({options:{clickTolerance:3},initialize:function(a,d,m,S){w(this,S),this._element=a,this._dragStartTarget=d||a,this._preventOutline=m},enable:function(){this._enabled||(Gt(this._dragStartTarget,uh,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ji._dragging===this&&this.finishDrag(!0),wn(this._dragStartTarget,uh,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!$t(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Ji._dragging===this&&this.finishDrag();return}if(!(Ji._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Ji._dragging=this,this._preventOutline&&Ic(this._element),fn(),en(),!this._moving)){this.fire("down");var d=a.touches?a.touches[0]:a,m=rh(this._element);this._startPoint=new me(d.clientX,d.clientY),this._startPos=hn(this._element),this._parentScale=el(m);var S=a.type==="mousedown";Gt(document,S?"mousemove":"touchmove",this._onMove,this),Gt(document,S?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var d=a.touches&&a.touches.length===1?a.touches[0]:a,m=new me(d.clientX,d.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,er(a),this._moved||(this.fire("dragstart"),this._moved=!0,rt(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),rt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Et(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){xt(document.body,"leaflet-dragging"),this._lastTarget&&(xt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),wn(document,"mousemove touchmove",this._onMove,this),wn(document,"mouseup touchend touchcancel",this._onUp,this),zn(),mn();var d=this._moved&&this._moving;this._moving=!1,Ji._dragging=!1,d&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function dh(a,d,m){var S,B=[1,4,2,8],G,ye,Ie,Ue,Xe,pt,Lt,Jt;for(G=0,pt=a.length;G<pt;G++)a[G]._code=He(a[G],d);for(Ie=0;Ie<4;Ie++){for(Lt=B[Ie],S=[],G=0,pt=a.length,ye=pt-1;G<pt;ye=G++)Ue=a[G],Xe=a[ye],Ue._code&Lt?Xe._code&Lt||(Jt=ue(Xe,Ue,Lt,d,m),Jt._code=He(Jt,d),S.push(Jt)):(Xe._code&Lt&&(Jt=ue(Xe,Ue,Lt,d,m),Jt._code=He(Jt,d),S.push(Jt)),S.push(Ue));a=S}return a}function hh(a,d){var m,S,B,G,ye,Ie,Ue,Xe,pt;if(!a||a.length===0)throw new Error("latlngs not passed");At(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Lt=Le([0,0]),Jt=ie(a),Rr=Jt.getNorthWest().distanceTo(Jt.getSouthWest())*Jt.getNorthEast().distanceTo(Jt.getNorthWest());Rr<1700&&(Lt=Uc(a));var cr=a.length,bi=[];for(m=0;m<cr;m++){var Zr=Le(a[m]);bi.push(d.project(Le([Zr.lat-Lt.lat,Zr.lng-Lt.lng])))}for(Ie=Ue=Xe=0,m=0,S=cr-1;m<cr;S=m++)B=bi[m],G=bi[S],ye=B.y*G.x-G.y*B.x,Ue+=(B.x+G.x)*ye,Xe+=(B.y+G.y)*ye,Ie+=ye*3;Ie===0?pt=bi[0]:pt=[Ue/Ie,Xe/Ie];var ul=d.unproject(fe(pt));return Le([ul.lat+Lt.lat,ul.lng+Lt.lng])}function Uc(a){for(var d=0,m=0,S=0,B=0;B<a.length;B++){var G=Le(a[B]);d+=G.lat,m+=G.lng,S++}return Le([d/S,m/S])}var hg={__proto__:null,clipPolygon:dh,polygonCenter:hh,centroid:Uc};function fh(a,d){if(!d||!a.length)return a.slice();var m=d*d;return a=A(a,m),a=fg(a,m),a}function Yn(a,d,m){return Math.sqrt(yt(a,d,m,!0))}function zc(a,d,m){return yt(a,d,m)}function fg(a,d){var m=a.length,S=typeof Uint8Array<"u"?Uint8Array:Array,B=new S(m);B[0]=B[m-1]=1,M(a,B,d,0,m-1);var G,ye=[];for(G=0;G<m;G++)B[G]&&ye.push(a[G]);return ye}function M(a,d,m,S,B){var G=0,ye,Ie,Ue;for(Ie=S+1;Ie<=B-1;Ie++)Ue=yt(a[Ie],a[S],a[B],!0),Ue>G&&(ye=Ie,G=Ue);G>m&&(d[ye]=1,M(a,d,m,S,ye),M(a,d,m,ye,B))}function A(a,d){for(var m=[a[0]],S=1,B=0,G=a.length;S<G;S++)nt(a[S],a[B])>d&&(m.push(a[S]),B=S);return B<G-1&&m.push(a[G-1]),m}var I;function re(a,d,m,S,B){var G=S?I:He(a,m),ye=He(d,m),Ie,Ue,Xe;for(I=ye;;){if(!(G|ye))return[a,d];if(G&ye)return!1;Ie=G||ye,Ue=ue(a,d,Ie,m,B),Xe=He(Ue,m),Ie===G?(a=Ue,G=Xe):(d=Ue,ye=Xe)}}function ue(a,d,m,S,B){var G=d.x-a.x,ye=d.y-a.y,Ie=S.min,Ue=S.max,Xe,pt;return m&8?(Xe=a.x+G*(Ue.y-a.y)/ye,pt=Ue.y):m&4?(Xe=a.x+G*(Ie.y-a.y)/ye,pt=Ie.y):m&2?(Xe=Ue.x,pt=a.y+ye*(Ue.x-a.x)/G):m&1&&(Xe=Ie.x,pt=a.y+ye*(Ie.x-a.x)/G),new me(Xe,pt,B)}function He(a,d){var m=0;return a.x<d.min.x?m|=1:a.x>d.max.x&&(m|=2),a.y<d.min.y?m|=4:a.y>d.max.y&&(m|=8),m}function nt(a,d){var m=d.x-a.x,S=d.y-a.y;return m*m+S*S}function yt(a,d,m,S){var B=d.x,G=d.y,ye=m.x-B,Ie=m.y-G,Ue=ye*ye+Ie*Ie,Xe;return Ue>0&&(Xe=((a.x-B)*ye+(a.y-G)*Ie)/Ue,Xe>1?(B=m.x,G=m.y):Xe>0&&(B+=ye*Xe,G+=Ie*Xe)),ye=a.x-B,Ie=a.y-G,S?ye*ye+Ie*Ie:new me(B,G)}function At(a){return!v(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function on(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),At(a)}function un(a,d){var m,S,B,G,ye,Ie,Ue,Xe;if(!a||a.length===0)throw new Error("latlngs not passed");At(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var pt=Le([0,0]),Lt=ie(a),Jt=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());Jt<1700&&(pt=Uc(a));var Rr=a.length,cr=[];for(m=0;m<Rr;m++){var bi=Le(a[m]);cr.push(d.project(Le([bi.lat-pt.lat,bi.lng-pt.lng])))}for(m=0,S=0;m<Rr-1;m++)S+=cr[m].distanceTo(cr[m+1])/2;if(S===0)Xe=cr[0];else for(m=0,G=0;m<Rr-1;m++)if(ye=cr[m],Ie=cr[m+1],B=ye.distanceTo(Ie),G+=B,G>S){Ue=(G-S)/B,Xe=[Ie.x-Ue*(Ie.x-ye.x),Ie.y-Ue*(Ie.y-ye.y)];break}var Zr=d.unproject(fe(Xe));return Le([Zr.lat+pt.lat,Zr.lng+pt.lng])}var Vn={__proto__:null,simplify:fh,pointToSegmentDistance:Yn,closestPointOnSegment:zc,clipSegment:re,_getEdgeIntersection:ue,_getBitCode:He,_sqClosestPointOnSegment:yt,isFlat:At,_flat:on,polylineCenter:un},eo={project:function(a){return new me(a.lng,a.lat)},unproject:function(a){return new Te(a.y,a.x)},bounds:new le([-180,-90],[180,90])},qc={R:6378137,R_MINOR:6356752314245179e-9,bounds:new le([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var d=Math.PI/180,m=this.R,S=a.lat*d,B=this.R_MINOR/m,G=Math.sqrt(1-B*B),ye=G*Math.sin(S),Ie=Math.tan(Math.PI/4-S/2)/Math.pow((1-ye)/(1+ye),G/2);return S=-m*Math.log(Math.max(Ie,1e-10)),new me(a.lng*d*m,S)},unproject:function(a){for(var d=180/Math.PI,m=this.R,S=this.R_MINOR/m,B=Math.sqrt(1-S*S),G=Math.exp(-a.y/m),ye=Math.PI/2-2*Math.atan(G),Ie=0,Ue=.1,Xe;Ie<15&&Math.abs(Ue)>1e-7;Ie++)Xe=B*Math.sin(ye),Xe=Math.pow((1-Xe)/(1+Xe),B/2),Ue=Math.PI/2-2*Math.atan(G*Xe)-ye,ye+=Ue;return new Te(ye*d,a.x*d/m)}},ph={__proto__:null,LonLat:eo,Mercator:qc,SphericalMercator:V},pg=i({},Be,{code:"EPSG:3395",projection:qc,transformation:function(){var a=.5/(Math.PI*qc.R);return ce(a,.5,-a,.5)}()}),Vc=i({},Be,{code:"EPSG:4326",projection:eo,transformation:ce(1/180,1,-1/180,.5)}),mg=i({},Ze,{projection:eo,transformation:ce(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,d){var m=d.lng-a.lng,S=d.lat-a.lat;return Math.sqrt(m*m+S*S)},infinite:!0});Ze.Earth=Be,Ze.EPSG3395=pg,Ze.EPSG3857=Ce,Ze.EPSG900913=_e,Ze.EPSG4326=Vc,Ze.Simple=mg;var Gr=Ne.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[u(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[u(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var d=a.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var m=this.getEvents();d.on(m,this),this.once("remove",function(){d.off(m,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});rn.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var d=u(a);return this._layers[d]?this:(this._layers[d]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var d=u(a);return this._layers[d]?(this._loaded&&a.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return u(a)in this._layers},eachLayer:function(a,d){for(var m in this._layers)a.call(d,this._layers[m]);return this},_addLayers:function(a){a=a?v(a)?a:[a]:[];for(var d=0,m=a.length;d<m;d++)this.addLayer(a[d])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[u(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var d=u(a);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,d=-1/0,m=this._getZoomSpan();for(var S in this._zoomBoundLayers){var B=this._zoomBoundLayers[S].options;a=B.minZoom===void 0?a:Math.min(a,B.minZoom),d=B.maxZoom===void 0?d:Math.max(d,B.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=a===1/0?void 0:a,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var to=Gr.extend({initialize:function(a,d){w(this,d),this._layers={};var m,S;if(a)for(m=0,S=a.length;m<S;m++)this.addLayer(a[m])},addLayer:function(a){var d=this.getLayerId(a);return this._layers[d]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var d=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(a){var d=typeof a=="number"?a:this.getLayerId(a);return d in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var d=Array.prototype.slice.call(arguments,1),m,S;for(m in this._layers)S=this._layers[m],S[a]&&S[a].apply(S,d);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,d){for(var m in this._layers)a.call(d,this._layers[m]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return u(a)}}),gg=function(a,d){return new to(a,d)},wi=to.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),to.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),to.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new be;for(var d in this._layers){var m=this._layers[d];a.extend(m.getBounds?m.getBounds():m.getLatLng())}return a}}),mh=function(a,d){return new wi(a,d)},_s=Ae.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){w(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,d){var m=this._getIconUrl(a);if(!m){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var S=this._createImg(m,d&&d.tagName==="IMG"?d:null);return this._setIconStyles(S,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),S},_setIconStyles:function(a,d){var m=this.options,S=m[d+"Size"];typeof S=="number"&&(S=[S,S]);var B=fe(S),G=fe(d==="shadow"&&m.shadowAnchor||m.iconAnchor||B&&B.divideBy(2,!0));a.className="leaflet-marker-"+d+" "+(m.className||""),G&&(a.style.marginLeft=-G.x+"px",a.style.marginTop=-G.y+"px"),B&&(a.style.width=B.x+"px",a.style.height=B.y+"px")},_createImg:function(a,d){return d=d||document.createElement("img"),d.src=a,d},_getIconUrl:function(a){return q.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function Hc(a){return new _s(a)}var Ss=_s.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Ss.imagePath!="string"&&(Ss.imagePath=this._detectIconPath()),(this.options.imagePath||Ss.imagePath)+_s.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var d=function(m,S,B){var G=S.exec(m);return G&&G[B]};return a=d(a,/^url\((['"])?(.+)\1\)$/,2),a&&d(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=qe("div","leaflet-default-icon-path",document.body),d=$e(a,"background-image")||$e(a,"backgroundImage");if(document.body.removeChild(a),d=this._stripUrl(d),d)return d;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),Wc=vi.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Ji(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),rt(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&xt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var d=this._marker,m=d._map,S=this._marker.options.autoPanSpeed,B=this._marker.options.autoPanPadding,G=hn(d._icon),ye=m.getPixelBounds(),Ie=m.getPixelOrigin(),Ue=pe(ye.min._subtract(Ie).add(B),ye.max._subtract(Ie).subtract(B));if(!Ue.contains(G)){var Xe=fe((Math.max(Ue.max.x,G.x)-Ue.max.x)/(ye.max.x-Ue.max.x)-(Math.min(Ue.min.x,G.x)-Ue.min.x)/(ye.min.x-Ue.min.x),(Math.max(Ue.max.y,G.y)-Ue.max.y)/(ye.max.y-Ue.max.y)-(Math.min(Ue.min.y,G.y)-Ue.min.y)/(ye.min.y-Ue.min.y)).multiplyBy(S);m.panBy(Xe,{animate:!1}),this._draggable._newPos._add(Xe),this._draggable._startPos._add(Xe),Et(d._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=X(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(te(this._panRequest),this._panRequest=X(this._adjustPan.bind(this,a)))},_onDrag:function(a){var d=this._marker,m=d._shadow,S=hn(d._icon),B=d._map.layerPointToLatLng(S);m&&Et(m,S),d._latlng=B,a.latlng=B,a.oldLatLng=this._oldLatLng,d.fire("move",a).fire("drag",a)},_onDragEnd:function(a){te(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),sl=Gr.extend({options:{icon:new Ss,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,d){w(this,d),this._latlng=Le(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var d=this._latlng;return this._latlng=Le(a),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=a.icon.createIcon(this._icon),S=!1;m!==this._icon&&(this._icon&&this._removeIcon(),S=!0,a.title&&(m.title=a.title),m.tagName==="IMG"&&(m.alt=a.alt||"")),rt(m,d),a.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Gt(m,"focus",this._panOnFocus,this);var B=a.icon.createShadow(this._shadow),G=!1;B!==this._shadow&&(this._removeShadow(),G=!0),B&&(rt(B,d),B.alt=""),this._shadow=B,a.opacity<1&&this._updateOpacity(),S&&this.getPane().appendChild(this._icon),this._initInteraction(),B&&G&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&wn(this._icon,"focus",this._panOnFocus,this),ze(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ze(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Et(this._icon,a),this._shadow&&Et(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var d=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(rt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Wc)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Wc(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Ut(this._icon,a),this._shadow&&Ut(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var d=this.options.icon.options,m=d.iconSize?fe(d.iconSize):fe(0,0),S=d.iconAnchor?fe(d.iconAnchor):fe(0,0);a.panInside(this._latlng,{paddingTopLeft:S,paddingBottomRight:m.subtract(S)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function xg(a,d){return new sl(a,d)}var Qi=Gr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return w(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ol=Qi.extend({options:{fill:!0,radius:10},initialize:function(a,d){w(this,d),this._latlng=Le(a),this._radius=this.options.radius},setLatLng:function(a){var d=this._latlng;return this._latlng=Le(a),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var d=a&&a.radius||this._radius;return Qi.prototype.setStyle.call(this,a),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,d=this._radiusY||a,m=this._clickTolerance(),S=[a+m,d+m];this._pxBounds=new le(this._point.subtract(S),this._point.add(S))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function gh(a,d){return new ol(a,d)}var yg=ol.extend({initialize:function(a,d,m){if(typeof d=="number"&&(d=i({},m,{radius:d})),w(this,d),this._latlng=Le(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new be(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Qi.prototype.setStyle,_project:function(){var a=this._latlng.lng,d=this._latlng.lat,m=this._map,S=m.options.crs;if(S.distance===Be.distance){var B=Math.PI/180,G=this._mRadius/Be.R/B,ye=m.project([d+G,a]),Ie=m.project([d-G,a]),Ue=ye.add(Ie).divideBy(2),Xe=m.unproject(Ue).lat,pt=Math.acos((Math.cos(G*B)-Math.sin(d*B)*Math.sin(Xe*B))/(Math.cos(d*B)*Math.cos(Xe*B)))/B;(isNaN(pt)||pt===0)&&(pt=G/Math.cos(Math.PI/180*d)),this._point=Ue.subtract(m.getPixelOrigin()),this._radius=isNaN(pt)?0:Ue.x-m.project([Xe,a-pt]).x,this._radiusY=Ue.y-ye.y}else{var Lt=S.unproject(S.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(Lt).x}this._updateBounds()}});function MP(a,d,m){return new yg(a,d,m)}var ks=Qi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,d){w(this,d),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var d=1/0,m=null,S=yt,B,G,ye=0,Ie=this._parts.length;ye<Ie;ye++)for(var Ue=this._parts[ye],Xe=1,pt=Ue.length;Xe<pt;Xe++){B=Ue[Xe-1],G=Ue[Xe];var Lt=S(a,B,G,!0);Lt<d&&(d=Lt,m=S(a,B,G))}return m&&(m.distance=Math.sqrt(d)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return un(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,d){return d=d||this._defaultShape(),a=Le(a),d.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new be,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return At(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var d=[],m=At(a),S=0,B=a.length;S<B;S++)m?(d[S]=Le(a[S]),this._bounds.extend(d[S])):d[S]=this._convertLatLngs(a[S]);return d},_project:function(){var a=new le;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),d=new me(a,a);this._rawPxBounds&&(this._pxBounds=new le([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(a,d,m){var S=a[0]instanceof Te,B=a.length,G,ye;if(S){for(ye=[],G=0;G<B;G++)ye[G]=this._map.latLngToLayerPoint(a[G]),m.extend(ye[G]);d.push(ye)}else for(G=0;G<B;G++)this._projectLatlngs(a[G],d,m)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var d=this._parts,m,S,B,G,ye,Ie,Ue;for(m=0,B=0,G=this._rings.length;m<G;m++)for(Ue=this._rings[m],S=0,ye=Ue.length;S<ye-1;S++)Ie=re(Ue[S],Ue[S+1],a,S,!0),Ie&&(d[B]=d[B]||[],d[B].push(Ie[0]),(Ie[1]!==Ue[S+1]||S===ye-2)&&(d[B].push(Ie[1]),B++))}},_simplifyPoints:function(){for(var a=this._parts,d=this.options.smoothFactor,m=0,S=a.length;m<S;m++)a[m]=fh(a[m],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,d){var m,S,B,G,ye,Ie,Ue=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(m=0,G=this._parts.length;m<G;m++)for(Ie=this._parts[m],S=0,ye=Ie.length,B=ye-1;S<ye;B=S++)if(!(!d&&S===0)&&Yn(a,Ie[B],Ie[S])<=Ue)return!0;return!1}});function OP(a,d){return new ks(a,d)}ks._flat=on;var al=ks.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return hh(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var d=ks.prototype._convertLatLngs.call(this,a),m=d.length;return m>=2&&d[0]instanceof Te&&d[0].equals(d[m-1])&&d.pop(),d},_setLatLngs:function(a){ks.prototype._setLatLngs.call(this,a),At(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return At(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,d=this.options.weight,m=new me(d,d);if(a=new le(a.min.subtract(m),a.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var S=0,B=this._rings.length,G;S<B;S++)G=dh(this._rings[S],a,!0),G.length&&this._parts.push(G)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var d=!1,m,S,B,G,ye,Ie,Ue,Xe;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(G=0,Ue=this._parts.length;G<Ue;G++)for(m=this._parts[G],ye=0,Xe=m.length,Ie=Xe-1;ye<Xe;Ie=ye++)S=m[ye],B=m[Ie],S.y>a.y!=B.y>a.y&&a.x<(B.x-S.x)*(a.y-S.y)/(B.y-S.y)+S.x&&(d=!d);return d||ks.prototype._containsPoint.call(this,a,!0)}});function $P(a,d){return new al(a,d)}var Es=wi.extend({initialize:function(a,d){w(this,d),this._layers={},a&&this.addData(a)},addData:function(a){var d=v(a)?a:a.features,m,S,B;if(d){for(m=0,S=d.length;m<S;m++)B=d[m],(B.geometries||B.geometry||B.features||B.coordinates)&&this.addData(B);return this}var G=this.options;if(G.filter&&!G.filter(a))return this;var ye=xh(a,G);return ye?(ye.feature=wh(a),ye.defaultOptions=ye.options,this.resetStyle(ye),G.onEachFeature&&G.onEachFeature(a,ye),this.addLayer(ye)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=i({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(d){this._setLayerStyle(d,a)},this)},_setLayerStyle:function(a,d){a.setStyle&&(typeof d=="function"&&(d=d(a.feature)),a.setStyle(d))}});function xh(a,d){var m=a.type==="Feature"?a.geometry:a,S=m?m.coordinates:null,B=[],G=d&&d.pointToLayer,ye=d&&d.coordsToLatLng||vg,Ie,Ue,Xe,pt;if(!S&&!m)return null;switch(m.type){case"Point":return Ie=ye(S),T_(G,a,Ie,d);case"MultiPoint":for(Xe=0,pt=S.length;Xe<pt;Xe++)Ie=ye(S[Xe]),B.push(T_(G,a,Ie,d));return new wi(B);case"LineString":case"MultiLineString":return Ue=yh(S,m.type==="LineString"?0:1,ye),new ks(Ue,d);case"Polygon":case"MultiPolygon":return Ue=yh(S,m.type==="Polygon"?1:2,ye),new al(Ue,d);case"GeometryCollection":for(Xe=0,pt=m.geometries.length;Xe<pt;Xe++){var Lt=xh({geometry:m.geometries[Xe],type:"Feature",properties:a.properties},d);Lt&&B.push(Lt)}return new wi(B);case"FeatureCollection":for(Xe=0,pt=m.features.length;Xe<pt;Xe++){var Jt=xh(m.features[Xe],d);Jt&&B.push(Jt)}return new wi(B);default:throw new Error("Invalid GeoJSON object.")}}function T_(a,d,m,S){return a?a(d,m):new sl(m,S&&S.markersInheritOptions&&S)}function vg(a){return new Te(a[1],a[0],a[2])}function yh(a,d,m){for(var S=[],B=0,G=a.length,ye;B<G;B++)ye=d?yh(a[B],d-1,m):(m||vg)(a[B]),S.push(ye);return S}function wg(a,d){return a=Le(a),a.alt!==void 0?[g(a.lng,d),g(a.lat,d),g(a.alt,d)]:[g(a.lng,d),g(a.lat,d)]}function vh(a,d,m,S){for(var B=[],G=0,ye=a.length;G<ye;G++)B.push(d?vh(a[G],At(a[G])?0:d-1,m,S):wg(a[G],S));return!d&&m&&B.length>0&&B.push(B[0].slice()),B}function ll(a,d){return a.feature?i({},a.feature,{geometry:d}):wh(d)}function wh(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var bg={toGeoJSON:function(a){return ll(this,{type:"Point",coordinates:wg(this.getLatLng(),a)})}};sl.include(bg),yg.include(bg),ol.include(bg),ks.include({toGeoJSON:function(a){var d=!At(this._latlngs),m=vh(this._latlngs,d?1:0,!1,a);return ll(this,{type:(d?"Multi":"")+"LineString",coordinates:m})}}),al.include({toGeoJSON:function(a){var d=!At(this._latlngs),m=d&&!At(this._latlngs[0]),S=vh(this._latlngs,m?2:d?1:0,!0,a);return d||(S=[S]),ll(this,{type:(m?"Multi":"")+"Polygon",coordinates:S})}}),to.include({toMultiPoint:function(a){var d=[];return this.eachLayer(function(m){d.push(m.toGeoJSON(a).geometry.coordinates)}),ll(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(a){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(d==="MultiPoint")return this.toMultiPoint(a);var m=d==="GeometryCollection",S=[];return this.eachLayer(function(B){if(B.toGeoJSON){var G=B.toGeoJSON(a);if(m)S.push(G.geometry);else{var ye=wh(G);ye.type==="FeatureCollection"?S.push.apply(S,ye.features):S.push(ye)}}}),m?ll(this,{geometries:S,type:"GeometryCollection"}):{type:"FeatureCollection",features:S}}});function P_(a,d){return new Es(a,d)}var UP=P_,bh=Gr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,d,m){this._url=a,this._bounds=ie(d),w(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(rt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ze(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Ye(this._image),this},bringToBack:function(){return this._map&&bt(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=ie(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",d=this._image=a?this._url:qe("img");if(rt(d,"leaflet-image-layer"),this._zoomAnimated&&rt(d,"leaflet-zoom-animated"),this.options.className&&rt(d,this.options.className),d.onselectstart=p,d.onmousemove=p,d.onload=o(this.fire,this,"load"),d.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=d.src;return}d.src=this._url,d.alt=this.options.alt},_animateZoom:function(a){var d=this._map.getZoomScale(a.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Kt(this._image,m,d)},_reset:function(){var a=this._image,d=new le(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=d.getSize();Et(a,d.min),a.style.width=m.x+"px",a.style.height=m.y+"px"},_updateOpacity:function(){Ut(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),zP=function(a,d,m){return new bh(a,d,m)},F_=bh.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",d=this._image=a?this._url:qe("video");if(rt(d,"leaflet-image-layer"),this._zoomAnimated&&rt(d,"leaflet-zoom-animated"),this.options.className&&rt(d,this.options.className),d.onselectstart=p,d.onmousemove=p,d.onloadeddata=o(this.fire,this,"load"),a){for(var m=d.getElementsByTagName("source"),S=[],B=0;B<m.length;B++)S.push(m[B].src);this._url=m.length>0?S:[d.src];return}v(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var G=0;G<this._url.length;G++){var ye=qe("source");ye.src=this._url[G],d.appendChild(ye)}}});function qP(a,d,m){return new F_(a,d,m)}var N_=bh.extend({_initImage:function(){var a=this._image=this._url;rt(a,"leaflet-image-layer"),this._zoomAnimated&&rt(a,"leaflet-zoom-animated"),this.options.className&&rt(a,this.options.className),a.onselectstart=p,a.onmousemove=p}});function VP(a,d,m){return new N_(a,d,m)}var es=Gr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,d){a&&(a instanceof Te||v(a))?(this._latlng=Le(a),w(this,d)):(w(this,a),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Ut(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Ut(this._container,1),this.bringToFront(),this.options.interactive&&(rt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Ut(this._container,0),this._removeTimeout=setTimeout(o(ze,void 0,this._container),200)):ze(this._container),this.options.interactive&&(xt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Le(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ye(this._container),this},bringToBack:function(){return this._map&&bt(this._container),this},_prepareOpen:function(a){var d=this._source;if(!d._map)return!1;if(d instanceof wi){d=null;var m=this._source._layers;for(var S in m)if(m[S]._map){d=m[S];break}if(!d)return!1;this._source=d}if(!a)if(d.getCenter)a=d.getCenter();else if(d.getLatLng)a=d.getLatLng();else if(d.getBounds)a=d.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,d=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof d=="string")a.innerHTML=d;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),d=fe(this.options.offset),m=this._getAnchor();this._zoomAnimated?Et(this._container,a.add(m)):d=d.add(a).add(m);var S=this._containerBottom=-d.y,B=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=S+"px",this._container.style.left=B+"px"}},_getAnchor:function(){return[0,0]}});rn.include({_initOverlay:function(a,d,m,S){var B=d;return B instanceof a||(B=new a(S).setContent(d)),m&&B.setLatLng(m),B}}),Gr.include({_initOverlay:function(a,d,m,S){var B=m;return B instanceof a?(w(B,S),B._source=this):(B=d&&!S?d:new a(S,this),B.setContent(m)),B}});var _h=es.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,es.prototype.openOn.call(this,a)},onAdd:function(a){es.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Qi||this._source.on("preclick",bs))},onRemove:function(a){es.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Qi||this._source.off("preclick",bs))},getEvents:function(){var a=es.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",d=this._container=qe("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=qe("div",a+"-content-wrapper",d);if(this._contentNode=qe("div",a+"-content",m),na(d),tl(this._contentNode),Gt(d,"contextmenu",bs),this._tipContainer=qe("div",a+"-tip-container",d),this._tip=qe("div",a+"-tip",this._tipContainer),this.options.closeButton){var S=this._closeButton=qe("a",a+"-close-button",d);S.setAttribute("role","button"),S.setAttribute("aria-label","Close popup"),S.href="#close",S.innerHTML='<span aria-hidden="true">&#215;</span>',Gt(S,"click",function(B){er(B),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,d=a.style;d.width="",d.whiteSpace="nowrap";var m=a.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),d.width=m+1+"px",d.whiteSpace="",d.height="";var S=a.offsetHeight,B=this.options.maxHeight,G="leaflet-popup-scrolled";B&&S>B?(d.height=B+"px",rt(a,G)):xt(a,G),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var d=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),m=this._getAnchor();Et(this._container,d.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,d=parseInt($e(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+d,S=this._containerWidth,B=new me(this._containerLeft,-m-this._containerBottom);B._add(hn(this._container));var G=a.layerPointToContainerPoint(B),ye=fe(this.options.autoPanPadding),Ie=fe(this.options.autoPanPaddingTopLeft||ye),Ue=fe(this.options.autoPanPaddingBottomRight||ye),Xe=a.getSize(),pt=0,Lt=0;G.x+S+Ue.x>Xe.x&&(pt=G.x+S-Xe.x+Ue.x),G.x-pt-Ie.x<0&&(pt=G.x-Ie.x),G.y+m+Ue.y>Xe.y&&(Lt=G.y+m-Xe.y+Ue.y),G.y-Lt-Ie.y<0&&(Lt=G.y-Ie.y),(pt||Lt)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([pt,Lt]))}},_getAnchor:function(){return fe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),HP=function(a,d){return new _h(a,d)};rn.mergeOptions({closePopupOnClick:!0}),rn.include({openPopup:function(a,d,m){return this._initOverlay(_h,a,d,m).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Gr.include({bindPopup:function(a,d){return this._popup=this._initOverlay(_h,this._popup,a,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof wi||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){It(a);var d=a.layer||a.target;if(this._popup._source===d&&!(d instanceof Qi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=d,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Sh=es.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){es.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){es.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=es.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",d=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=qe("div",d),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var d,m,S=this._map,B=this._container,G=S.latLngToContainerPoint(S.getCenter()),ye=S.layerPointToContainerPoint(a),Ie=this.options.direction,Ue=B.offsetWidth,Xe=B.offsetHeight,pt=fe(this.options.offset),Lt=this._getAnchor();Ie==="top"?(d=Ue/2,m=Xe):Ie==="bottom"?(d=Ue/2,m=0):Ie==="center"?(d=Ue/2,m=Xe/2):Ie==="right"?(d=0,m=Xe/2):Ie==="left"?(d=Ue,m=Xe/2):ye.x<G.x?(Ie="right",d=0,m=Xe/2):(Ie="left",d=Ue+(pt.x+Lt.x)*2,m=Xe/2),a=a.subtract(fe(d,m,!0)).add(pt).add(Lt),xt(B,"leaflet-tooltip-right"),xt(B,"leaflet-tooltip-left"),xt(B,"leaflet-tooltip-top"),xt(B,"leaflet-tooltip-bottom"),rt(B,"leaflet-tooltip-"+Ie),Et(B,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Ut(this._container,a)},_animateZoom:function(a){var d=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(d)},_getAnchor:function(){return fe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),WP=function(a,d){return new Sh(a,d)};rn.include({openTooltip:function(a,d,m){return this._initOverlay(Sh,a,d,m).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Gr.include({bindTooltip:function(a,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Sh,this._tooltip,a,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var d=a?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[d](m),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof wi||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var d=typeof a.getElement=="function"&&a.getElement();d&&(Gt(d,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Gt(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var d=typeof a.getElement=="function"&&a.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var d=a.latlng,m,S;this._tooltip.options.sticky&&a.originalEvent&&(m=this._map.mouseEventToContainerPoint(a.originalEvent),S=this._map.containerPointToLayerPoint(m),d=this._map.layerPointToLatLng(S)),this._tooltip.setLatLng(d)}});var R_=_s.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var d=a&&a.tagName==="DIV"?a:document.createElement("div"),m=this.options;if(m.html instanceof Element?(Ge(d),d.appendChild(m.html)):d.innerHTML=m.html!==!1?m.html:"",m.bgPos){var S=fe(m.bgPos);d.style.backgroundPosition=-S.x+"px "+-S.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});function KP(a){return new R_(a)}_s.Default=Ss;var Kc=Gr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:q.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){w(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),ze(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ye(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(bt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof me?a:new me(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var d=this.getPane().children,m=-a(-1/0,1/0),S=0,B=d.length,G;S<B;S++)G=d[S].style.zIndex,d[S]!==this._container&&G&&(m=a(m,+G));isFinite(m)&&(this.options.zIndex=m+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!q.ielt9){Ut(this._container,this.options.opacity);var a=+new Date,d=!1,m=!1;for(var S in this._tiles){var B=this._tiles[S];if(!(!B.current||!B.loaded)){var G=Math.min(1,(a-B.loaded)/200);Ut(B.el,G),G<1?d=!0:(B.active?m=!0:this._onOpaqueTile(B),B.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),d&&(te(this._fadeFrame),this._fadeFrame=X(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=qe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,d=this.options.maxZoom;if(a!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===a?(this._levels[m].el.style.zIndex=d-Math.abs(a-m),this._onUpdateLevel(m)):(ze(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var S=this._levels[a],B=this._map;return S||(S=this._levels[a]={},S.el=qe("div","leaflet-tile-container leaflet-zoom-animated",this._container),S.el.style.zIndex=d,S.origin=B.project(B.unproject(B.getPixelOrigin()),a).round(),S.zoom=a,this._setZoomTransform(S,B.getCenter(),B.getZoom()),p(S.el.offsetWidth),this._onCreateLevel(S)),this._level=S,S}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var a,d,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)d=this._tiles[a],d.retain=d.current;for(a in this._tiles)if(d=this._tiles[a],d.current&&!d.active){var S=d.coords;this._retainParent(S.x,S.y,S.z,S.z-5)||this._retainChildren(S.x,S.y,S.z,S.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var d in this._tiles)this._tiles[d].coords.z===a&&this._removeTile(d)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)ze(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,d,m,S){var B=Math.floor(a/2),G=Math.floor(d/2),ye=m-1,Ie=new me(+B,+G);Ie.z=+ye;var Ue=this._tileCoordsToKey(Ie),Xe=this._tiles[Ue];return Xe&&Xe.active?(Xe.retain=!0,!0):(Xe&&Xe.loaded&&(Xe.retain=!0),ye>S?this._retainParent(B,G,ye,S):!1)},_retainChildren:function(a,d,m,S){for(var B=2*a;B<2*a+2;B++)for(var G=2*d;G<2*d+2;G++){var ye=new me(B,G);ye.z=m+1;var Ie=this._tileCoordsToKey(ye),Ue=this._tiles[Ie];if(Ue&&Ue.active){Ue.retain=!0;continue}else Ue&&Ue.loaded&&(Ue.retain=!0);m+1<S&&this._retainChildren(B,G,m+1,S)}},_resetView:function(a){var d=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var d=this.options;return d.minNativeZoom!==void 0&&a<d.minNativeZoom?d.minNativeZoom:d.maxNativeZoom!==void 0&&d.maxNativeZoom<a?d.maxNativeZoom:a},_setView:function(a,d,m,S){var B=Math.round(d);this.options.maxZoom!==void 0&&B>this.options.maxZoom||this.options.minZoom!==void 0&&B<this.options.minZoom?B=void 0:B=this._clampZoom(B);var G=this.options.updateWhenZooming&&B!==this._tileZoom;(!S||G)&&(this._tileZoom=B,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),B!==void 0&&this._update(a),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(a,d)},_setZoomTransforms:function(a,d){for(var m in this._levels)this._setZoomTransform(this._levels[m],a,d)},_setZoomTransform:function(a,d,m){var S=this._map.getZoomScale(m,a.zoom),B=a.origin.multiplyBy(S).subtract(this._map._getNewPixelOrigin(d,m)).round();q.any3d?Kt(a.el,B,S):Et(a.el,B)},_resetGrid:function(){var a=this._map,d=a.options.crs,m=this._tileSize=this.getTileSize(),S=this._tileZoom,B=this._map.getPixelWorldBounds(this._tileZoom);B&&(this._globalTileRange=this._pxBoundsToTileRange(B)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,d.wrapLng[0]],S).x/m.x),Math.ceil(a.project([0,d.wrapLng[1]],S).x/m.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([d.wrapLat[0],0],S).y/m.x),Math.ceil(a.project([d.wrapLat[1],0],S).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var d=this._map,m=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),S=d.getZoomScale(m,this._tileZoom),B=d.project(a,this._tileZoom).floor(),G=d.getSize().divideBy(S*2);return new le(B.subtract(G),B.add(G))},_update:function(a){var d=this._map;if(d){var m=this._clampZoom(d.getZoom());if(a===void 0&&(a=d.getCenter()),this._tileZoom!==void 0){var S=this._getTiledPixelBounds(a),B=this._pxBoundsToTileRange(S),G=B.getCenter(),ye=[],Ie=this.options.keepBuffer,Ue=new le(B.getBottomLeft().subtract([Ie,-Ie]),B.getTopRight().add([Ie,-Ie]));if(!(isFinite(B.min.x)&&isFinite(B.min.y)&&isFinite(B.max.x)&&isFinite(B.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Xe in this._tiles){var pt=this._tiles[Xe].coords;(pt.z!==this._tileZoom||!Ue.contains(new me(pt.x,pt.y)))&&(this._tiles[Xe].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(a,m);return}for(var Lt=B.min.y;Lt<=B.max.y;Lt++)for(var Jt=B.min.x;Jt<=B.max.x;Jt++){var Rr=new me(Jt,Lt);if(Rr.z=this._tileZoom,!!this._isValidTile(Rr)){var cr=this._tiles[this._tileCoordsToKey(Rr)];cr?cr.current=!0:ye.push(Rr)}}if(ye.sort(function(Zr,ul){return Zr.distanceTo(G)-ul.distanceTo(G)}),ye.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var bi=document.createDocumentFragment();for(Jt=0;Jt<ye.length;Jt++)this._addTile(ye[Jt],bi);this._level.el.appendChild(bi)}}}},_isValidTile:function(a){var d=this._map.options.crs;if(!d.infinite){var m=this._globalTileRange;if(!d.wrapLng&&(a.x<m.min.x||a.x>m.max.x)||!d.wrapLat&&(a.y<m.min.y||a.y>m.max.y))return!1}if(!this.options.bounds)return!0;var S=this._tileCoordsToBounds(a);return ie(this.options.bounds).overlaps(S)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var d=this._map,m=this.getTileSize(),S=a.scaleBy(m),B=S.add(m),G=d.unproject(S,a.z),ye=d.unproject(B,a.z);return[G,ye]},_tileCoordsToBounds:function(a){var d=this._tileCoordsToNwSe(a),m=new be(d[0],d[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var d=a.split(":"),m=new me(+d[0],+d[1]);return m.z=+d[2],m},_removeTile:function(a){var d=this._tiles[a];d&&(ze(d.el),delete this._tiles[a],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){rt(a,"leaflet-tile");var d=this.getTileSize();a.style.width=d.x+"px",a.style.height=d.y+"px",a.onselectstart=p,a.onmousemove=p,q.ielt9&&this.options.opacity<1&&Ut(a,this.options.opacity)},_addTile:function(a,d){var m=this._getTilePos(a),S=this._tileCoordsToKey(a),B=this.createTile(this._wrapCoords(a),o(this._tileReady,this,a));this._initTile(B),this.createTile.length<2&&X(o(this._tileReady,this,a,null,B)),Et(B,m),this._tiles[S]={el:B,coords:a,current:!0},d.appendChild(B),this.fire("tileloadstart",{tile:B,coords:a})},_tileReady:function(a,d,m){d&&this.fire("tileerror",{error:d,tile:m,coords:a});var S=this._tileCoordsToKey(a);m=this._tiles[S],m&&(m.loaded=+new Date,this._map._fadeAnimated?(Ut(m.el,0),te(this._fadeFrame),this._fadeFrame=X(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),d||(rt(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),q.ielt9||!this._map._fadeAnimated?X(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var d=new me(this._wrapX?f(a.x,this._wrapX):a.x,this._wrapY?f(a.y,this._wrapY):a.y);return d.z=a.z,d},_pxBoundsToTileRange:function(a){var d=this.getTileSize();return new le(a.min.unscaleBy(d).floor(),a.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function GP(a){return new Kc(a)}var cl=Kc.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,d){this._url=a,d=w(this,d),d.detectRetina&&q.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),typeof d.subdomains=="string"&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,d){return this._url===a&&d===void 0&&(d=!0),this._url=a,d||this.redraw(),this},createTile:function(a,d){var m=document.createElement("img");return Gt(m,"load",o(this._tileOnLoad,this,d,m)),Gt(m,"error",o(this._tileOnError,this,d,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(a),m},getTileUrl:function(a){var d={r:q.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-a.y;this.options.tms&&(d.y=m),d["-y"]=m}return x(this._url,i(d,this.options))},_tileOnLoad:function(a,d){q.ielt9?setTimeout(o(a,this,null,d),0):a(null,d)},_tileOnError:function(a,d,m){var S=this.options.errorTileUrl;S&&d.getAttribute("src")!==S&&(d.src=S),a(m,d)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,d=this.options.maxZoom,m=this.options.zoomReverse,S=this.options.zoomOffset;return m&&(a=d-a),a+S},_getSubdomain:function(a){var d=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var a,d;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(d=this._tiles[a].el,d.onload=p,d.onerror=p,!d.complete)){d.src=F;var m=this._tiles[a].coords;ze(d),delete this._tiles[a],this.fire("tileabort",{tile:d,coords:m})}},_removeTile:function(a){var d=this._tiles[a];if(d)return d.el.setAttribute("src",F),Kc.prototype._removeTile.call(this,a)},_tileReady:function(a,d,m){if(!(!this._map||m&&m.getAttribute("src")===F))return Kc.prototype._tileReady.call(this,a,d,m)}});function B_(a,d){return new cl(a,d)}var D_=cl.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,d){this._url=a;var m=i({},this.defaultWmsParams);for(var S in d)S in this.options||(m[S]=d[S]);d=w(this,d);var B=d.detectRetina&&q.retina?2:1,G=this.getTileSize();m.width=G.x*B,m.height=G.y*B,this.wmsParams=m},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var d=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[d]=this._crs.code,cl.prototype.onAdd.call(this,a)},getTileUrl:function(a){var d=this._tileCoordsToNwSe(a),m=this._crs,S=pe(m.project(d[0]),m.project(d[1])),B=S.min,G=S.max,ye=(this._wmsVersion>=1.3&&this._crs===Vc?[B.y,B.x,G.y,G.x]:[B.x,B.y,G.x,G.y]).join(","),Ie=cl.prototype.getTileUrl.call(this,a);return Ie+b(this.wmsParams,Ie,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ye},setParams:function(a,d){return i(this.wmsParams,a),d||this.redraw(),this}});function ZP(a,d){return new D_(a,d)}cl.WMS=D_,B_.wms=ZP;var As=Gr.extend({options:{padding:.1},initialize:function(a){w(this,a),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),rt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,d){var m=this._map.getZoomScale(d,this._zoom),S=this._map.getSize().multiplyBy(.5+this.options.padding),B=this._map.project(this._center,d),G=S.multiplyBy(-m).add(B).subtract(this._map._getNewPixelOrigin(a,d));q.any3d?Kt(this._container,G,m):Et(this._container,G)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,d=this._map.getSize(),m=this._map.containerPointToLayerPoint(d.multiplyBy(-a)).round();this._bounds=new le(m,m.add(d.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),I_=As.extend({options:{tolerance:0},getEvents:function(){var a=As.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){As.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Gt(a,"mousemove",this._onMouseMove,this),Gt(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Gt(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){te(this._redrawRequest),delete this._ctx,ze(this._container),wn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var d in this._layers)a=this._layers[d],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){As.prototype._update.call(this);var a=this._bounds,d=this._container,m=a.getSize(),S=q.retina?2:1;Et(d,a.min),d.width=S*m.x,d.height=S*m.y,d.style.width=m.x+"px",d.style.height=m.y+"px",q.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){As.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[u(a)]=a;var d=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var d=a._order,m=d.next,S=d.prev;m?m.prev=S:this._drawLast=S,S?S.next=m:this._drawFirst=m,delete a._order,delete this._layers[u(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var d=a.options.dashArray.split(/[, ]+/),m=[],S,B;for(B=0;B<d.length;B++){if(S=Number(d[B]),isNaN(S))return;m.push(S)}a.options._dashArray=m}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||X(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var d=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new le,this._redrawBounds.extend(a._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(a._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var d=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,d=this._redrawBounds;if(this._ctx.save(),d){var m=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var S=this._drawFirst;S;S=S.next)a=S.layer,(!d||a._pxBounds&&a._pxBounds.intersects(d))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,d){if(this._drawing){var m,S,B,G,ye=a._parts,Ie=ye.length,Ue=this._ctx;if(Ie){for(Ue.beginPath(),m=0;m<Ie;m++){for(S=0,B=ye[m].length;S<B;S++)G=ye[m][S],Ue[S?"lineTo":"moveTo"](G.x,G.y);d&&Ue.closePath()}this._fillStroke(Ue,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var d=a._point,m=this._ctx,S=Math.max(Math.round(a._radius),1),B=(Math.max(Math.round(a._radiusY),1)||S)/S;B!==1&&(m.save(),m.scale(1,B)),m.beginPath(),m.arc(d.x,d.y/B,S,0,Math.PI*2,!1),B!==1&&m.restore(),this._fillStroke(m,a)}},_fillStroke:function(a,d){var m=d.options;m.fill&&(a.globalAlpha=m.fillOpacity,a.fillStyle=m.fillColor||m.color,a.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(a.setLineDash&&a.setLineDash(d.options&&d.options._dashArray||[]),a.globalAlpha=m.opacity,a.lineWidth=m.weight,a.strokeStyle=m.color,a.lineCap=m.lineCap,a.lineJoin=m.lineJoin,a.stroke())},_onClick:function(a){for(var d=this._map.mouseEventToLayerPoint(a),m,S,B=this._drawFirst;B;B=B.next)m=B.layer,m.options.interactive&&m._containsPoint(d)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(m))&&(S=m);this._fireEvent(S?[S]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var d=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,d)}},_handleMouseOut:function(a){var d=this._hoveredLayer;d&&(xt(this._container,"leaflet-interactive"),this._fireEvent([d],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,d){if(!this._mouseHoverThrottled){for(var m,S,B=this._drawFirst;B;B=B.next)m=B.layer,m.options.interactive&&m._containsPoint(d)&&(S=m);S!==this._hoveredLayer&&(this._handleMouseOut(a),S&&(rt(this._container,"leaflet-interactive"),this._fireEvent([S],a,"mouseover"),this._hoveredLayer=S)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,d,m){this._map._fireDOMEvent(d,m||d.type,a)},_bringToFront:function(a){var d=a._order;if(d){var m=d.next,S=d.prev;if(m)m.prev=S;else return;S?S.next=m:m&&(this._drawFirst=m),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(a)}},_bringToBack:function(a){var d=a._order;if(d){var m=d.next,S=d.prev;if(S)S.next=m;else return;m?m.prev=S:S&&(this._drawLast=S),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(a)}}});function L_(a){return q.canvas?new I_(a):null}var Gc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),YP={_initContainer:function(){this._container=qe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(As.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var d=a._container=Gc("shape");rt(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",a._path=Gc("path"),d.appendChild(a._path),this._updateStyle(a),this._layers[u(a)]=a},_addPath:function(a){var d=a._container;this._container.appendChild(d),a.options.interactive&&a.addInteractiveTarget(d)},_removePath:function(a){var d=a._container;ze(d),a.removeInteractiveTarget(d),delete this._layers[u(a)]},_updateStyle:function(a){var d=a._stroke,m=a._fill,S=a.options,B=a._container;B.stroked=!!S.stroke,B.filled=!!S.fill,S.stroke?(d||(d=a._stroke=Gc("stroke")),B.appendChild(d),d.weight=S.weight+"px",d.color=S.color,d.opacity=S.opacity,S.dashArray?d.dashStyle=v(S.dashArray)?S.dashArray.join(" "):S.dashArray.replace(/( *, *)/g," "):d.dashStyle="",d.endcap=S.lineCap.replace("butt","flat"),d.joinstyle=S.lineJoin):d&&(B.removeChild(d),a._stroke=null),S.fill?(m||(m=a._fill=Gc("fill")),B.appendChild(m),m.color=S.fillColor||S.color,m.opacity=S.fillOpacity):m&&(B.removeChild(m),a._fill=null)},_updateCircle:function(a){var d=a._point.round(),m=Math.round(a._radius),S=Math.round(a._radiusY||m);this._setPath(a,a._empty()?"M0 0":"AL "+d.x+","+d.y+" "+m+","+S+" 0,"+65535*360)},_setPath:function(a,d){a._path.v=d},_bringToFront:function(a){Ye(a._container)},_bringToBack:function(a){bt(a._container)}},kh=q.vml?Gc:je,Zc=As.extend({_initContainer:function(){this._container=kh("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=kh("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ze(this._container),wn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){As.prototype._update.call(this);var a=this._bounds,d=a.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,m.setAttribute("width",d.x),m.setAttribute("height",d.y)),Et(m,a.min),m.setAttribute("viewBox",[a.min.x,a.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(a){var d=a._path=kh("path");a.options.className&&rt(d,a.options.className),a.options.interactive&&rt(d,"leaflet-interactive"),this._updateStyle(a),this._layers[u(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){ze(a._path),a.removeInteractiveTarget(a._path),delete this._layers[u(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var d=a._path,m=a.options;d&&(m.stroke?(d.setAttribute("stroke",m.color),d.setAttribute("stroke-opacity",m.opacity),d.setAttribute("stroke-width",m.weight),d.setAttribute("stroke-linecap",m.lineCap),d.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?d.setAttribute("stroke-dasharray",m.dashArray):d.removeAttribute("stroke-dasharray"),m.dashOffset?d.setAttribute("stroke-dashoffset",m.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),m.fill?(d.setAttribute("fill",m.fillColor||m.color),d.setAttribute("fill-opacity",m.fillOpacity),d.setAttribute("fill-rule",m.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(a,d){this._setPath(a,Me(a._parts,d))},_updateCircle:function(a){var d=a._point,m=Math.max(Math.round(a._radius),1),S=Math.max(Math.round(a._radiusY),1)||m,B="a"+m+","+S+" 0 1,0 ",G=a._empty()?"M0 0":"M"+(d.x-m)+","+d.y+B+m*2+",0 "+B+-m*2+",0 ";this._setPath(a,G)},_setPath:function(a,d){a._path.setAttribute("d",d)},_bringToFront:function(a){Ye(a._path)},_bringToBack:function(a){bt(a._path)}});q.vml&&Zc.include(YP);function M_(a){return q.svg||q.vml?new Zc(a):null}rn.include({getRenderer:function(a){var d=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var d=this._paneRenderers[a];return d===void 0&&(d=this._createRenderer({pane:a}),this._paneRenderers[a]=d),d},_createRenderer:function(a){return this.options.preferCanvas&&L_(a)||M_(a)}});var O_=al.extend({initialize:function(a,d){al.prototype.initialize.call(this,this._boundsToLatLngs(a),d)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=ie(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function XP(a,d){return new O_(a,d)}Zc.create=kh,Zc.pointsToPath=Me,Es.geometryToLayer=xh,Es.coordsToLatLng=vg,Es.coordsToLatLngs=yh,Es.latLngToCoords=wg,Es.latLngsToCoords=vh,Es.getFeature=ll,Es.asFeature=wh,rn.mergeOptions({boxZoom:!0});var $_=vi.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Gt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){wn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ze(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),en(),fn(),this._startPoint=this._map.mouseEventToContainerPoint(a),Gt(document,{contextmenu:It,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=qe("div","leaflet-zoom-box",this._container),rt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var d=new le(this._point,this._startPoint),m=d.getSize();Et(this._box,d.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(ze(this._box),xt(this._container,"leaflet-crosshair")),mn(),zn(),wn(document,{contextmenu:It,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var d=new be(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});rn.addInitHook("addHandler","boxZoom",$_),rn.mergeOptions({doubleClickZoom:!0});var U_=vi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var d=this._map,m=d.getZoom(),S=d.options.zoomDelta,B=a.originalEvent.shiftKey?m-S:m+S;d.options.doubleClickZoom==="center"?d.setZoom(B):d.setZoomAround(a.containerPoint,B)}});rn.addInitHook("addHandler","doubleClickZoom",U_),rn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var z_=vi.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Ji(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}rt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){xt(this._map._container,"leaflet-grab"),xt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=ie(this._map.options.maxBounds);this._offsetLimit=pe(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var d=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(d),this._prunePositions(d)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,d){return a-(a-d)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;a.x<d.min.x&&(a.x=this._viscousLimit(a.x,d.min.x)),a.y<d.min.y&&(a.y=this._viscousLimit(a.y,d.min.y)),a.x>d.max.x&&(a.x=this._viscousLimit(a.x,d.max.x)),a.y>d.max.y&&(a.y=this._viscousLimit(a.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,d=Math.round(a/2),m=this._initialWorldOffset,S=this._draggable._newPos.x,B=(S-d+m)%a+d-m,G=(S+d+m)%a-d-m,ye=Math.abs(B+m)<Math.abs(G+m)?B:G;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ye},_onDragEnd:function(a){var d=this._map,m=d.options,S=!m.inertia||a.noInertia||this._times.length<2;if(d.fire("dragend",a),S)d.fire("moveend");else{this._prunePositions(+new Date);var B=this._lastPos.subtract(this._positions[0]),G=(this._lastTime-this._times[0])/1e3,ye=m.easeLinearity,Ie=B.multiplyBy(ye/G),Ue=Ie.distanceTo([0,0]),Xe=Math.min(m.inertiaMaxSpeed,Ue),pt=Ie.multiplyBy(Xe/Ue),Lt=Xe/(m.inertiaDeceleration*ye),Jt=pt.multiplyBy(-Lt/2).round();!Jt.x&&!Jt.y?d.fire("moveend"):(Jt=d._limitOffset(Jt,d.options.maxBounds),X(function(){d.panBy(Jt,{duration:Lt,easeLinearity:ye,noMoveStart:!0,animate:!0})}))}}});rn.addInitHook("addHandler","dragging",z_),rn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var q_=vi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Gt(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),wn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,d=document.documentElement,m=a.scrollTop||d.scrollTop,S=a.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(S,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var d=this._panKeys={},m=this.keyCodes,S,B;for(S=0,B=m.left.length;S<B;S++)d[m.left[S]]=[-1*a,0];for(S=0,B=m.right.length;S<B;S++)d[m.right[S]]=[a,0];for(S=0,B=m.down.length;S<B;S++)d[m.down[S]]=[0,a];for(S=0,B=m.up.length;S<B;S++)d[m.up[S]]=[0,-1*a]},_setZoomDelta:function(a){var d=this._zoomKeys={},m=this.keyCodes,S,B;for(S=0,B=m.zoomIn.length;S<B;S++)d[m.zoomIn[S]]=a;for(S=0,B=m.zoomOut.length;S<B;S++)d[m.zoomOut[S]]=-a},_addHooks:function(){Gt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){wn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var d=a.keyCode,m=this._map,S;if(d in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(S=this._panKeys[d],a.shiftKey&&(S=fe(S).multiplyBy(3)),m.options.maxBounds&&(S=m._limitOffset(fe(S),m.options.maxBounds)),m.options.worldCopyJump){var B=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(S)));m.panTo(B)}else m.panBy(S)}else if(d in this._zoomKeys)m.setZoom(m.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[d]);else if(d===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;It(a)}}});rn.addInitHook("addHandler","keyboard",q_),rn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var V_=vi.extend({addHooks:function(){Gt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){wn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var d=sh(a),m=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var S=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),S),It(a)},_performZoom:function(){var a=this._map,d=a.getZoom(),m=this._map.options.zoomSnap||0;a._stop();var S=this._delta/(this._map.options.wheelPxPerZoomLevel*4),B=4*Math.log(2/(1+Math.exp(-Math.abs(S))))/Math.LN2,G=m?Math.ceil(B/m)*m:B,ye=a._limitZoom(d+(this._delta>0?G:-G))-d;this._delta=0,this._startTime=null,ye&&(a.options.scrollWheelZoom==="center"?a.setZoom(d+ye):a.setZoomAround(this._lastMousePos,d+ye))}});rn.addInitHook("addHandler","scrollWheelZoom",V_);var JP=600;rn.mergeOptions({tapHold:q.touchNative&&q.safari&&q.mobile,tapTolerance:15});var H_=vi.extend({addHooks:function(){Gt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){wn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var d=a.touches[0];this._startPos=this._newPos=new me(d.clientX,d.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Gt(document,"touchend",er),Gt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),JP),Gt(document,"touchend touchcancel contextmenu",this._cancel,this),Gt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){wn(document,"touchend",er),wn(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),wn(document,"touchend touchcancel contextmenu",this._cancel,this),wn(document,"touchmove",this._onMove,this)},_onMove:function(a){var d=a.touches[0];this._newPos=new me(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,d){var m=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});m._simulated=!0,d.target.dispatchEvent(m)}});rn.addInitHook("addHandler","tapHold",H_),rn.mergeOptions({touchZoom:q.touch,bounceAtZoomLimits:!0});var W_=vi.extend({addHooks:function(){rt(this._map._container,"leaflet-touch-zoom"),Gt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){xt(this._map._container,"leaflet-touch-zoom"),wn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var d=this._map;if(!(!a.touches||a.touches.length!==2||d._animatingZoom||this._zooming)){var m=d.mouseEventToContainerPoint(a.touches[0]),S=d.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),d.options.touchZoom!=="center"&&(this._pinchStartLatLng=d.containerPointToLatLng(m.add(S)._divideBy(2))),this._startDist=m.distanceTo(S),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),Gt(document,"touchmove",this._onTouchMove,this),Gt(document,"touchend touchcancel",this._onTouchEnd,this),er(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var d=this._map,m=d.mouseEventToContainerPoint(a.touches[0]),S=d.mouseEventToContainerPoint(a.touches[1]),B=m.distanceTo(S)/this._startDist;if(this._zoom=d.getScaleZoom(B,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&B<1||this._zoom>d.getMaxZoom()&&B>1)&&(this._zoom=d._limitZoom(this._zoom)),d.options.touchZoom==="center"){if(this._center=this._startLatLng,B===1)return}else{var G=m._add(S)._divideBy(2)._subtract(this._centerPoint);if(B===1&&G.x===0&&G.y===0)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(G),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),te(this._animRequest);var ye=o(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=X(ye,this,!0),er(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,te(this._animRequest),wn(document,"touchmove",this._onTouchMove,this),wn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});rn.addInitHook("addHandler","touchZoom",W_),rn.BoxZoom=$_,rn.DoubleClickZoom=U_,rn.Drag=z_,rn.Keyboard=q_,rn.ScrollWheelZoom=V_,rn.TapHold=H_,rn.TouchZoom=W_,n.Bounds=le,n.Browser=q,n.CRS=Ze,n.Canvas=I_,n.Circle=yg,n.CircleMarker=ol,n.Class=Ae,n.Control=ai,n.DivIcon=R_,n.DivOverlay=es,n.DomEvent=ig,n.DomUtil=ng,n.Draggable=Ji,n.Evented=Ne,n.FeatureGroup=wi,n.GeoJSON=Es,n.GridLayer=Kc,n.Handler=vi,n.Icon=_s,n.ImageOverlay=bh,n.LatLng=Te,n.LatLngBounds=be,n.Layer=Gr,n.LayerGroup=to,n.LineUtil=Vn,n.Map=rn,n.Marker=sl,n.Mixin=dg,n.Path=Qi,n.Point=me,n.PolyUtil=hg,n.Polygon=al,n.Polyline=ks,n.Popup=_h,n.PosAnimation=oh,n.Projection=ph,n.Rectangle=O_,n.Renderer=As,n.SVG=Zc,n.SVGOverlay=N_,n.TileLayer=cl,n.Tooltip=Sh,n.Transformation=ee,n.Util=ae,n.VideoOverlay=F_,n.bind=o,n.bounds=pe,n.canvas=L_,n.circle=MP,n.circleMarker=gh,n.control=il,n.divIcon=KP,n.extend=i,n.featureGroup=mh,n.geoJSON=P_,n.geoJson=UP,n.gridLayer=GP,n.icon=Hc,n.imageOverlay=zP,n.latLng=Le,n.latLngBounds=ie,n.layerGroup=gg,n.map=sg,n.marker=xg,n.point=fe,n.polygon=$P,n.polyline=OP,n.popup=HP,n.rectangle=XP,n.setOptions=w,n.stamp=u,n.svg=M_,n.svgOverlay=VP,n.tileLayer=B_,n.tooltip=WP,n.transformation=ce,n.version=r,n.videoOverlay=qP;var QP=window.L;n.noConflict=function(){return window.L=QP,this},window.L=n})})(mw,mw.exports);var yc=mw.exports;function C_(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function j_(t,e){return e==null?function(r,i){const s=Y.useRef();return s.current||(s.current=t(r,i)),s}:function(r,i){const s=Y.useRef();s.current||(s.current=t(r,i));const o=Y.useRef(r),{instance:l}=s.current;return Y.useEffect(function(){o.current!==r&&(e(l,r,o.current),o.current=r)},[l,r,i]),s}}function YK(t,e){Y.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var s;(s=e.layerContainer)==null||s.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function DP(t){return function(n){const r=RP(),i=t(A_(n,r),r);return PP(r.map,n.attribution),BP(i.current,n.eventHandlers),YK(i.current,r),i}}function XK(t,e){const n=j_(t,e),r=DP(n);return WK(r)}function JK(t,e){const n=j_(t),r=ZK(n,e);return KK(r)}function QK(t,e){const n=j_(t,e),r=DP(n);return GK(r)}function eG(t,e,n){const{opacity:r,zIndex:i}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),i!=null&&i!==n.zIndex&&t.setZIndex(i)}function gw(){return gw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gw.apply(this,arguments)}function tG({bounds:t,boundsOptions:e,center:n,children:r,className:i,id:s,placeholder:o,style:l,whenReady:u,zoom:h,...f},p){const[g]=Y.useState({className:i,id:s,style:l}),[y,_]=Y.useState(null);Y.useImperativeHandle(p,()=>(y==null?void 0:y.map)??null,[y]);const w=Y.useCallback(k=>{if(k!==null&&y===null){const x=new yc.Map(k,f);n!=null&&h!=null?x.setView(n,h):t!=null&&x.fitBounds(t,e),u!=null&&x.whenReady(u),_(VK(x))}},[]);Y.useEffect(()=>()=>{y==null||y.map.remove()},[y]);const b=y?Do.createElement(NP,{value:y},r):o??null;return Do.createElement("div",gw({},g,{ref:w}),b)}const nG=Y.forwardRef(tG),wA=XK(function({position:e,...n},r){const i=new yc.Marker(e,n);return C_(i,HK(r,{overlayContainer:i}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),bA=JK(function(e,n){const r=new yc.Popup(e,n.overlayContainer);return C_(r,n)},function(e,n,{position:r},i){Y.useEffect(function(){const{instance:o}=e;function l(h){h.popup===o&&(o.update(),i(!0))}function u(h){h.popup===o&&i(!1)}return n.map.on({popupopen:l,popupclose:u}),n.overlayContainer==null?(r!=null&&o.setLatLng(r),o.openOn(n.map)):n.overlayContainer.bindPopup(o),function(){var f;n.map.off({popupopen:l,popupclose:u}),(f=n.overlayContainer)==null||f.unbindPopup(),n.map.removeLayer(o)}},[e,n,i,r])}),rG=QK(function({url:e,...n},r){const i=new yc.TileLayer(e,A_(n,r));return C_(i,r)},function(e,n,r){eG(e,n,r);const{url:i}=n;i!=null&&i!==r.url&&e.setUrl(i)}),IP=({center:t=[40.7128,-74.006],zoom:e=12,height:n="400px",showResponders:r=!0,selectedReport:i,onReportSelect:s})=>{const{reports:o,responders:l}=ys(),u=(f,p)=>{const g=()=>{switch(f){case"fire":return"";case"medical":return"";case"flood":return"";case"earthquake":return"";case"accident":return"";default:return""}},y=()=>{switch(p){case"critical":return"#dc2626";case"high":return"#ea580c";case"medium":return"#d97706";case"low":return"#65a30d";default:return"#6b7280"}};return yc.divIcon({html:`
        <div style="
          background: ${y()};
          width: 32px;
          height: 32px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 16px;
          border: 3px solid white;
          box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        ">
          ${g()}
        </div>
      `,className:"emergency-marker",iconSize:[32,32],iconAnchor:[16,16]})},h=(f,p)=>{const g=()=>{if(!p)return"#6b7280";switch(f){case"medic":return"#dc2626";case"firefighter":return"#ea580c";case"police":return"#2563eb";case"search_rescue":return"#7c3aed";default:return"#059669"}},y=()=>{switch(f){case"medic":return"";case"firefighter":return"";case"police":return"";case"search_rescue":return"";default:return""}};return yc.divIcon({html:`
        <div style="
          background: ${g()};
          width: 28px;
          height: 28px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 14px;
          border: 2px solid white;
          box-shadow: 0 2px 6px rgba(0,0,0,0.2);
          ${p?"":"opacity: 0.6;"}
        ">
          ${y()}
        </div>
      `,className:"responder-marker",iconSize:[28,28],iconAnchor:[14,14]})};return c.jsx("div",{className:"relative",children:c.jsxs(nG,{center:t,zoom:e,style:{height:n,width:"100%"},className:"rounded-lg z-0",children:[c.jsx(rG,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o.map(f=>c.jsx(wA,{position:[f.location.lat,f.location.lng],icon:u(f.type,f.severity),eventHandlers:{click:()=>s==null?void 0:s(f.id)},children:c.jsx(bA,{children:c.jsxs("div",{className:"p-2 min-w-[200px]",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("div",{className:`w-3 h-3 rounded-full ${f.severity==="critical"?"bg-red-500":f.severity==="high"?"bg-orange-500":f.severity==="medium"?"bg-yellow-500":"bg-green-500"}`}),c.jsxs("span",{className:"font-semibold text-sm capitalize",children:[f.type.replace("_"," ")," Emergency"]})]}),c.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:f.title}),c.jsx("p",{className:"text-sm text-gray-600 mb-2",children:f.description}),c.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[c.jsx("span",{children:f.timestamp.toLocaleTimeString()}),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f.status==="active"?"bg-red-100 text-red-800":f.status==="responding"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:f.status})]})]})})},f.id)),r&&l.map(f=>f.location&&c.jsx(wA,{position:[f.location.lat,f.location.lng],icon:h(f.role,f.isAvailable),children:c.jsx(bA,{children:c.jsxs("div",{className:"p-2 min-w-[180px]",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("div",{className:`w-3 h-3 rounded-full ${f.isAvailable?"bg-green-500":"bg-gray-400"}`}),c.jsx("span",{className:"font-semibold text-sm",children:f.name})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-1 capitalize",children:f.role.replace("_"," ")}),c.jsxs("div",{className:"text-xs text-gray-500",children:[c.jsxs("p",{className:"mb-1",children:["Status: ",f.isAvailable?"Available":"Busy"]}),f.skills.length>0&&c.jsxs("p",{children:["Skills: ",f.skills.slice(0,2).join(", ")]})]})]})})},f.id))]})})};class iG{constructor(){this.isConfigured=!1,this.config={accountSid:"",authToken:"",fromNumber:""},this.isConfigured=!!(this.config.accountSid&&this.config.authToken&&this.config.fromNumber),this.isConfigured?console.log("Twilio Service initialized successfully"):console.warn("Twilio not configured - SMS alerts will be logged only")}async sendSMSAlert(e){if(!this.isConfigured)return console.log(" SMS Alert (Mock):",{to:e.to,message:e.message,priority:e.priority,emergencyId:e.emergencyId}),!0;try{const n=await fetch("https://api.twilio.com/2010-04-01/Accounts/"+this.config.accountSid+"/Messages.json",{method:"POST",headers:{Authorization:"Basic "+btoa(this.config.accountSid+":"+this.config.authToken),"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({To:e.to,From:this.config.fromNumber,Body:e.message})});if(n.ok){const r=await n.json();return console.log("SMS sent successfully:",r.sid),!0}else throw new Error(`Twilio API error: ${n.status}`)}catch(n){return console.error("Failed to send SMS:",n),console.log(" SMS Alert (Fallback):",{to:e.to,message:e.message,priority:e.priority,emergencyId:e.emergencyId,error:n.message}),!1}}async notifyResponders(e,n){const r=` EMERGENCY ALERT: ${e.title} - ${e.severity.toUpperCase()} priority. Location: ${e.location.lat}, ${e.location.lng}. Respond via ProofVault app.`,i=n.map(s=>this.sendSMSAlert({to:s,message:r,emergencyId:e.id,priority:e.severity}));await Promise.allSettled(i)}isServiceConfigured(){return this.isConfigured}}const sG=new iG,oG=({onConsentChange:t,required:e=!0,className:n=""})=>{const[r,i]=Y.useState(!1),[s,o]=Y.useState(!1),l=u=>{i(u),t(u)};return c.jsxs("div",{className:`space-y-3 ${n}`,children:[c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("input",{type:"checkbox",id:"consent-checkbox",checked:r,onChange:u=>l(u.target.checked),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",required:e}),c.jsxs("label",{htmlFor:"consent-checkbox",className:"text-sm text-gray-700 leading-relaxed",children:["I consent to the collection and processing of my data for emergency response purposes, and I agree to the"," ",c.jsxs(jr,{to:"/terms",target:"_blank",className:"text-blue-600 hover:text-blue-700 underline inline-flex items-center",children:["Terms of Service",c.jsx(xd,{className:"h-3 w-3 ml-1"})]})," ","and"," ",c.jsxs(jr,{to:"/privacy",target:"_blank",className:"text-blue-600 hover:text-blue-700 underline inline-flex items-center",children:["Privacy Policy",c.jsx(xd,{className:"h-3 w-3 ml-1"})]}),e&&c.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})]}),c.jsx("button",{type:"button",onClick:()=>o(!s),className:"text-xs text-gray-500 hover:text-gray-700 underline",children:s?"Hide details":"What data is collected?"}),c.jsx(Ur,{children:s&&c.jsx(wt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(Sn,{className:"h-4 w-4 text-blue-600 mt-0.5"}),c.jsxs("div",{className:"text-xs text-blue-800 space-y-2",children:[c.jsx("h4",{className:"font-medium",children:"Data Collection for Emergency Response:"}),c.jsxs("ul",{className:"space-y-1",children:[c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Location:"})," GPS coordinates to dispatch responders"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Emergency Details:"})," Description, severity, and type"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Media Files:"})," Photos, audio, or video evidence"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Contact Info:"})," For coordination and updates"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Verification Data:"})," AI analysis and blockchain records"]})]}),c.jsxs("div",{className:"pt-2 border-t border-blue-200",children:[c.jsx("p",{className:"font-medium",children:"Your Rights:"}),c.jsx("p",{children:"You can withdraw consent at any time, though this may limit our ability to provide emergency assistance. Data is shared only with verified emergency responders and relevant authorities."})]})]})]})})}),e&&c.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:c.jsxs("div",{className:"flex items-start space-x-2",children:[c.jsx(Sn,{className:"h-4 w-4 text-amber-600 mt-0.5"}),c.jsxs("div",{className:"text-xs text-amber-800",children:[c.jsx("p",{className:"font-medium",children:"Emergency Data Sharing Notice:"}),c.jsx("p",{children:"During active emergencies, your information may be shared immediately with emergency services and verified responders to ensure rapid response and coordination."})]})]})})]})},aG=({onSubmit:t,onCancel:e})=>{const{createReport:n,processVoiceCommand:r,responders:i}=ys(),[s,o]=Y.useState(1),[l,u]=Y.useState(!1),[h,f]=Y.useState(null),[p,g]=Y.useState(!1),[y,_]=Y.useState({type:"other",title:"",description:"",severity:"medium",isAnonymous:!1}),w=Y.useRef(null),b=Y.useRef([]),k=[{value:"fire",label:"Fire",icon:"",color:"red"},{value:"medical",label:"Medical",icon:"",color:"red"},{value:"flood",label:"Flood",icon:"",color:"blue"},{value:"earthquake",label:"Earthquake",icon:"",color:"orange"},{value:"accident",label:"Accident",icon:"",color:"yellow"},{value:"violence",label:"Violence",icon:"",color:"red"},{value:"missing_person",label:"Missing Person",icon:"",color:"purple"},{value:"infrastructure",label:"Infrastructure",icon:"",color:"gray"},{value:"hazmat",label:"Hazmat",icon:"",color:"orange"},{value:"other",label:"Other",icon:"",color:"gray"}],x=()=>{if(!navigator.geolocation){tt.error("Geolocation is not supported");return}navigator.geolocation.getCurrentPosition(j=>{f({lat:j.coords.latitude,lng:j.coords.longitude}),tt.success("Location captured")},j=>{tt.error("Failed to get location"),console.error("Geolocation error:",j)})},v=async()=>{try{const j=await navigator.mediaDevices.getUserMedia({audio:!0}),R=new MediaRecorder(j);w.current=R,b.current=[],R.ondataavailable=z=>{b.current.push(z.data)},R.onstop=async()=>{var Q,$;const z=new Blob(b.current,{type:"audio/wav"});try{const X=await r(z);_(te=>({...te,description:te.description+" "+X.text})),(Q=X.action)!=null&&Q.includes("fire")?_(te=>({...te,type:"fire"})):($=X.action)!=null&&$.includes("medical")&&_(te=>({...te,type:"medical"})),tt.success("Voice processed successfully")}catch{tt.error("Failed to process voice")}j.getTracks().forEach(X=>X.stop())},R.start(),u(!0),tt.success("Recording started")}catch{tt.error("Failed to start recording")}},C=()=>{w.current&&l&&(w.current.stop(),u(!1),tt.success("Recording stopped"))},F=async()=>{if(!h){tt.error("Location is required");return}if(!y.title.trim()||!y.description.trim()){tt.error("Title and description are required");return}if(!p){tt.error("You must consent to data processing for emergency response");return}try{const j=await n({...y,location:h,status:"active",urgencyScore:y.severity==="critical"?10:y.severity==="high"?8:y.severity==="medium"?5:3,responders:[],media:[]}),R=i.filter(z=>{var Q;return z.isAvailable&&((Q=z.contactInfo)==null?void 0:Q.phone)});if(R.length>0){const z=R.map(Q=>Q.contactInfo.phone);await sG.notifyResponders({id:j,title:y.title,severity:y.severity,location:h},z)}tt.success("Emergency report submitted and responders notified"),t==null||t(j)}catch{tt.error("Failed to submit report")}};return c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4].map(j=>c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${j<=s?"bg-red-600 text-white":"bg-gray-200 text-gray-500"}`,children:j}),j<4&&c.jsx("div",{className:`w-16 h-1 mx-2 ${j<s?"bg-red-600":"bg-gray-200"}`})]},j))}),c.jsxs("div",{className:"flex justify-between mt-2 text-sm text-gray-600",children:[c.jsx("span",{children:"Emergency Type"}),c.jsx("span",{children:"Details"}),c.jsx("span",{children:"Consent"}),c.jsx("span",{children:"Review"})]})]}),s===1&&c.jsxs(wt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx(si,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"What's the emergency?"}),c.jsx("p",{className:"text-gray-600",children:"Select the type of emergency you're reporting"})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:k.map(j=>c.jsxs("button",{onClick:()=>_(R=>({...R,type:j.value})),className:`p-4 rounded-lg border-2 transition-all ${y.type===j.value?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:[c.jsx("div",{className:"text-2xl mb-2",children:j.icon}),c.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.label})]},j.value))}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("button",{onClick:e,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),c.jsx("button",{onClick:()=>o(2),className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Next"})]})]}),s===2&&c.jsxs(wt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Provide details"}),c.jsx("p",{className:"text-gray-600",children:"Help responders understand the situation"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Title *"}),c.jsx("input",{type:"text",value:y.title,onChange:j=>_(R=>({...R,title:j.target.value})),placeholder:"Brief description of the emergency",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{value:y.description,onChange:j=>_(R=>({...R,description:j.target.value})),placeholder:"Detailed description of what's happening...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"}),c.jsx("button",{onClick:l?C:v,className:`absolute bottom-2 right-2 p-2 rounded-lg ${l?"bg-red-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:l?c.jsx(Xb,{className:"h-4 w-4"}):c.jsx(Or,{className:"h-4 w-4"})})]}),l&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Recording... Click to stop"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Severity Level"}),c.jsxs("select",{value:y.severity,onChange:j=>_(R=>({...R,severity:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[c.jsx("option",{value:"low",children:"Low - Minor issue"}),c.jsx("option",{value:"medium",children:"Medium - Moderate concern"}),c.jsx("option",{value:"high",children:"High - Serious situation"}),c.jsx("option",{value:"critical",children:"Critical - Life threatening"})]})]}),c.jsx("div",{children:c.jsxs("button",{onClick:x,className:`w-full flex items-center justify-center space-x-2 p-3 border-2 border-dashed rounded-lg transition-colors ${h?"border-green-500 bg-green-50 text-green-700":"border-gray-300 hover:border-gray-400"}`,children:[c.jsx(Jd,{className:"h-5 w-5"}),c.jsx("span",{children:h?"Location captured ":"Capture current location *"})]})}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"anonymous",checked:y.isAnonymous,onChange:j=>_(R=>({...R,isAnonymous:j.target.checked})),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:"anonymous",className:"ml-2 text-sm text-gray-700",children:"Report anonymously (for safety)"})]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("button",{onClick:()=>o(1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Back"}),c.jsx("button",{onClick:()=>o(3),disabled:!y.title.trim()||!y.description.trim()||!h,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),s===3&&c.jsxs(wt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Privacy & Consent"}),c.jsx("p",{className:"text-gray-600",children:"Please review and consent to data processing for emergency response"})]}),c.jsx(oG,{onConsentChange:g,required:!0,className:"bg-blue-50 border border-blue-200 rounded-lg p-6"}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("button",{onClick:()=>o(2),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Back"}),c.jsx("button",{onClick:()=>o(4),disabled:!p,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Review"})]})]}),s===4&&c.jsxs(wt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Review your report"}),c.jsx("p",{className:"text-gray-600",children:"Make sure all information is accurate"})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-gray-900",children:"Emergency Type"}),c.jsx("p",{className:"text-gray-600 capitalize",children:y.type.replace("_"," ")})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-gray-900",children:"Title"}),c.jsx("p",{className:"text-gray-600",children:y.title})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-gray-900",children:"Description"}),c.jsx("p",{className:"text-gray-600",children:y.description})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-gray-900",children:"Severity"}),c.jsx("p",{className:`capitalize font-medium ${y.severity==="critical"?"text-red-600":y.severity==="high"?"text-orange-600":y.severity==="medium"?"text-yellow-600":"text-green-600"}`,children:y.severity})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-gray-900",children:"Location"}),c.jsx("p",{className:"text-gray-600",children:h?`${h.lat.toFixed(6)}, ${h.lng.toFixed(6)}`:"Not captured"})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-gray-900",children:"Reporting"}),c.jsx("p",{className:"text-gray-600",children:y.isAnonymous?"Anonymous report":"Identified report"})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-gray-900",children:"Data Consent"}),c.jsx("p",{className:"text-green-600",children:" Consented to emergency data processing"})]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("button",{onClick:()=>o(3),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Back"}),c.jsxs("button",{onClick:F,className:"flex items-center space-x-2 px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[c.jsx(zm,{className:"h-4 w-4"}),c.jsx("span",{children:"Submit Emergency Report"})]})]})]})]})};class lG{constructor(){this.mediaRecorder=null,this.audioChunks=[],this.isRecording=!1}async startRecording(){try{const e=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,sampleRate:44100}});this.mediaRecorder=new MediaRecorder(e,{mimeType:"audio/webm;codecs=opus"}),this.audioChunks=[],this.mediaRecorder.ondataavailable=n=>{n.data.size>0&&this.audioChunks.push(n.data)},this.mediaRecorder.start(100),this.isRecording=!0}catch(e){throw console.error("Failed to start recording:",e),new Error("Microphone access denied or not available")}}async stopRecording(){return new Promise((e,n)=>{if(!this.mediaRecorder||!this.isRecording){n(new Error("No active recording"));return}this.mediaRecorder.onstop=()=>{var i;const r=new Blob(this.audioChunks,{type:"audio/webm"});this.isRecording=!1,(i=this.mediaRecorder)==null||i.stream.getTracks().forEach(s=>s.stop()),e(r)},this.mediaRecorder.stop()})}async transcribeAudio(e){try{console.log("Transcribing audio with OpenAI Whisper...");const n=new File([e],"voice_message.webm",{type:"audio/webm"});return(await Pi.transcribeAudio(n)).text}catch(n){console.error("Real transcription failed, using mock:",n),await new Promise(i=>setTimeout(i,2e3));const r=["Emergency services are on their way to your location. Please stay calm and follow safety protocols.","We've received your report and dispatched the nearest medical team. ETA is approximately 8 minutes.","The situation is being monitored. Please evacuate the area immediately and proceed to the designated safe zone.","Additional resources have been requested. Keep this channel open for further updates.","Your location has been confirmed. Fire department and paramedics are en route."];return r[Math.floor(Math.random()*r.length)]}}async enhanceWithAI(e,n){try{return console.log("Enhancing voice message with GPT-4..."),await Pi.enhanceVoiceMessage(e,n||"emergency_response")}catch(r){console.error("Real enhancement failed, using basic enhancement:",r);const i=e.replace(/um|uh|er/gi,"").replace(/\s+/g," ").trim();return n?`[RESPONDER UPDATE] ${i} - Status: Active Response`:`[EMERGENCY RESPONSE] ${i}`}}async processVoiceReply(e,n,r,i){const s=Date.now(),o=await rr.storeVoiceMessage(e,n);try{const l=await this.transcribeAudio(e);await rr.updateVoiceMessage(o,{transcription:l});const u=await this.enhanceWithAI(l,"emergency_response");await rr.updateVoiceMessage(o,{aiEnhanced:u,status:"processed"});const h=(Date.now()-s)/1e3;return{id:o,audioBlob:e,transcription:l,aiEnhanced:u,timestamp:new Date,threadId:n,senderId:r,senderName:i,processingTime:h}}catch(l){throw await rr.updateVoiceMessage(o,{status:"failed"}),l}}getRecordingState(){return this.isRecording}async getStoredVoiceMessages(){return await rr.getVoiceMessages()}}const Pa=new lG,cG=Object.freeze(Object.defineProperty({__proto__:null,voiceService:Pa},Symbol.toStringTag,{value:"Module"})),uG=({threadId:t,onVoiceReply:e,disabled:n=!1})=>{const{sendMessage:r}=ys(),[i,s]=Y.useState(!1),[o,l]=Y.useState(!1),[u,h]=Y.useState(0),[f,p]=Y.useState(0),[g,y]=Y.useState(null),_=Y.useRef(),w=Y.useRef(),b=Y.useRef(),k=Y.useRef();Y.useEffect(()=>()=>{_.current&&clearInterval(_.current),k.current&&cancelAnimationFrame(k.current),w.current&&w.current.close()},[]);const x=async()=>{try{await Pa.startRecording(),s(!0),h(0),_.current=setInterval(()=>{h(X=>X+1)},1e3);const j=await navigator.mediaDevices.getUserMedia({audio:!0});w.current=new AudioContext,b.current=w.current.createAnalyser(),w.current.createMediaStreamSource(j).connect(b.current),b.current.fftSize=256;const z=b.current.frequencyBinCount,Q=new Uint8Array(z),$=()=>{if(b.current&&i){b.current.getByteFrequencyData(Q);const X=Q.reduce((te,ae)=>te+ae,0)/z;p(X/255),k.current=requestAnimationFrame($)}};$(),tt.success("Recording started")}catch(j){tt.error("Failed to start recording"),console.error("Recording error:",j)}},v=async()=>{try{const j=await Pa.stopRecording();s(!1),l(!0),p(0),_.current&&clearInterval(_.current),w.current&&w.current.close();const R=await Pa.processVoiceReply(j,t,"responder_user","Emergency Responder");y(R),r(t,R.aiEnhanced,"voice"),e==null||e(R),tt.success("Voice reply processed and sent")}catch(j){tt.error("Failed to process voice reply"),console.error("Processing error:",j)}finally{l(!1)}},C=j=>{const R=Math.floor(j/60),z=j%60;return`${R}:${z.toString().padStart(2,"0")}`},F=()=>{g&&new Audio(URL.createObjectURL(g.audioBlob)).play()};return c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:i?v:x,disabled:n||o,className:`relative p-3 rounded-full transition-all duration-200 ${i?"bg-red-600 text-white shadow-lg scale-110":o?"bg-gray-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 hover:scale-105"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[o?c.jsx(Kv,{className:"h-5 w-5 animate-spin"}):i?c.jsx(Xb,{className:"h-5 w-5"}):c.jsx(Or,{className:"h-5 w-5"}),i&&c.jsx(wt.div,{className:"absolute inset-0 rounded-full border-4 border-red-300",animate:{scale:1+f*.3,opacity:.7+f*.3},transition:{duration:.1}})]}),c.jsx(Ur,{children:i&&c.jsx(wt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute -top-12 left-1/2 transform -translate-x-1/2 bg-red-600 text-white px-3 py-1 rounded-lg text-sm font-medium",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),c.jsx("span",{children:C(u)})]})})})]}),c.jsx(Ur,{children:o&&c.jsxs(wt.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"flex items-center space-x-2 bg-blue-50 text-blue-700 px-3 py-2 rounded-lg text-sm",children:[c.jsx(Kv,{className:"h-4 w-4 animate-spin"}),c.jsx("span",{children:"Processing voice..."})]})}),g&&!i&&!o&&c.jsx("button",{onClick:F,className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Play last voice reply",children:c.jsx(ja,{className:"h-4 w-4"})}),c.jsx(Ur,{children:g&&!i&&!o&&c.jsxs(wt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-green-50 border border-green-200 rounded-lg p-3 max-w-xs",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx(b8,{className:"h-4 w-4 text-green-600"}),c.jsx("span",{className:"text-sm font-medium text-green-800",children:"Voice Reply Sent"}),c.jsx("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded-full",children:"[AI-enhanced]"})]}),c.jsx("p",{className:"text-sm text-green-700 mb-2",children:g.aiEnhanced}),c.jsxs("div",{className:"flex items-center justify-between text-xs text-green-600",children:[c.jsxs("span",{children:["Processed in ",g.processingTime.toFixed(1),"s"]}),c.jsx("span",{children:g.timestamp.toLocaleTimeString()})]})]})})]})},LP=({threadId:t,reportTitle:e,onClose:n})=>{const{sendMessage:r,getThreadMessages:i,currentUserRole:s}=ys(),[o,l]=Y.useState(""),[u,h]=Y.useState([]),f=Y.useRef(null),p=i(t);Y.useEffect(()=>{var C;(C=f.current)==null||C.scrollIntoView({behavior:"smooth"})},[p,u]);const g=()=>{o.trim()&&(r(t,o),l(""))},y=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),g())},_=C=>{h(F=>[...F,C])},w=C=>{new Audio(URL.createObjectURL(C.audioBlob)).play()},b=C=>{switch(C){case"responder":return"bg-blue-100 text-blue-800";case"coordinator":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},k=C=>{switch(C){case"responder":return"";case"coordinator":return"";case"reporter":return"";default:return""}},x=[...p.map(C=>({...C,type:"text"})),...u.map(C=>({id:C.id,threadId:C.threadId,senderId:C.senderId,senderName:C.senderName,senderRole:"responder",content:C.aiEnhanced,timestamp:C.timestamp,type:"voice",voiceData:C}))].sort((C,F)=>C.timestamp.getTime()-F.timestamp.getTime()),v=s&&["medic","firefighter","police","search_rescue","coordinator"].includes(s);return c.jsxs("div",{className:"flex flex-col h-full bg-white rounded-lg border border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:"Emergency Chat"}),e&&c.jsx("p",{className:"text-sm text-gray-600 truncate",children:e})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{className:"p-2 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",children:c.jsx(T8,{className:"h-4 w-4"})}),n&&c.jsx("button",{onClick:n,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:""})]})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[x.length===0?c.jsxs("div",{className:"text-center text-gray-500 py-8",children:[c.jsx("div",{className:"text-4xl mb-2",children:""}),c.jsx("p",{children:"Start the conversation with responders"}),c.jsx("p",{className:"text-sm mt-1",children:"They'll be notified of your emergency"})]}):x.map(C=>c.jsx("div",{className:`flex ${C.senderRole==="reporter"?"justify-end":"justify-start"}`,children:c.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${C.senderRole==="reporter"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[C.senderRole!=="reporter"&&c.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[c.jsx("span",{className:"text-xs",children:k(C.senderRole)}),c.jsx("span",{className:"text-xs font-medium",children:C.senderName}),c.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${b(C.senderRole)}`,children:C.senderRole})]}),C.type==="voice"&&"voiceData"in C&&c.jsxs("div",{className:"mb-2",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx(b8,{className:"h-4 w-4"}),c.jsx("span",{className:"text-xs font-medium",children:"Voice Reply"}),c.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"[AI-enhanced]"})]}),c.jsxs("button",{onClick:()=>w(C.voiceData),className:"flex items-center space-x-2 p-2 bg-white/20 rounded-lg hover:bg-white/30 transition-colors",children:[c.jsx(ja,{className:"h-4 w-4"}),c.jsx("span",{className:"text-xs",children:"Play Audio"})]})]}),c.jsx("p",{className:"text-sm",children:C.content}),C.type==="voice"&&"voiceData"in C&&c.jsxs("div",{className:"mt-2 pt-2 border-t border-white/20",children:[c.jsxs("p",{className:"text-xs opacity-75",children:['Original: "',C.voiceData.transcription,'"']}),c.jsxs("p",{className:"text-xs opacity-75 mt-1",children:["Processed in ",C.voiceData.processingTime.toFixed(1),"s"]})]}),c.jsx("p",{className:`text-xs mt-1 ${C.senderRole==="reporter"?"text-blue-200":"text-gray-500"}`,children:Bi(C.timestamp,"HH:mm")})]})},C.id)),c.jsx("div",{ref:f})]}),c.jsx("div",{className:"p-4 border-t border-gray-200",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(t$,{className:"h-4 w-4"})}),c.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(Jd,{className:"h-4 w-4"})}),c.jsx("div",{className:"flex-1 relative",children:c.jsx("textarea",{value:o,onChange:C=>l(C.target.value),onKeyPress:y,placeholder:"Type your message...",rows:1,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"})}),v&&c.jsx(uG,{threadId:t,onVoiceReply:_}),c.jsx("button",{onClick:g,disabled:!o.trim(),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c.jsx(zm,{className:"h-4 w-4"})})]})})]})},dG=()=>{const{crisisMode:t,enableCrisisMode:e,disableCrisisMode:n,syncOfflineData:r}=ys(),i=navigator.onLine,s=()=>{t.isEnabled?n():e()};return c.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-4 border border-gray-200/50",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:`p-2 rounded-lg ${t.isEnabled?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"}`,children:t.isEnabled?c.jsx(Sn,{className:"h-5 w-5"}):c.jsx(r$,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:"Crisis Mode"}),c.jsx("p",{className:"text-sm text-gray-600",children:t.isEnabled?"Offline-ready emergency mode":"Standard mode"})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("div",{className:`flex items-center space-x-1 text-xs px-2 py-1 rounded-full ${i?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[i?c.jsx(Vm,{className:"h-3 w-3"}):c.jsx(za,{className:"h-3 w-3"}),c.jsx("span",{children:i?"Online":"Offline"})]}),t.offlineQueue.length>0&&i&&c.jsxs("button",{onClick:r,className:"flex items-center space-x-1 px-3 py-1 bg-blue-600 text-white text-xs rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(Us,{className:"h-3 w-3"}),c.jsxs("span",{children:["Sync (",t.offlineQueue.length,")"]})]}),c.jsx("button",{onClick:s,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${t.isEnabled?"bg-red-600":"bg-gray-200"}`,children:c.jsx(wt.span,{animate:{x:t.isEnabled?20:2},className:"inline-block h-4 w-4 transform rounded-full bg-white shadow-lg transition-transform"})})]})]}),t.isEnabled&&c.jsxs(wt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 pt-4 border-t border-gray-200/50",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Offline Queue"}),c.jsxs("p",{className:"font-medium text-gray-900",children:[t.offlineQueue.length," reports"]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Last Sync"}),c.jsx("p",{className:"font-medium text-gray-900",children:t.lastSync.toLocaleTimeString()})]})]}),c.jsx("div",{className:"mt-3 p-3 bg-amber-50 rounded-lg",children:c.jsxs("p",{className:"text-xs text-amber-800",children:[c.jsx("strong",{children:"Crisis Mode Active:"})," Reports are cached locally and will sync when online. Low-data mode enabled to conserve bandwidth."]})})]})]})},hG=({onReportEmergency:t,onShowNearbyResponders:e})=>{const{reports:n,responders:r}=ys(),[i,s]=Y.useState(!0),o=[{id:"report",title:"Report Emergency",description:"Submit a new emergency report",icon:si,color:"bg-red-500 hover:bg-red-600",textColor:"text-white",action:t},{id:"responders",title:"Find Responders",description:"View nearby emergency responders",icon:Ua,color:"bg-blue-500 hover:bg-blue-600",textColor:"text-white",action:e},{id:"emergency-call",title:"Emergency Call",description:"Direct line to emergency services",icon:T8,color:"bg-green-500 hover:bg-green-600",textColor:"text-white",action:()=>{tt.success("Emergency services contacted!")}},{id:"location",title:"Share Location",description:"Broadcast your current location",icon:Jd,color:"bg-purple-500 hover:bg-purple-600",textColor:"text-white",action:()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(u=>{tt.success(`Location shared: ${u.coords.latitude.toFixed(4)}, ${u.coords.longitude.toFixed(4)}`)},()=>{tt.error("Unable to access location")}):tt.error("Geolocation not supported")}}],l=[{label:"Active Reports",value:n.filter(u=>u.status==="active").length,icon:si,color:"text-red-600"},{label:"Available Responders",value:r.filter(u=>u.isAvailable).length,icon:Ua,color:"text-green-600"},{label:"Avg Response Time",value:"4.2m",icon:zr,color:"text-blue-600"}];return c.jsxs(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-sm rounded-xl border border-gray-200/50 overflow-hidden shadow-lg",children:[c.jsx("div",{className:"p-4 border-b border-gray-200/50 bg-gradient-to-r from-blue-50 to-purple-50",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Us,{className:"h-5 w-5 text-blue-600"}),c.jsx("h3",{className:"font-semibold text-gray-900",children:"Quick Actions"}),c.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:"Live"})]}),c.jsx("button",{onClick:()=>s(!i),className:"text-gray-500 hover:text-gray-700 transition-colors",children:i?"":"+"})]})}),c.jsx(wt.div,{initial:!1,animate:{height:i?"auto":0},className:"overflow-hidden",children:c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsx("div",{className:"grid grid-cols-3 gap-3",children:l.map((u,h)=>c.jsxs(wt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:h*.1},className:"text-center p-3 bg-gray-50 rounded-lg",children:[c.jsx(u.icon,{className:`h-4 w-4 mx-auto mb-1 ${u.color}`}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:u.value}),c.jsx("p",{className:"text-xs text-gray-600",children:u.label})]},u.label))}),c.jsx("div",{className:"grid grid-cols-2 gap-3",children:o.map((u,h)=>c.jsx(wt.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:h*.1},onClick:u.action,className:`${u.color} ${u.textColor} p-4 rounded-lg transition-all duration-200 transform hover:scale-105 hover:shadow-lg group`,children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(u.icon,{className:"h-5 w-5 group-hover:scale-110 transition-transform"}),c.jsxs("div",{className:"text-left",children:[c.jsx("p",{className:"font-medium text-sm",children:u.title}),c.jsx("p",{className:"text-xs opacity-90",children:u.description})]})]})},u.id))}),c.jsxs("div",{className:"flex items-center justify-center space-x-2 pt-2 border-t border-gray-200/50",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),c.jsx("span",{className:"text-xs text-gray-600",children:"System Online"})]}),c.jsx("span",{className:"text-gray-300",children:""}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Tr,{className:"h-3 w-3 text-green-500"}),c.jsx("span",{className:"text-xs text-gray-600",children:"All Services Active"})]})]})]})})]})},fG=({location:t,className:e=""})=>{const[n,r]=Y.useState(null),[i,s]=Y.useState(!0),[o,l]=Y.useState(null);Y.useEffect(()=>{u()},[t.lat,t.lng]);const u=async()=>{try{s(!0),l(null);const p=await e_.getWeatherForLocation(t.lat,t.lng);r(p)}catch(p){l("Failed to load weather data"),console.error("Weather loading error:",p)}finally{s(!1)}},h=p=>{switch(p.toLowerCase()){case"clear":return c.jsx(o$,{className:"h-6 w-6 text-yellow-500"});case"clouds":return c.jsx(yx,{className:"h-6 w-6 text-gray-500"});case"rain":return c.jsx(z9,{className:"h-6 w-6 text-blue-500"});case"snow":return c.jsx(q9,{className:"h-6 w-6 text-blue-300"});case"thunderstorm":return c.jsx(Us,{className:"h-6 w-6 text-purple-500"});default:return c.jsx(yx,{className:"h-6 w-6 text-gray-500"})}},f=p=>{switch(p){case"extreme":return"bg-red-100 text-red-800 border-red-200";case"severe":return"bg-orange-100 text-orange-800 border-orange-200";case"moderate":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}};return i?c.jsx("div",{className:`bg-white/70 backdrop-blur-sm rounded-lg p-4 border border-gray-200/50 ${e}`,children:c.jsxs("div",{className:"animate-pulse",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded"}),c.jsx("div",{className:"h-4 bg-gray-300 rounded w-20"})]}),c.jsx("div",{className:"mt-2 h-8 bg-gray-300 rounded w-16"})]})}):o||!n?c.jsx("div",{className:`bg-white/70 backdrop-blur-sm rounded-lg p-4 border border-gray-200/50 ${e}`,children:c.jsxs("div",{className:"text-center text-gray-500",children:[c.jsx(yx,{className:"h-6 w-6 mx-auto mb-1 opacity-50"}),c.jsx("p",{className:"text-xs",children:"Weather unavailable"})]})}):c.jsxs(wt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:`bg-white/70 backdrop-blur-sm rounded-lg border border-gray-200/50 overflow-hidden ${e}`,children:[c.jsx(Ur,{children:n.alerts&&n.alerts.length>0&&c.jsx(wt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:`p-3 border-b ${f(n.alerts[0].severity)}`,children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(si,{className:"h-4 w-4"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-xs font-medium truncate",children:n.alerts[0].title}),c.jsx("p",{className:"text-xs opacity-75 truncate",children:n.alerts[0].description})]})]})})}),c.jsxs("div",{className:"p-4",children:[c.jsx("div",{className:"flex items-center justify-between mb-3",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[h(n.condition),c.jsxs("div",{children:[c.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[n.temperature,"C"]}),c.jsx("p",{className:"text-xs text-gray-600 capitalize",children:n.description})]})]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(H9,{className:"h-3 w-3 text-blue-500"}),c.jsx("span",{className:"text-gray-600",children:"Humidity"}),c.jsxs("span",{className:"font-medium text-gray-900",children:[n.humidity,"%"]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(d$,{className:"h-3 w-3 text-gray-500"}),c.jsx("span",{className:"text-gray-600",children:"Wind"}),c.jsxs("span",{className:"font-medium text-gray-900",children:[n.windSpeed," m/s"]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Xd,{className:"h-3 w-3 text-purple-500"}),c.jsx("span",{className:"text-gray-600",children:"Visibility"}),c.jsxs("span",{className:"font-medium text-gray-900",children:[n.visibility," km"]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(K9,{className:"h-3 w-3 text-orange-500"}),c.jsx("span",{className:"text-gray-600",children:"Pressure"}),c.jsxs("span",{className:"font-medium text-gray-900",children:[n.pressure," hPa"]})]})]}),(n.condition==="Rain"||n.condition==="Thunderstorm"||n.windSpeed>10)&&c.jsx("div",{className:"mt-3 p-2 bg-amber-50 border border-amber-200 rounded-lg",children:c.jsxs("p",{className:"text-xs text-amber-800",children:[c.jsx("strong",{children:"Emergency Impact:"})," Weather conditions may affect response times and safety protocols."]})})]})]})},pG=()=>{const{reports:t,responders:e,currentUserRole:n}=ys();xs();const[r,i]=Y.useState(!1),[s,o]=Y.useState(null),[l,u]=Y.useState(!1),[h,f]=Y.useState(!1),p=t.filter(v=>v.status==="active"),g=t.filter(v=>v.severity==="critical"),y=e.filter(v=>v.isAvailable),_=p.length>0?p[0].location:{lat:40.7128,lng:-74.006},w=[{name:"Active Emergencies",value:p.length,icon:si,color:"red",change:"+2 from last hour"},{name:"Available Responders",value:y.length,icon:Ua,color:"green",change:"3 nearby"},{name:"Response Time",value:"4.2 min",icon:zr,color:"blue",change:"-30s from average"},{name:"Critical Alerts",value:g.length,icon:qm,color:"orange",change:"Immediate attention"}],b=v=>{i(!1),o(v),u(!0)},k=()=>{f(!h)},x=s?t.find(v=>v.id===s):null;return r?c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-3xl font-bold text-red-600",children:"Emergency Report"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Report an emergency situation"})]}),c.jsx(aG,{onSubmit:b,onCancel:()=>i(!1)})]}):c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-red-600 to-orange-600 bg-clip-text text-transparent",children:"Emergency Command Center"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Real-time crisis coordination and response"})]}),c.jsxs("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-medium transition-colors shadow-lg",children:[c.jsx(P8,{className:"h-5 w-5"}),c.jsx("span",{children:"Report Emergency"})]})]}),c.jsx(dG,{}),c.jsx(hG,{onReportEmergency:()=>i(!0),onShowNearbyResponders:k}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:w.map((v,C)=>c.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:C*.1},className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-gray-200/50",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`flex-shrink-0 p-3 rounded-lg ${v.color==="red"?"bg-red-100 text-red-600":v.color==="green"?"bg-green-100 text-green-600":v.color==="blue"?"bg-blue-100 text-blue-600":"bg-orange-100 text-orange-600"}`,children:c.jsx(v.icon,{className:"h-6 w-6"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:v.name}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.value}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:v.change})]})]})},v.name))}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsx("div",{className:"lg:col-span-2",children:c.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl border border-gray-200/50 overflow-hidden",children:[c.jsx("div",{className:"p-6 border-b border-gray-200/50",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Live Emergency Map"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[c.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),c.jsx("span",{children:"Critical"})]}),c.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[c.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),c.jsx("span",{children:"High"})]}),c.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),c.jsx("span",{children:"Responders"})]})]})]})}),c.jsx(IP,{height:"500px",onReportSelect:o,selectedReport:s,showResponders:h})]})}),c.jsxs("div",{className:"space-y-6",children:[c.jsx(fG,{location:_,className:"w-full"}),c.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl border border-gray-200/50 overflow-hidden",children:[c.jsx("div",{className:"p-4 border-b border-gray-200/50",children:c.jsx("h3",{className:"font-semibold text-gray-900",children:"Active Emergencies"})}),c.jsx("div",{className:"max-h-64 overflow-y-auto",children:p.length===0?c.jsxs("div",{className:"p-4 text-center text-gray-500",children:[c.jsx(O9,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),c.jsx("p",{className:"text-sm",children:"No active emergencies"})]}):c.jsx("div",{className:"divide-y divide-gray-200/50",children:p.slice(0,5).map(v=>c.jsx("button",{onClick:()=>{o(v.id),u(!0)},className:"w-full p-4 text-left hover:bg-gray-50/50 transition-colors",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:`w-3 h-3 rounded-full mt-1 ${v.severity==="critical"?"bg-red-500":v.severity==="high"?"bg-orange-500":v.severity==="medium"?"bg-yellow-500":"bg-green-500"}`}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:v.title}),c.jsxs("p",{className:"text-xs text-gray-500 capitalize",children:[v.type.replace("_"," "),"  ",Bi(v.timestamp,"HH:mm")]})]})]})},v.id))})})]}),c.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl border border-gray-200/50 overflow-hidden",children:[c.jsx("div",{className:"p-4 border-b border-gray-200/50",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:"Available Responders"}),h&&c.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",children:"Showing on Map"})]})}),c.jsx("div",{className:"max-h-48 overflow-y-auto",children:y.length===0?c.jsxs("div",{className:"p-4 text-center text-gray-500",children:[c.jsx(Ua,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),c.jsx("p",{className:"text-sm",children:"No responders available"})]}):c.jsx("div",{className:"divide-y divide-gray-200/50",children:y.slice(0,4).map(v=>c.jsx("div",{className:"p-3",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:v.name}),c.jsx("p",{className:"text-xs text-gray-500 capitalize",children:v.role.replace("_"," ")})]})]})},v.id))})})]})]})]}),l&&x&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsx("div",{className:"bg-white rounded-xl w-full max-w-2xl h-96",children:c.jsx(LP,{threadId:x.chatThreadId,reportTitle:x.title,onClose:()=>u(!1)})})})]})},mG=()=>{const{reports:t,responders:e,currentUserRole:n,registerResponder:r,setResponderAvailability:i}=ys(),{walletAddress:s}=xs(),[o,l]=Y.useState(!n),[u,h]=Y.useState(null),[f,p]=Y.useState(!1),[g,y]=Y.useState({name:"",role:"volunteer",skills:"",verificationCode:"",phone:""}),_=e.find(C=>C.id===s),w=t.filter(C=>C.responders.includes(s||"")),b=t.filter(C=>C.status==="active").slice(0,5),k=async()=>{if(!g.name.trim()||!g.verificationCode.trim()){tt.error("Name and verification code are required");return}try{await r({name:g.name,role:g.role,skills:g.skills.split(",").map(C=>C.trim()).filter(Boolean),verificationCode:g.verificationCode,isVerified:!0,isAvailable:!0,contactInfo:{phone:g.phone||void 0}}),l(!1),tt.success("Responder registration successful!")}catch{tt.error("Registration failed")}},x=()=>{_&&(i(!_.isAvailable),tt.success(`Status updated to ${_.isAvailable?"Busy":"Available"}`))},v=u?t.find(C=>C.id===u):null;return o?c.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx(Sn,{className:"h-16 w-16 text-blue-600 mx-auto mb-4"}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Responder Registration"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Join the emergency response network"})]}),c.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-8 border border-gray-200/50",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),c.jsx("input",{type:"text",value:g.name,onChange:C=>y(F=>({...F,name:C.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your full name"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),c.jsxs("select",{value:g.role,onChange:C=>y(F=>({...F,role:C.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[c.jsx("option",{value:"volunteer",children:"Volunteer"}),c.jsx("option",{value:"medic",children:"Medical Professional"}),c.jsx("option",{value:"firefighter",children:"Firefighter"}),c.jsx("option",{value:"police",children:"Police Officer"}),c.jsx("option",{value:"search_rescue",children:"Search & Rescue"}),c.jsx("option",{value:"coordinator",children:"Emergency Coordinator"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills & Certifications"}),c.jsx("input",{type:"text",value:g.skills,onChange:C=>y(F=>({...F,skills:C.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"CPR, First Aid, EMT, etc. (comma separated)"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification Code *"}),c.jsx("input",{type:"text",value:g.verificationCode,onChange:C=>y(F=>({...F,verificationCode:C.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Official verification code from your organization"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Contact your emergency services coordinator for a verification code"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Phone"}),c.jsx("input",{type:"tel",value:g.phone,onChange:C=>y(F=>({...F,phone:C.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"+1 (555) 123-4567"})]}),c.jsx("button",{onClick:k,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium transition-colors",children:"Register as Responder"})]})})]}):c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"Responder Portal"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Emergency response coordination dashboard"})]}),_&&c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:`flex items-center space-x-2 px-4 py-2 rounded-lg ${_.isAvailable?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${_.isAvailable?"bg-green-500":"bg-gray-500"}`}),c.jsx("span",{className:"text-sm font-medium",children:_.isAvailable?"Available":"Busy"})]}),c.jsx("button",{onClick:x,className:`px-4 py-2 rounded-lg font-medium transition-colors ${_.isAvailable?"bg-gray-600 hover:bg-gray-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:_.isAvailable?"Go Busy":"Go Available"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-gray-200/50",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-3 bg-red-100 text-red-600 rounded-lg",children:c.jsx(si,{className:"h-6 w-6"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Calls"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.length})]})]})}),c.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-gray-200/50",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-lg",children:c.jsx(Jd,{className:"h-6 w-6"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Nearby Calls"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.length})]})]})}),c.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-gray-200/50",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-3 bg-green-100 text-green-600 rounded-lg",children:c.jsx(Tr,{className:"h-6 w-6"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"12"})]})]})}),c.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-gray-200/50",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-3 bg-orange-100 text-orange-600 rounded-lg",children:c.jsx(zr,{className:"h-6 w-6"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Response"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"3.2m"})]})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsx("div",{className:"lg:col-span-2",children:c.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl border border-gray-200/50 overflow-hidden",children:[c.jsx("div",{className:"p-6 border-b border-gray-200/50",children:c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Emergency Locations"})}),c.jsx(IP,{height:"500px",onReportSelect:h,selectedReport:u})]})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl border border-gray-200/50 overflow-hidden",children:[c.jsx("div",{className:"p-4 border-b border-gray-200/50",children:c.jsx("h3",{className:"font-semibold text-gray-900",children:"Your Assigned Calls"})}),c.jsx("div",{className:"max-h-64 overflow-y-auto",children:w.length===0?c.jsxs("div",{className:"p-4 text-center text-gray-500",children:[c.jsx(Tr,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),c.jsx("p",{className:"text-sm",children:"No active assignments"})]}):c.jsx("div",{className:"divide-y divide-gray-200/50",children:w.map(C=>c.jsx("button",{onClick:()=>{h(C.id),p(!0)},className:"w-full p-4 text-left hover:bg-gray-50/50 transition-colors",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:C.title}),c.jsxs("p",{className:"text-xs text-gray-500 capitalize",children:[C.type.replace("_"," "),"  ",C.location.address||"Location available"]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${C.severity==="critical"?"bg-red-500":C.severity==="high"?"bg-orange-500":"bg-yellow-500"}`}),c.jsx(Gv,{className:"h-4 w-4 text-gray-400"})]})]})},C.id))})})]}),c.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl border border-gray-200/50 overflow-hidden",children:[c.jsx("div",{className:"p-4 border-b border-gray-200/50",children:c.jsx("h3",{className:"font-semibold text-gray-900",children:"Nearby Emergencies"})}),c.jsx("div",{className:"max-h-48 overflow-y-auto",children:b.map(C=>c.jsx("div",{className:"p-3 border-b border-gray-200/50 last:border-b-0",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:C.title}),c.jsx("p",{className:"text-xs text-gray-500",children:C.location.address||`${C.location.lat.toFixed(4)}, ${C.location.lng.toFixed(4)}`})]}),c.jsx("div",{className:`w-2 h-2 rounded-full ${C.severity==="critical"?"bg-red-500":C.severity==="high"?"bg-orange-500":"bg-yellow-500"}`})]})},C.id))})]})]})]}),f&&v&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsx("div",{className:"bg-white rounded-xl w-full max-w-2xl h-96",children:c.jsx(LP,{threadId:v.chatThreadId,reportTitle:v.title,onClose:()=>p(!1)})})})]})},_A=()=>{const{verificationReports:t,filterByTags:e,searchReports:n}=Xo(),[r,i]=Y.useState(""),[s,o]=Y.useState([]),[l,u]=Y.useState("all"),h=["protest","explosion","medical_emergency","displacement","aid_needed","natural_disaster","conflict","infrastructure_damage","humanitarian_crisis","government_action","civilian_impact","other"],f=t.filter(w=>{const b=r===""||n(r).includes(w),k=s.length===0||e(s).includes(w),x=l==="all"||w.verificationStatus===l;return b&&k&&x}),p={total:t.length,verified:t.filter(w=>w.verificationStatus==="verified").length,flagged:t.filter(w=>w.verificationStatus==="flagged").length,avgTrustScore:t.length>0?Math.round(t.reduce((w,b)=>w+b.overallTrustScore,0)/t.length):0},g=w=>{o(b=>b.includes(w)?b.filter(k=>k!==w):[...b,w])},y=w=>{switch(w){case"verified":return"bg-green-100 text-green-800";case"flagged":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},_=w=>w>=80?"text-green-600":w>=60?"text-yellow-600":"text-red-600";return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Verification Dashboard"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor and analyze media verification reports"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Sn,{className:"h-8 w-8 text-blue-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Reports"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.total})]})]})}),c.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Tr,{className:"h-8 w-8 text-green-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Verified"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.verified})]})]})}),c.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(si,{className:"h-8 w-8 text-red-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Flagged"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.flagged})]})]})}),c.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(qm,{className:"h-8 w-8 text-purple-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Trust Score"}),c.jsxs("p",{className:`text-2xl font-bold ${_(p.avgTrustScore)}`,children:[p.avgTrustScore,"%"]})]})]})})]}),c.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(bp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search reports by content, summary, or facts...",value:r,onChange:w=>i(w.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(A8,{className:"h-4 w-4 text-gray-500"}),c.jsxs("select",{value:l,onChange:w=>u(w.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"verified",children:"Verified"}),c.jsx("option",{value:"flagged",children:"Flagged"}),c.jsx("option",{value:"pending",children:"Pending"})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Filter by Event Type:"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(w=>c.jsx("button",{onClick:()=>g(w),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${s.includes(w)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:w.replace("_"," ")},w))})]})]})}),c.jsx("div",{className:"space-y-4",children:f.length===0?c.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border border-gray-200",children:[c.jsx(Sn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No reports found"}),c.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria"})]}):f.map((w,b)=>c.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:b*.1},className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[c.jsxs("h3",{className:"font-semibold text-gray-900",children:["Report #",w.id.slice(-8)]}),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y(w.verificationStatus)}`,children:w.verificationStatus}),c.jsx("div",{className:"flex items-center space-x-1",children:w.aiAnalysis.eventTags.slice(0,2).map((k,x)=>c.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:k.replace("_"," ")},x))})]}),c.jsx("p",{className:"text-gray-700 mb-3 line-clamp-2",children:w.aiAnalysis.summary}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Trust Score"}),c.jsxs("p",{className:`font-medium ${_(w.overallTrustScore)}`,children:[w.overallTrustScore,"%"]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Urgency"}),c.jsxs("p",{className:"font-medium text-gray-900",children:[w.aiAnalysis.urgencyLevel,"/10"]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Co-signatures"}),c.jsx("p",{className:"font-medium text-gray-900",children:w.coSignatures.length})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-500",children:"Created"}),c.jsx("p",{className:"font-medium text-gray-900",children:Bi(w.createdAt,"MMM d, HH:mm")})]})]})]}),c.jsx("div",{className:"ml-4 text-right",children:w.deepfakeAnalysis&&c.jsxs("div",{className:`px-2 py-1 rounded text-xs font-medium ${w.deepfakeAnalysis.riskLevel==="low"?"bg-green-100 text-green-800":w.deepfakeAnalysis.riskLevel==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:["Deepfake: ",w.deepfakeAnalysis.riskLevel]})})]})},w.id))})]})},gG=()=>{const{verificationReports:t}=Xo(),[e,n]=Y.useState("dashboard"),r=[{id:"dashboard",name:"Dashboard",icon:qm},{id:"upload",name:"Verify Media",icon:fs},{id:"search",name:"Search Reports",icon:bp}];return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsxs(wt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-center space-x-3 mb-4",children:[c.jsx(Sn,{className:"h-12 w-12 text-blue-600"}),c.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800 bg-clip-text text-transparent",children:"Fake News Shield"})]}),c.jsx(wt.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-gray-600 text-lg max-w-2xl mx-auto",children:"Advanced media verification with AI-powered deepfake detection, content analysis, and expert co-signatures"})]}),c.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl border border-gray-200/50 p-2",children:c.jsx("div",{className:"flex space-x-2",children:r.map(i=>c.jsxs("button",{onClick:()=>n(i.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${e===i.id?"bg-blue-600 text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[c.jsx(i.icon,{className:"h-4 w-4"}),c.jsx("span",{children:i.name})]},i.id))})}),c.jsxs(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[e==="dashboard"&&c.jsx(_A,{}),e==="upload"&&c.jsxs("div",{className:"bg-white rounded-xl p-8 border border-gray-200 text-center",children:[c.jsx(fs,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Media Verification Upload"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Upload media files to the main Upload page for comprehensive verification analysis"}),c.jsxs("a",{href:"/upload",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(fs,{className:"h-4 w-4 mr-2"}),"Go to Upload Page"]})]}),e==="search"&&c.jsxs("div",{className:"bg-white rounded-xl p-8 border border-gray-200",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx(bp,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Search Verification Reports"}),c.jsxs("p",{className:"text-gray-600",children:["Search through ",t.length," verification reports by content, tags, or metadata"]})]}),c.jsx(_A,{})]})]},e)]})},xG=()=>c.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(jr,{to:"/emergency",className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(wp,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Privacy Policy"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"How we protect and handle your data"})]})]}),c.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:c.jsxs("div",{className:"p-8 space-y-8",children:[c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx(Sn,{className:"h-6 w-6 text-blue-600 mt-1"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Our Commitment to Privacy"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:"ProofVault Crisis Response is committed to protecting your privacy and ensuring the security of your personal information. This policy explains how we collect, use, and protect your data when you use our emergency response and evidence verification platform."}),c.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[c.jsx("strong",{children:"Last updated:"})," ",new Date().toLocaleDateString()]})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx(V9,{className:"h-6 w-6 text-green-600 mt-1"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Information We Collect"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-gray-900",children:"Emergency Reports"}),c.jsxs("ul",{className:"text-gray-700 text-sm space-y-1 mt-1",children:[c.jsx("li",{children:" Location data (GPS coordinates) for emergency response"}),c.jsx("li",{children:" Media files (images, audio, video) you upload"}),c.jsx("li",{children:" Description and details of emergency situations"}),c.jsx("li",{children:" Timestamp and metadata of reports"})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-gray-900",children:"Account Information"}),c.jsxs("ul",{className:"text-gray-700 text-sm space-y-1 mt-1",children:[c.jsx("li",{children:" Wallet address for blockchain verification"}),c.jsx("li",{children:" Responder credentials and verification codes"}),c.jsx("li",{children:" Communication preferences"})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-gray-900",children:"Technical Data"}),c.jsxs("ul",{className:"text-gray-700 text-sm space-y-1 mt-1",children:[c.jsx("li",{children:" Device information and browser type"}),c.jsx("li",{children:" IP address and general location"}),c.jsx("li",{children:" Usage analytics and performance data"})]})]})]})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx(Xd,{className:"h-6 w-6 text-purple-600 mt-1"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"How We Use Your Information"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[c.jsx("h3",{className:"font-medium text-blue-900",children:"Emergency Response"}),c.jsx("p",{className:"text-blue-800 text-sm mt-1",children:"Location and emergency data to coordinate response efforts and notify appropriate responders."})]}),c.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"Evidence Verification"}),c.jsx("p",{className:"text-green-800 text-sm mt-1",children:"AI analysis and blockchain recording to verify authenticity and prevent misinformation."})]}),c.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[c.jsx("h3",{className:"font-medium text-purple-900",children:"Platform Improvement"}),c.jsx("p",{className:"text-purple-800 text-sm mt-1",children:"Anonymized analytics to improve response times and platform effectiveness."})]})]})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx(X9,{className:"h-6 w-6 text-red-600 mt-1"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Data Protection & Security"}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[c.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Encryption"}),c.jsx("p",{className:"text-gray-700 text-sm",children:"All data is encrypted in transit and at rest using industry-standard AES-256 encryption."})]}),c.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[c.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Blockchain Security"}),c.jsx("p",{className:"text-gray-700 text-sm",children:"Evidence hashes are recorded on Algorand blockchain for immutable proof of existence."})]}),c.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[c.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Access Controls"}),c.jsx("p",{className:"text-gray-700 text-sm",children:"Strict role-based access controls ensure only authorized personnel can view sensitive data."})]}),c.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[c.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Data Minimization"}),c.jsx("p",{className:"text-gray-700 text-sm",children:"We collect only the minimum data necessary for emergency response and verification."})]})]})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx(Ua,{className:"h-6 w-6 text-orange-600 mt-1"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Data Sharing"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"p-4 border-l-4 border-green-500 bg-green-50",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"Emergency Services"}),c.jsx("p",{className:"text-green-800 text-sm mt-1",children:"Emergency reports are shared with relevant emergency services and verified responders to coordinate response efforts."})]}),c.jsxs("div",{className:"p-4 border-l-4 border-blue-500 bg-blue-50",children:[c.jsx("h3",{className:"font-medium text-blue-900",children:"Verification Partners"}),c.jsx("p",{className:"text-blue-800 text-sm mt-1",children:"Media content may be shared with trusted verification organizations for expert analysis and co-signing."})]}),c.jsxs("div",{className:"p-4 border-l-4 border-red-500 bg-red-50",children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Legal Requirements"}),c.jsx("p",{className:"text-red-800 text-sm mt-1",children:"We may disclose information when required by law or to protect public safety during emergencies."})]})]})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx(Dc,{className:"h-6 w-6 text-indigo-600 mt-1"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Your Rights"}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-gray-900",children:"Access & Portability"}),c.jsx("p",{className:"text-gray-700 mt-1",children:"Request copies of your personal data in a portable format."})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-gray-900",children:"Correction"}),c.jsx("p",{className:"text-gray-700 mt-1",children:"Update or correct inaccurate personal information."})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-gray-900",children:"Deletion"}),c.jsx("p",{className:"text-gray-700 mt-1",children:"Request deletion of your data (subject to legal requirements)."})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-gray-900",children:"Opt-out"}),c.jsx("p",{className:"text-gray-700 mt-1",children:"Withdraw consent for non-essential data processing."})]})]})]})]}),c.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Contact Us"}),c.jsx("p",{className:"text-gray-700 mb-4",children:"If you have questions about this privacy policy or want to exercise your rights, contact us:"}),c.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:c.jsxs("p",{className:"text-sm text-gray-700",children:[c.jsx("strong",{children:"Email:"})," privacy@proofvault.io",c.jsx("br",{}),c.jsx("strong",{children:"Address:"})," ProofVault Crisis Response, 123 Emergency Lane, Safety City, SC 12345",c.jsx("br",{}),c.jsx("strong",{children:"Response Time:"})," We respond to privacy requests within 30 days."]})})]})]})})]}),yG=()=>c.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(jr,{to:"/emergency",className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(wp,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Terms of Service"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Legal terms and conditions for using ProofVault"})]})]}),c.jsx(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:c.jsxs("div",{className:"p-8 space-y-8",children:[c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx(Ys,{className:"h-6 w-6 text-blue-600 mt-1"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Agreement to Terms"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:'By accessing and using ProofVault Crisis Response ("the Service"), you agree to be bound by these Terms of Service. This platform is designed for emergency response coordination and evidence verification. Use of this service during actual emergencies should complement, not replace, official emergency services.'}),c.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[c.jsx("strong",{children:"Effective Date:"})," ",new Date().toLocaleDateString()]})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx(si,{className:"h-6 w-6 text-red-600 mt-1"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Emergency Use Guidelines"}),c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-red-800 mb-2",children:[c.jsx(si,{className:"h-4 w-4"}),c.jsx("span",{className:"font-medium",children:"IMPORTANT: Life-Threatening Emergencies"})]}),c.jsx("p",{className:"text-red-700 text-sm",children:"For immediate life-threatening emergencies, always call your local emergency number (911, 112, etc.) FIRST. ProofVault is a supplementary tool for coordination and evidence management."})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-gray-900",children:"Appropriate Use"}),c.jsxs("ul",{className:"text-gray-700 text-sm space-y-1 mt-1",children:[c.jsx("li",{children:" Coordinating emergency response efforts"}),c.jsx("li",{children:" Documenting and verifying evidence"}),c.jsx("li",{children:" Communicating with verified responders"}),c.jsx("li",{children:" Sharing situational awareness information"})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-gray-900",children:"Prohibited Use"}),c.jsxs("ul",{className:"text-gray-700 text-sm space-y-1 mt-1",children:[c.jsx("li",{children:" False emergency reports or hoax calls"}),c.jsx("li",{children:" Uploading inappropriate or harmful content"}),c.jsx("li",{children:" Impersonating emergency personnel"}),c.jsx("li",{children:" Using the service for non-emergency purposes"})]})]})]})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx(Ua,{className:"h-6 w-6 text-green-600 mt-1"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"User Responsibilities"}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[c.jsx("h3",{className:"font-medium text-green-900 mb-2",children:"Accurate Information"}),c.jsx("p",{className:"text-green-800 text-sm",children:"Provide truthful, accurate information in emergency reports. False reports can endanger lives and waste resources."})]}),c.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[c.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Content Verification"}),c.jsx("p",{className:"text-blue-800 text-sm",children:"Only upload authentic media. Manipulated or fake content undermines the platform's integrity."})]}),c.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[c.jsx("h3",{className:"font-medium text-purple-900 mb-2",children:"Responder Verification"}),c.jsx("p",{className:"text-purple-800 text-sm",children:"Emergency responders must provide valid credentials and maintain professional conduct."})]}),c.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[c.jsx("h3",{className:"font-medium text-orange-900 mb-2",children:"Privacy Respect"}),c.jsx("p",{className:"text-orange-800 text-sm",children:"Respect privacy of individuals in emergency situations. Avoid sharing personal information unnecessarily."})]})]})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx(Sn,{className:"h-6 w-6 text-purple-600 mt-1"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Platform Features & Limitations"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-gray-900",children:"AI-Powered Verification"}),c.jsx("p",{className:"text-gray-700 text-sm mt-1",children:"Our AI systems analyze content for authenticity and provide risk assessments. While highly accurate, these systems are not infallible and should be used alongside human judgment."})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-gray-900",children:"Blockchain Recording"}),c.jsx("p",{className:"text-gray-700 text-sm mt-1",children:"Evidence hashes are recorded on the Algorand blockchain for immutable proof of existence. This creates a permanent record that cannot be altered or deleted."})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-gray-900",children:"Real-time Communication"}),c.jsx("p",{className:"text-gray-700 text-sm mt-1",children:"Chat and coordination features depend on internet connectivity. In areas with poor connectivity, use alternative communication methods."})]})]})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx(G9,{className:"h-6 w-6 text-red-600 mt-1"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Liability & Disclaimers"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 border-l-4 border-red-500 bg-red-50",children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Service Availability"}),c.jsx("p",{className:"text-red-800 text-sm mt-1",children:"We strive for 99.9% uptime but cannot guarantee uninterrupted service. Technical issues, maintenance, or external factors may affect availability."})]}),c.jsxs("div",{className:"p-4 border-l-4 border-orange-500 bg-orange-50",children:[c.jsx("h3",{className:"font-medium text-orange-900",children:"User-Generated Content"}),c.jsx("p",{className:"text-orange-800 text-sm mt-1",children:"Users are responsible for content they upload. We moderate content but cannot guarantee the accuracy or appropriateness of all user submissions."})]}),c.jsxs("div",{className:"p-4 border-l-4 border-blue-500 bg-blue-50",children:[c.jsx("h3",{className:"font-medium text-blue-900",children:"Third-Party Services"}),c.jsx("p",{className:"text-blue-800 text-sm mt-1",children:"We integrate with third-party services (AI providers, blockchain networks, etc.). We are not responsible for their availability or performance."})]})]})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx(Sn,{className:"h-6 w-6 text-indigo-600 mt-1"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Data Handling & Privacy"}),c.jsxs("p",{className:"text-gray-700 mb-3",children:["Your privacy is important to us. Please review our"," ",c.jsx(jr,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 underline",children:"Privacy Policy"})," ","for detailed information about how we collect, use, and protect your data."]}),c.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:[c.jsx("h3",{className:"font-medium text-indigo-900 mb-2",children:"Emergency Data Sharing"}),c.jsx("p",{className:"text-indigo-800 text-sm",children:"During emergencies, your location and report data may be shared with emergency services, verified responders, and relevant authorities to coordinate response efforts."})]})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx(zr,{className:"h-6 w-6 text-gray-600 mt-1"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Updates to Terms"}),c.jsx("p",{className:"text-gray-700 mb-3",children:"We may update these terms periodically to reflect changes in our service or legal requirements. Significant changes will be communicated through the platform or via email."}),c.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:c.jsxs("p",{className:"text-sm text-gray-700",children:[c.jsx("strong",{children:"Continued Use:"})," By continuing to use the service after changes are posted, you agree to the updated terms."]})})]})]}),c.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Contact Information"}),c.jsx("p",{className:"text-gray-700 mb-4",children:"Questions about these terms? Need to report a violation? Contact us:"}),c.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:c.jsxs("p",{className:"text-sm text-gray-700",children:[c.jsx("strong",{children:"Legal Team:"})," legal@proofvault.io",c.jsx("br",{}),c.jsx("strong",{children:"Emergency Support:"})," support@proofvault.io",c.jsx("br",{}),c.jsx("strong",{children:"Address:"})," ProofVault Crisis Response, 123 Emergency Lane, Safety City, SC 12345",c.jsx("br",{}),c.jsx("strong",{children:"Phone:"})," +1 (555) 123-HELP"]})})]}),c.jsx("div",{className:"border-t border-gray-200 pt-6",children:c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[c.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Acknowledgment"}),c.jsx("p",{className:"text-blue-800 text-sm",children:"By using ProofVault Crisis Response, you acknowledge that you have read, understood, and agree to be bound by these Terms of Service and our Privacy Policy."})]})})]})})]});class vG{constructor(){this.contexts=new Map,this.isConfigured=!1,this.offlineResponses=new Map,this.isConfigured=Pi.isServiceConfigured(),this.initializeOfflineResponses(),this.isConfigured?console.log("ProofBot AI Agent initialized with full capabilities"):console.warn("ProofBot running in offline mode with cached responses")}async initializeSession(e,n={}){const r=`session_${Date.now()}_${Math.random().toString(36).substring(2,8)}`,i={userId:e,sessionId:r,language:n.language||"en",crisisMode:n.crisisMode||!1,location:n.location,conversationHistory:[]};return this.contexts.set(r,i),n.crisisMode&&await rr.storeVoiceMessage(new Blob(["session_init"],{type:"text/plain"}),r),r}async sendMessage(e,n,r="text",i){const s=this.contexts.get(e);if(!s)throw new Error("Session not found");const o={id:`msg_${Date.now()}`,type:"user",content:n,timestamp:new Date,mode:r,language:s.language};s.conversationHistory.push(o);const l=await this.processMessage(s,n,r,i),u={id:`msg_${Date.now()+1}`,type:"bot",content:l.text,timestamp:new Date,mode:l.audioUrl?"voice":"text",audioUrl:l.audioUrl,language:s.language,urgent:l.urgent};return s.conversationHistory.push(u),this.contexts.set(e,s),l}async processMessage(e,n,r,i){try{if(!e.language||e.language==="auto"){const u=await tc.detectLanguage(n);e.language=u.language}let s=n;e.language!=="en"&&(s=(await tc.translateText(n,"en",e.language)).translatedText);const o=await this.analyzeIntent(s,e);let l=await this.generateResponse(o,e,s);if(e.language!=="en"){const u=await tc.translateText(l.text,e.language,"en");l.text=u.translatedText}return(r==="voice"||e.crisisMode)&&(l.audioUrl=await this.generateVoiceResponse(l.text,e.crisisMode,e.language)),l}catch(s){return console.error("ProofBot processing error:",s),this.getFallbackResponse(e,n)}}async analyzeIntent(e,n){if(!this.isConfigured)return this.getMockIntent(e,n);try{const r=`
Analyze this emergency support message and determine:
1. Category: emergency_report, evidence_upload, blockchain_help, offline_sync, general_support
2. Urgency (1-10): How urgent is this request?
3. Entities: Extract location, emergency type, technical issues
4. Action: What should ProofBot do next?

Message: "${e}"
Context: ${n.crisisMode?"CRISIS MODE":"Normal mode"}, Location: ${n.location?"Available":"Unknown"}

Respond with JSON only:`,i=await Pi.analyzeContent(e,r);return{category:this.extractCategory(e),urgency:i.urgencyLevel,entities:i.keyFacts,action:this.determineAction(e,n)}}catch(r){return console.error("Intent analysis failed:",r),this.getMockIntent(e,n)}}async generateResponse(e,n,r){if(!this.isConfigured)return this.getOfflineResponse(e.category,n);try{const i=this.buildSystemPrompt(n),s=this.buildUserPrompt(e,r,n),o=await Pi.analyzeContent(s,i);return{text:o.summary,urgent:e.urgency>7,actions:this.generateActions(e,n),followUp:o.keyFacts.slice(0,3)}}catch(i){return console.error("Response generation failed:",i),this.getOfflineResponse(e.category,n)}}buildSystemPrompt(e){return`You are ProofBot, an AI assistant for ProofVault Crisis Response platform.

PERSONALITY: ${e.crisisMode?"urgent, concise, directive":"professional, helpful, instructional"}
CRISIS MODE: ${e.crisisMode?"ACTIVE - Be concise and urgent":"INACTIVE - Be thorough and educational"}
USER LANGUAGE: ${e.language}
LOCATION: ${e.location?"Available":"Unknown"}

CAPABILITIES:
- Guide emergency reporting (location logging, evidence capture)
- Explain blockchain verification (Algorand timestamping, IPFS storage)
- Troubleshoot offline sync and Crisis Mode
- Connect to: Algorand, Pinata IPFS, Pusher alerts, AI services

RESPONSE RULES:
${e.crisisMode?`
- Keep responses under 50 words
- Use urgent, clear language
- Focus on immediate actions
- Prioritize safety instructions
`:`
- Be educational and thorough
- Explain technical concepts simply
- Provide step-by-step guidance
- Offer additional resources
`}

INTEGRATION STATUS:
- Algorand: ${dc.isConfigured()?"Online":"Offline"}
- IPFS (Pinata): ${Hm.isConfigured()?"Online":"Offline"}
- Real-time (Pusher): ${Rs.isServiceConfigured()?"Online":"Offline"}
- AI Services: ${Pi.isServiceConfigured()?"Online":"Offline"}`}buildUserPrompt(e,n,r){return`
USER REQUEST: "${n}"
INTENT: ${e.category}
URGENCY: ${e.urgency}/10
ENTITIES: ${e.entities.join(", ")}

CONVERSATION HISTORY:
${r.conversationHistory.slice(-4).map(i=>`${i.type}: ${i.content}`).join(`
`)}

Provide helpful guidance based on the intent and context.`}async generateVoiceResponse(e,n,r){try{const i={stability:n?.8:.5,similarity_boost:.75,style:n?.8:.5,use_speaker_boost:!0};return(await Qb.generateNarration(e,void 0,i)).audioUrl}catch(i){console.error("Voice generation failed:",i);return}}generateActions(e,n){const r=[];switch(e.category){case"emergency_report":r.push({type:"navigate",payload:{route:"/emergency"}}),n.location&&r.push({type:"call_function",payload:{function:"prefillLocation",data:n.location}});break;case"evidence_upload":r.push({type:"navigate",payload:{route:"/upload"}}),r.push({type:"show_guide",payload:{guide:"evidence_capture"}});break;case"blockchain_help":r.push({type:"show_guide",payload:{guide:"blockchain_verification"}});break;case"offline_sync":r.push({type:"call_function",payload:{function:"checkOfflineStatus"}});break}return r}extractCategory(e){const n=e.toLowerCase();return n.includes("emergency")||n.includes("report")||n.includes("crisis")?"emergency_report":n.includes("upload")||n.includes("evidence")||n.includes("photo")?"evidence_upload":n.includes("blockchain")||n.includes("algorand")||n.includes("verify")?"blockchain_help":n.includes("offline")||n.includes("sync")||n.includes("crisis mode")?"offline_sync":"general_support"}determineAction(e,n){const r=e.toLowerCase();return r.includes("how to")||r.includes("help me")?"provide_guidance":r.includes("report emergency")?"start_emergency_report":r.includes("upload")||r.includes("capture")?"guide_evidence_upload":"general_assistance"}getMockIntent(e,n){const r=this.extractCategory(e),s=["emergency","urgent","help","crisis","immediate"].some(o=>e.toLowerCase().includes(o))?8:4;return{category:r,urgency:s,entities:[e.split(" ").slice(0,3).join(" ")],action:this.determineAction(e,n)}}initializeOfflineResponses(){this.offlineResponses.set("emergency_report",{text:"I'll help you report an emergency. First, ensure you're safe. Then go to the Emergency tab to create a report. Your location will be automatically captured to help responders find you.",urgent:!0,actions:[{type:"navigate",payload:{route:"/emergency"}}],followUp:["Need immediate help?","Call 911 first","Then use ProofVault"]}),this.offlineResponses.set("evidence_upload",{text:"To upload evidence: 1) Go to Upload tab, 2) Take photo/video or select file, 3) Your evidence will be verified with AI and stored on blockchain for tamper-proof records.",urgent:!1,actions:[{type:"navigate",payload:{route:"/upload"}}],followUp:["Supports photos, videos, audio","Automatic verification","Blockchain timestamping"]}),this.offlineResponses.set("blockchain_help",{text:"Your evidence is secured with: 1) SHA-256 hash generation, 2) IPFS decentralized storage, 3) Algorand blockchain timestamping. This creates tamper-proof records that can't be altered.",urgent:!1,actions:[{type:"show_guide",payload:{guide:"blockchain_verification"}}],followUp:["Immutable records","Cryptographic proof","Decentralized storage"]}),this.offlineResponses.set("offline_sync",{text:"Crisis Mode keeps you operational offline. Your reports are cached locally and sync automatically when online. Check the sync status in the top navigation bar.",urgent:!1,actions:[{type:"call_function",payload:{function:"checkOfflineStatus"}}],followUp:["Works without internet","Auto-sync when online","No data loss"]}),this.offlineResponses.set("general_support",{text:"I'm ProofBot, your AI assistant for emergency response and evidence management. I can help with reporting emergencies, uploading evidence, understanding blockchain verification, and troubleshooting offline features.",urgent:!1,actions:[],followUp:["Emergency reporting","Evidence upload","Blockchain verification","Offline support"]})}getOfflineResponse(e,n){const r=this.offlineResponses.get(e)||this.offlineResponses.get("general_support");return n.crisisMode&&r.text.length>100&&(r.text=r.text.substring(0,100)+"...",r.urgent=!0),{...r}}getFallbackResponse(e,n){return{text:e.crisisMode?"I'm here to help with emergencies. Say 'report emergency' or 'upload evidence' for immediate assistance.":"I'm ProofBot, your AI assistant. I can help with emergency reporting, evidence upload, blockchain verification, and offline sync. What do you need help with?",urgent:e.crisisMode,actions:[],followUp:e.crisisMode?["Report emergency","Upload evidence","Get help"]:["Emergency guide","Evidence help","Blockchain info","Offline support"]}}async getConversationHistory(e){const n=this.contexts.get(e);return(n==null?void 0:n.conversationHistory)||[]}async clearSession(e){this.contexts.delete(e)}async exportConversation(e){const n=this.contexts.get(e);if(!n)return"";const r=n.conversationHistory.map(i=>`[${i.timestamp.toISOString()}] ${i.type.toUpperCase()}: ${i.content}`).join(`
`);return`ProofBot Conversation Export
Session: ${e}
User: ${n.userId}
Language: ${n.language}
Crisis Mode: ${n.crisisMode}

${r}`}isServiceConfigured(){return this.isConfigured}getServiceInfo(){return{configured:this.isConfigured,activeSessions:this.contexts.size,offlineResponsesLoaded:this.offlineResponses.size,supportedLanguages:["en","es","fr","de","uk","ar","zh"],capabilities:["Emergency guidance","Evidence upload help","Blockchain explanation","Offline sync support","Multi-language support","Voice interaction","Crisis mode optimization"]}}}const vy=new vG,wG=({className:t=""})=>{const{crisisMode:e}=ys(),{walletAddress:n}=xs(),[r,i]=Y.useState(!1),[s,o]=Y.useState(!1),[l,u]=Y.useState(null),[h,f]=Y.useState([]),[p,g]=Y.useState(""),[y,_]=Y.useState(!1),[w,b]=Y.useState(!1),[k,x]=Y.useState("en"),[v,C]=Y.useState(!1),F=Y.useRef(null),j=Y.useRef(null);Y.useEffect(()=>{r&&!l&&R()},[r]),Y.useEffect(()=>{var he;(he=F.current)==null||he.scrollIntoView({behavior:"smooth"})},[h]);const R=async()=>{try{let he;try{if(navigator.geolocation){const ge=await new Promise((fe,le)=>{navigator.geolocation.getCurrentPosition(fe,le,{enableHighAccuracy:!0,timeout:5e3,maximumAge:3e5})});he={lat:ge.coords.latitude,lng:ge.coords.longitude}}}catch{console.log("Location not available for ProofBot")}const Ee=await vy.initializeSession(n||"anonymous",{language:k,crisisMode:e.isEnabled,location:he});u(Ee);const Ne=await vy.sendMessage(Ee,e.isEnabled?"Emergency assistance needed":"Hello, I need help with ProofVault","text"),me={id:`welcome_${Date.now()}`,type:"bot",content:Ne.text,timestamp:new Date,mode:"text",audioUrl:Ne.audioUrl,urgent:Ne.urgent};f([me])}catch(he){console.error("Failed to initialize ProofBot session:",he),tt.error("Failed to start ProofBot session")}},z=async(he,Ee="text",Ne)=>{if(!l||!he.trim())return;b(!0);const me={id:`user_${Date.now()}`,type:"user",content:he,timestamp:new Date,mode:Ee,language:k};f(ge=>[...ge,me]),g("");try{const ge=await vy.sendMessage(l,he,Ee,Ne),fe={id:`bot_${Date.now()}`,type:"bot",content:ge.text,timestamp:new Date,mode:ge.audioUrl?"voice":"text",audioUrl:ge.audioUrl,urgent:ge.urgent};f(le=>[...le,fe]),ge.actions&&ge.actions.forEach(le=>{switch(le.type){case"navigate":window.location.href=le.payload.route;break;case"call_function":console.log("ProofBot action:",le.payload);break;case"show_guide":tt.success(`Guide: ${le.payload.guide}`);break}}),ge.audioUrl&&(e.isEnabled||v)&&new Audio(ge.audioUrl).play().catch(console.error)}catch(ge){console.error("ProofBot message failed:",ge);const fe={id:`error_${Date.now()}`,type:"bot",content:"I'm having trouble connecting right now. I'm still here to help with emergency guidance, evidence upload, and blockchain verification. Please try again.",timestamp:new Date,mode:"text"};f(le=>[...le,fe])}finally{b(!1)}},Q=async()=>{try{await Pa.startRecording(),_(!0),tt.success("Listening... Speak now")}catch{tt.error("Microphone access denied")}},$=async()=>{try{const he=await Pa.stopRecording();_(!1);const Ee=await Pa.transcribeAudio(he);Ee?await z(Ee,"voice",he):tt.error("Could not understand audio")}catch{_(!1),tt.error("Voice recording failed")}},X=he=>{he.key==="Enter"&&!he.shiftKey&&(he.preventDefault(),z(p))},te=he=>{new Audio(he).play().catch(console.error)},ae=he=>he.urgent?c.jsx(si,{className:"h-4 w-4 text-red-500"}):he.mode==="voice"?c.jsx(ja,{className:"h-4 w-4 text-blue-500"}):null,Ae=he=>he.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return r?c.jsxs(wt.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},className:`fixed bottom-6 right-6 w-96 bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden z-50 ${t}`,children:[c.jsx("div",{className:`p-4 border-b border-gray-200 ${e.isEnabled?"bg-red-50":"bg-gradient-to-r from-blue-50 to-purple-50"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:`p-2 rounded-lg ${e.isEnabled?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:c.jsx(Gv,{className:"h-4 w-4"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:"ProofBot"}),c.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-600",children:[c.jsx("span",{children:"AI Assistant"}),e.isEnabled&&c.jsxs(c.Fragment,{children:[c.jsx("span",{children:""}),c.jsxs("div",{className:"flex items-center space-x-1 text-red-600",children:[c.jsx(si,{className:"h-3 w-3"}),c.jsx("span",{children:"Crisis Mode"})]})]})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("select",{value:k,onChange:he=>x(he.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",children:[c.jsx("option",{value:"en",children:" EN"}),c.jsx("option",{value:"es",children:" ES"}),c.jsx("option",{value:"fr",children:" FR"}),c.jsx("option",{value:"de",children:" DE"}),c.jsx("option",{value:"uk",children:" UK"}),c.jsx("option",{value:"ar",children:" AR"})]}),c.jsx("button",{onClick:()=>C(!v),className:`p-1 rounded ${v?"bg-green-100 text-green-600":"text-gray-500"}`,title:"Voice mode",children:c.jsx(ja,{className:"h-3 w-3"})}),c.jsx("button",{onClick:()=>o(!s),className:"p-1 text-gray-500 hover:text-gray-700 rounded",children:s?c.jsx(Q9,{className:"h-3 w-3"}):c.jsx(e$,{className:"h-3 w-3"})}),c.jsx("button",{onClick:()=>i(!1),className:"p-1 text-gray-500 hover:text-gray-700 rounded",children:c.jsx(N8,{className:"h-3 w-3"})})]})]})}),c.jsx(Ur,{children:!s&&c.jsxs(wt.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"h-80 overflow-y-auto p-4 space-y-4",children:[h.map(he=>c.jsx(wt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${he.type==="user"?"justify-end":"justify-start"}`,children:c.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-lg ${he.type==="user"?"bg-blue-600 text-white":he.urgent?"bg-red-50 text-red-900 border border-red-200":"bg-gray-100 text-gray-900"}`,children:[c.jsxs("div",{className:"flex items-start space-x-2",children:[he.type==="bot"&&ae(he),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm",children:he.content}),he.audioUrl&&c.jsxs("button",{onClick:()=>te(he.audioUrl),className:"mt-2 flex items-center space-x-1 text-xs opacity-75 hover:opacity-100",children:[c.jsx(ja,{className:"h-3 w-3"}),c.jsx("span",{children:"Play Audio"})]})]})]}),c.jsx("p",{className:"text-xs mt-1 opacity-75",children:Ae(he.timestamp)})]})},he.id)),w&&c.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:c.jsx("div",{className:"bg-gray-100 px-4 py-2 rounded-lg",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600"}),c.jsx("span",{className:"text-sm text-gray-600",children:"ProofBot is thinking..."})]})})}),c.jsx("div",{ref:F})]})}),c.jsx(Ur,{children:!s&&c.jsxs(wt.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"p-4 border-t border-gray-200",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx("input",{ref:j,type:"text",value:p,onChange:he=>g(he.target.value),onKeyPress:X,placeholder:e.isEnabled?"Describe your emergency...":"Ask ProofBot anything...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",disabled:w||y}),y&&c.jsx("div",{className:"absolute inset-0 bg-red-50 border border-red-300 rounded-lg flex items-center justify-center",children:c.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[c.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),c.jsx("span",{className:"text-sm",children:"Listening..."})]})})]}),c.jsx("button",{onClick:y?$:Q,disabled:w,className:`p-2 rounded-lg transition-colors ${y?"bg-red-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"} disabled:opacity-50`,children:y?c.jsx(Xb,{className:"h-4 w-4"}):c.jsx(Or,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>z(p),disabled:!p.trim()||w||y,className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c.jsx(zm,{className:"h-4 w-4"})})]}),h.length<=1&&c.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:[{text:"Report Emergency",urgent:!0},{text:"Upload Evidence",urgent:!1},{text:"Blockchain Help",urgent:!1},{text:"Offline Sync",urgent:!1}].map(he=>c.jsx("button",{onClick:()=>z(he.text),className:`px-3 py-1 text-xs rounded-full transition-colors ${he.urgent?"bg-red-100 text-red-800 hover:bg-red-200":"bg-blue-100 text-blue-800 hover:bg-blue-200"}`,children:he.text},he.text))}),c.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-gray-500",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),c.jsx("span",{children:"ProofBot Online"})]}),e.isEnabled&&c.jsxs("div",{className:"flex items-center space-x-1 text-orange-600",children:[c.jsx(Us,{className:"h-3 w-3"}),c.jsx("span",{children:"Offline Ready"})]})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Dc,{className:"h-3 w-3"}),c.jsx("span",{children:k.toUpperCase()})]})]})]})})]}):c.jsxs(wt.button,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>i(!0),className:`fixed bottom-6 right-6 w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center z-50 ${t}`,children:[c.jsx(Gv,{className:"h-6 w-6"}),e.isEnabled&&c.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full animate-pulse"})]})};function bG(){return c.jsx(iM,{children:c.jsx(S7,{children:c.jsx(D9,{children:c.jsx(I9,{children:c.jsx(NR,{children:c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[c.jsx(x$,{children:c.jsxs(ER,{children:[c.jsx(Li,{path:"/",element:c.jsx(SR,{to:"/emergency",replace:!0})}),c.jsx(Li,{path:"/dashboard",element:c.jsx(RV,{})}),c.jsx(Li,{path:"/upload",element:c.jsx($K,{})}),c.jsx(Li,{path:"/history",element:c.jsx(UK,{})}),c.jsx(Li,{path:"/proof/:id",element:c.jsx(zK,{})}),c.jsx(Li,{path:"/emergency",element:c.jsx(pG,{})}),c.jsx(Li,{path:"/responder",element:c.jsx(mG,{})}),c.jsx(Li,{path:"/verification",element:c.jsx(gG,{})}),c.jsx(Li,{path:"/privacy",element:c.jsx(xG,{})}),c.jsx(Li,{path:"/terms",element:c.jsx(yG,{})})]})}),c.jsx(wG,{}),c.jsx(EB,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#1F2937",color:"#F9FAFB",borderRadius:"12px",padding:"16px"}}})]})})})})})})}L6(document.getElementById("root")).render(c.jsx(Y.StrictMode,{children:c.jsx(bG,{})}));
